if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a={baseUrl:"http://103.38.83.91:8080",timeout:3e4,uploadUrl:"/api/upload",wsUrl:"wss://api.example.com/ws",debug:!1,version:"1.0.0",env:"production"};a.debug&&(t("log","at utils/request.js:11","当前API环境配置:",a),t("log","at utils/request.js:12","API基础路径:",a.baseUrl),a.actualBaseUrl&&t("log","at utils/request.js:14","实际API地址:",a.actualBaseUrl));const o="auth_token",n=()=>uni.getStorageSync(o)||"",l=e=>{uni.setStorageSync(o,e)},s=e=>{const o={url:e.url.startsWith("http")?e.url:a.baseUrl+e.url,method:e.method||"GET",data:e.data||{},params:e.params||{},header:e.header||{},timeout:e.timeout||a.timeout||6e4};if("GET"===o.method&&Object.keys(o.params).length>0){const e=Object.keys(o.params).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(o.params[e])}`)).join("&");o.url=`${o.url}${o.url.includes("?")?"&":"?"}${e}`}a.debug&&(t("log","at utils/request.js:135",`${o.method} 请求:`,o.url),o.data&&Object.keys(o.data).length>0&&t("log","at utils/request.js:137","请求数据:",o.data));const s=(e=>{const t=n();return t&&(e.header.Authorization=`Bearer ${encodeURIComponent(t)}`),e.header["Content-Type"]||(e.header["Content-Type"]="application/json"),e})(o);return new Promise(((e,o)=>{uni.request({url:s.url,method:s.method,data:s.data,header:s.header,timeout:s.timeout,success:n=>{a.debug&&t("log","at utils/request.js:154","响应数据:",n),n.config=s,(e=>{if(200===e.statusCode)return e.config&&e.config.url&&(e.config.url.includes("/users/login")||e.config.url.includes("/user/login"))&&e.data&&e.data.data?(l(e.data.data),a.debug&&t("log","at utils/request.js:73","已保存token:",e.data.data),Promise.resolve(e.data)):Promise.resolve(e.data);{const t=`请求失败: ${e.statusCode}`;return uni.showToast({title:t,icon:"none"}),401!==e.statusCode&&403!==e.statusCode||(l(""),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500)),Promise.reject(new Error(`HTTP错误: ${e.statusCode}`))}})(n).then((t=>e(t))).catch((e=>o(e)))},fail:e=>{a.debug&&t("error","at utils/request.js:167","请求失败:",e),uni.showToast({title:"网络错误，请检查网络连接",icon:"none"}),o(new Error("网络请求失败"))}})}))},c={getTeamList:()=>s({url:"/teams/list",method:"GET"}),getTeamDetail:e=>new Promise(((a,o)=>{s({url:`/teams/${e}`,method:"GET"}).then((e=>{a(e)})).catch((o=>{t("log","at api/modules/team.js:31","使用模拟数据"),a(mockTeamDetail(e))}))})),getTeamMembers:e=>s({url:`/teams/${e}/members`,method:"GET"}),createTeam:e=>s({url:"/teams/create",method:"POST",data:e}),joinTeam:(e,t)=>s({url:`/teams/${e}/join`,method:"POST",data:t}),applyRole:(e,t,a)=>s({url:`/teams/${e}/roles/${t}/apply`,method:"POST",data:a}),updateTeam:(e,t)=>s({url:`/teams/${e}`,method:"PUT",data:t}),disbandTeam:e=>s({url:`/teams/${e}/disband`,method:"POST"}),leaveTeam:e=>new Promise((e=>{setTimeout((()=>{e({code:200,message:"已成功退出团队"})}),500)}))},i={getCompetitionsList:(e={})=>s({url:"/competitions/list",method:"GET",params:e}),getCompetitionDetail(e){const t=n();return t?s({url:`/competitions/${e}`,method:"GET",header:{Authorization:`Bearer ${t}`}}):(uni.showToast({title:"请先登录",icon:"none"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500),Promise.reject(new Error("未登录")))}},r={user:{login:e=>(t("log","at api/modules/user.js:15","登录请求参数:",e),s({url:"/users/login",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{phone:e.phone,password:e.password}}).then((e=>"string"==typeof e&&e.length>20?(l(e),t("log","at api/modules/user.js:31","登录成功，已保存token"),{token:e,isLogin:!0}):e))),register:e=>(t("log","at api/modules/user.js:49","注册请求参数:",e),t("log","at api/modules/user.js:50","注册请求URL:","/users/register (将通过代理转发)"),s({url:"/users/register",method:"POST",data:e})),getUserInfo:()=>s({url:"/user/info",method:"GET"}),logout:()=>s({url:"/user/logout",method:"POST"}).finally((()=>{l("")})),updateUserInfo:e=>s({url:"/user/update",method:"PUT",data:e}),changePassword:e=>s({url:"/user/password",method:"PUT",data:e})},team:c,competitions:i},m={__name:"login",setup(t){const a=e.ref(!1),o=e.ref(!0),n=e.ref(!1),l=e.reactive({phone:"",password:""}),s=e.reactive({phone:"",password:"",realName:"",schoolId:1,role:"student",major:"",studentTeacherId:""});function c(){n.value=!n.value}function i(){a.value=!a.value}function m(){o.value=!o.value}async function d(){if(l.phone&&l.password)try{await r.user.login({phone:l.phone,password:l.password});uni.showToast({title:"登录成功",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/index/index"})}),1500)}catch(e){uni.showToast({title:e.message||"登录失败",icon:"none"})}else uni.showToast({title:"请输入手机号和密码",icon:"none"})}async function u(){if(s.phone)if(s.password)if(s.realName)if(s.major)if(s.studentTeacherId)try{await r.user.register(s);uni.showToast({title:"注册成功",icon:"success"}),n.value=!1}catch(e){uni.showToast({title:e.message||"注册失败",icon:"none"})}else uni.showToast({title:"请输入学号",icon:"none"});else uni.showToast({title:"请输入专业",icon:"none"});else uni.showToast({title:"请输入姓名",icon:"none"});else uni.showToast({title:"请输入密码",icon:"none"});else uni.showToast({title:"请输入手机号",icon:"none"})}function p(){uni.showToast({title:"忘记密码功能开发中",icon:"none"})}function g(e){uni.showToast({title:`${e}登录功能开发中`,icon:"none"})}function v(){uni.showToast({title:"服务条款",icon:"none"})}function E(){uni.showToast({title:"隐私政策",icon:"none"})}return(t,r)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"top-image"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",mode:"aspectFill",class:"campus-image"})]),e.createElementVNode("view",{class:"welcome-text"},[e.createElementVNode("text",{class:"welcome-title"},e.toDisplayString(n.value?"注册账号":"欢迎回来"),1),e.createElementVNode("text",{class:"welcome-subtitle"},e.toDisplayString(n.value?"创建您的校园平台账号":"登录您的校园平台账号，开启校园新体验"),1)]),n.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"login-form"},[e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-mobile"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"手机号",class:"form-input","onUpdate:modelValue":r[2]||(r[2]=e=>s.phone=e)},null,512),[[e.vModelText,s.phone]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-lock"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"密码",class:"form-input","onUpdate:modelValue":r[3]||(r[3]=e=>s.password=e),password:o.value},null,8,["password"]),[[e.vModelText,s.password]]),e.createElementVNode("text",{class:e.normalizeClass(["iconfont",o.value?"icon-eye-slash":"icon-eye"]),onClick:m},null,2)])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-user"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"真实姓名",class:"form-input","onUpdate:modelValue":r[4]||(r[4]=e=>s.realName=e)},null,512),[[e.vModelText,s.realName]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-graduation"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"专业",class:"form-input","onUpdate:modelValue":r[5]||(r[5]=e=>s.major=e)},null,512),[[e.vModelText,s.major]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-idcard"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"学号",class:"form-input","onUpdate:modelValue":r[6]||(r[6]=e=>s.studentTeacherId=e)},null,512),[[e.vModelText,s.studentTeacherId]])])]),e.createElementVNode("button",{class:"login-btn",onClick:u,"hover-class":"btn-hover"},"注册"),e.createElementVNode("button",{class:"register-btn",onClick:c,"hover-class":"register-btn-hover"},"返回登录")])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"login-form"},[e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-user"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"学号/手机号",class:"form-input","onUpdate:modelValue":r[0]||(r[0]=e=>l.phone=e)},null,512),[[e.vModelText,l.phone]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createElementVNode("text",{class:"iconfont icon-lock"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"密码",class:"form-input","onUpdate:modelValue":r[1]||(r[1]=e=>l.password=e),password:o.value},null,8,["password"]),[[e.vModelText,l.password]]),e.createElementVNode("text",{class:e.normalizeClass(["iconfont",o.value?"icon-eye-slash":"icon-eye"]),onClick:m},null,2)])]),e.createElementVNode("view",{class:"remember-row"},[e.createElementVNode("view",{class:"remember-me"},[e.createElementVNode("checkbox",{value:"1",checked:a.value,onClick:i,class:"remember-checkbox",color:"#4A90E2"},null,8,["checked"]),e.createElementVNode("text",{class:"remember-text"},"记住我")]),e.createElementVNode("text",{class:"forgot-password",onClick:p},"忘记密码?")]),e.createElementVNode("button",{class:"login-btn",onClick:d,"hover-class":"btn-hover"},"登录"),e.createElementVNode("button",{class:"register-btn",onClick:c,"hover-class":"register-btn-hover"},"注册新账号")])),n.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"other-login"},[e.createElementVNode("view",{class:"divider"},[e.createElementVNode("view",{class:"divider-line"}),e.createElementVNode("text",{class:"divider-text"},"其他登录方式"),e.createElementVNode("view",{class:"divider-line"})]),e.createElementVNode("view",{class:"social-buttons"},[e.createElementVNode("view",{class:"social-btn",onClick:r[7]||(r[7]=e=>g("wechat")),"hover-class":"social-btn-hover"},[e.createElementVNode("text",{class:"iconfont icon-weixin"})]),e.createElementVNode("view",{class:"social-btn",onClick:r[8]||(r[8]=e=>g("qq")),"hover-class":"social-btn-hover"},[e.createElementVNode("text",{class:"iconfont icon-qq"})]),e.createElementVNode("view",{class:"social-btn",onClick:r[9]||(r[9]=e=>g("phone")),"hover-class":"social-btn-hover"},[e.createElementVNode("text",{class:"iconfont icon-mobile"})])])])),e.createElementVNode("view",{class:"footer-text"},[e.createElementVNode("text",{class:"agreement-text"},e.toDisplayString(n.value?"注册即表示您同意我们的":"登录即表示您同意我们的"),1),e.createElementVNode("text",{class:"link-text",onClick:v},"服务条款"),e.createElementVNode("text",{class:"agreement-text"},"和"),e.createElementVNode("text",{class:"link-text",onClick:E},"隐私政策")])])]))}},d=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a},u=d({__name:"TeamCard",props:{team:{type:Object,required:!0},index:{type:Number,default:0}},emits:["detail","apply"],setup(t,{emit:a}){const o=t,n=a,l=e.computed((()=>.1*o.index+"s")),s=e.computed((()=>o.team.viewCount&&o.team.viewCount>100)),c=e.computed((()=>"0"===o.team.status||"组队中"===o.team.statusText)),i=e.computed((()=>o.team.positions||o.team.roles||[])),r=e.computed((()=>o.team.avatars?o.team.avatars:o.team.teamMemberAvatars?o.team.teamMemberAvatars.filter((e=>e&&!e.includes(".pdf"))):[])),m=e.computed((()=>"0"===o.team.status||"组队中"===o.team.statusText));function d(e){return u(e)>=p(e)}function u(e){return e.current||e.currentCount||0}function p(e){return e.total||e.requiredCount||0}function g(){n("detail",o.team.id)}function v(){n("apply",o.team.id)}return e.computed((()=>"number"==typeof o.team.teamProgress)),e.computed((()=>null!==o.team.maxMemberCount&&o.team.maxMemberCount>0)),(a,n)=>(e.openBlock(),e.createElementBlock("view",{class:"team-item card-hover animate__animated animate__fadeInUp",style:e.normalizeStyle({"animation-delay":l.value}),onClick:g},[e.createElementVNode("view",{class:"team-top"},[e.createElementVNode("view",{class:"flex-between"},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"title-with-icon"},[e.createElementVNode("text",{class:"team-title"},e.toDisplayString(t.team.title||t.team.name),1),s.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-spark hot-icon"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"view-count"},[e.createElementVNode("text",{class:"view-text"},e.toDisplayString(t.team.viewCount),1)])]),e.createElementVNode("view",{class:"tag-row"},[e.createElementVNode("text",{class:"tag orange-tag"},e.toDisplayString(t.team.competitionName),1)])]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:e.normalizeClass(["status-tag",{pulse:c.value}])},e.toDisplayString(t.team.statusText),3),e.createElementVNode("view",{class:"date-info"},"截止: "+e.toDisplayString(t.team.deadline||t.team.recruitmentDeadlineFormatted),1)])])]),i.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"role-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"role-tag"},[e.createElementVNode("text",{class:"role-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:e.normalizeClass(["role-count",{success:d(t),warning:!d(t)}])},e.toDisplayString(u(t))+"/"+e.toDisplayString(p(t)),3)])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"team-desc"},e.toDisplayString(t.team.description),1),e.createElementVNode("view",{class:"team-bottom"},[e.createElementVNode("view",{class:"flex-center"},[e.createElementVNode("view",{class:"team-avatars"},[r.value&&r.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(r.value.slice(0,3),((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,src:t,class:"team-avatar"},null,8,["src"])))),128)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-avatar"},[e.createElementVNode("text",{class:"iconfont icon-user"})]))]),e.createElementVNode("text",{class:"member-count"},e.toDisplayString(o.team.memberCount||o.team.currentMemberCount||0)+"人已加入",1)]),m.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"join-btn blue-join",onClick:e.withModifiers(v,["stop"])}," 申请加入 ")):(e.openBlock(),e.createElementBlock("view",{key:1,class:"join-btn gray-join"}," 已组满 "))])],4))}},[["__scopeId","data-v-0207fb67"]]),p=d({__name:"TabBar",props:{activeTab:{type:String,default:"home",validator:e=>["home","competition","team","profile"].includes(e)}},emits:["tab-change","publish"],setup(a,{emit:o}){const n=a,l=o;function s(e){if(e!==n.activeTab){const a={home:"/pages/index/index",competition:"/pages/competition/index",team:"/pages/team/list",profile:"/pages/profile/index"};uni.switchTab({url:a[e],fail:a=>{t("error","at components/TabBar.vue:75","切换Tab失败:",a),l("tab-change",e)}})}}function c(){l("publish")}return(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"tab-bar"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"home"===a.activeTab}]),onClick:o[0]||(o[0]=e=>s("home"))},[e.createElementVNode("text",{class:"iconfont icon-home"}),e.createElementVNode("text",{class:"tab-text"},"首页"),"home"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"competition"===a.activeTab}]),onClick:o[1]||(o[1]=e=>s("competition"))},[e.createElementVNode("text",{class:"iconfont icon-trophy"}),e.createElementVNode("text",{class:"tab-text"},"竞赛"),"competition"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:"publish-btn-container"},[e.createElementVNode("view",{class:"publish-btn pulse",onClick:c},[e.createElementVNode("text",{class:"iconfont icon-plus"})]),e.createElementVNode("text",{class:"publish-text"},"发布")]),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"team"===a.activeTab}]),onClick:o[2]||(o[2]=e=>s("team"))},[e.createElementVNode("text",{class:"iconfont icon-users"}),e.createElementVNode("text",{class:"tab-text"},"队伍"),"team"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"profile"===a.activeTab}]),onClick:o[3]||(o[3]=e=>s("profile"))},[e.createElementVNode("text",{class:"iconfont icon-user"}),e.createElementVNode("text",{class:"tab-text"},"我的"),"profile"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2)]))}},[["__scopeId","data-v-5edeffa3"]]),g={__name:"index",setup(a){const o=e.ref([]),n=e.ref([]);function l(e){"competition"===e?uni.navigateTo({url:"/pages/competition/index"}):uni.showToast({title:`导航到${e}页面`,icon:"none"})}function s(e){"competition"===e?uni.navigateTo({url:"/pages/competition/index"}):uni.showToast({title:`查看所有${e}`,icon:"none"})}function r(e,t){"competition"===e?uni.navigateTo({url:`/pages/competition/detail?id=${t}`}):uni.navigateTo({url:`/pages/team/detail?id=${t}`})}function m(e){uni.showModal({title:"申请确认",content:"确定要申请加入该团队吗？",success:function(e){e.confirm&&uni.showToast({title:"申请已发送",icon:"success"})}})}function d(e){"competition"===e?uni.switchTab({url:"/pages/competition/index"}):"team"===e?uni.switchTab({url:"/pages/team/list"}):"profile"===e&&uni.switchTab({url:"/pages/profile/index"})}function g(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})}function v(){setTimeout(v,3e3)}return e.onMounted((()=>{v(),async function(){try{const e=await c.getTeamList();200===e.code&&e.data&&e.data.list&&(o.value=e.data.list.slice(0,10),t("log","at pages/index/index.vue:189","获取到队伍列表数据:",o.value))}catch(e){t("error","at pages/index/index.vue:192","获取队伍数据失败:",e)}}(),async function(){try{const e=await i.getCompetitionsList();200===e.code&&e.data&&e.data.list&&(n.value=e.data.list.slice(0,3),t("log","at pages/index/index.vue:176","获取到热门竞赛数据:",n.value))}catch(e){t("error","at pages/index/index.vue:179","获取竞赛数据失败:",e)}}()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"search-container animate__animated animate__fadeInDown"},[e.createElementVNode("view",{class:"search-box-wrapper"},[e.createElementVNode("input",{class:"search-box",type:"text",placeholder:"搜索竞赛、项目或队伍","confirm-type":"search"}),e.createElementVNode("text",{class:"iconfont icon-search search-icon"})])]),e.createElementVNode("view",{class:"swiper-container"},[e.createElementVNode("swiper",{class:"swiper animate__animated animate__fadeIn",circular:"",autoplay:"",interval:"3000",duration:"500","indicator-dots":"","indicator-active-color":"#3B82F6","indicator-color":"rgba(0, 0, 0, 0.2)"},[e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"互联网+创新创业大赛"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("text",{class:"iconfont icon-calendar date-icon"}),e.createElementVNode("text",{class:"date-text"},"报名截止：5月15日")])])])]),e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"挑战杯创业计划大赛"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("text",{class:"iconfont icon-calendar date-icon"}),e.createElementVNode("text",{class:"date-text"},"报名截止：6月10日")])])])]),e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"创青春创业大赛"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("text",{class:"iconfont icon-calendar date-icon"}),e.createElementVNode("text",{class:"date-text"},"报名截止：7月5日")])])])])])]),e.createElementVNode("view",{class:"menu-container"},[e.createElementVNode("view",{class:"menu-grid"},[e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.1s"},onClick:a[0]||(a[0]=e=>l("competition"))},[e.createElementVNode("view",{class:"menu-icon blue"},[e.createElementVNode("text",{class:"iconfont icon-trophy"})]),e.createElementVNode("text",{class:"menu-text"},"竞赛活动")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.2s"},onClick:a[1]||(a[1]=e=>l("findPartner"))},[e.createElementVNode("view",{class:"menu-icon green"},[e.createElementVNode("text",{class:"iconfont icon-users"})]),e.createElementVNode("text",{class:"menu-text"},"寻找队友")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.3s"},onClick:a[2]||(a[2]=e=>l("project"))},[e.createElementVNode("view",{class:"menu-icon purple"},[e.createElementVNode("text",{class:"iconfont icon-project"})]),e.createElementVNode("text",{class:"menu-text"},"项目展示")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.4s"},onClick:a[3]||(a[3]=e=>l("schedule"))},[e.createElementVNode("view",{class:"menu-icon orange"},[e.createElementVNode("text",{class:"iconfont icon-calendar"})]),e.createElementVNode("text",{class:"menu-text"},"日程安排")])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title animate__animated animate__fadeInLeft"},"热门竞赛"),e.createElementVNode("text",{class:"view-all animate__animated animate__fadeInRight",onClick:a[4]||(a[4]=e=>s("competition"))},"查看全部")]),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"competition-item card-hover animate__animated animate__fadeInUp",style:{"animation-delay":"0.1s"},onClick:a[5]||(a[5]=e=>r("competition",2)),key:t.id},[e.createElementVNode("view",{class:"competition-flex"},[e.createElementVNode("view",{class:"competition-image-container"},[e.createElementVNode("image",{class:"competition-image",src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800",mode:"aspectFill"})]),e.createElementVNode("view",{class:"competition-content"},[e.createElementVNode("view",{class:"flex-between"},[e.createElementVNode("text",{class:"competition-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"status-tag pulse"},e.toDisplayString(t.status),1)]),e.createElementVNode("view",{class:"tag-row"},[e.createElementVNode("text",{class:"tag green-tag"},e.toDisplayString(t.category),1),e.createElementVNode("text",{class:"tag gray-tag"},e.toDisplayString(t.level),1)]),e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"iconfont icon-clock"}),e.createElementVNode("text",{class:"info-text"},"报名截止: "+e.toDisplayString(t.registrationDeadlineFormatted),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"iconfont icon-team"}),e.createElementVNode("text",{class:"info-text"},"3-6人/队")])])])])])))),128))])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title animate__animated animate__fadeInLeft"},"热门队伍"),e.createElementVNode("text",{class:"view-all animate__animated animate__fadeInRight",onClick:a[6]||(a[6]=e=>s("team"))},"查看全部")]),e.createElementVNode("view",{class:"team-list"},[o.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(o.value,((t,o)=>(e.openBlock(),e.createBlock(u,{key:t.id,team:t,index:o,onDetail:a[7]||(a[7]=e=>r("team",e)),onApply:m},null,8,["team","index"])))),128)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"加载中...")]))])]),e.createVNode(p,{"active-tab":"home",onTabChange:d,onPublish:g})]))}};const v=d({data:()=>({defaultAvatar:"https://randomuser.me/api/portraits/men/1.jpg",teamId:null,teamInfo:{},teamMembers:[],showPhone:!1,isLoading:!0}),computed:{isTeamMember:()=>!1,isTeamLeader:()=>!1,hasAvailableRoles(){return!!this.teamInfo.roles&&this.teamInfo.roles.some((e=>e.currentCount<e.requiredCount))}},onLoad(e){t("log","at pages/team/detail.vue:230","队伍详情页面参数:",e),e&&e.id?(this.teamId=e.id,this.getTeamDetail()):(uni.showToast({title:"队伍ID不能为空",icon:"none"}),setTimeout((()=>{uni.navigateBack()}),1500))},onShow(){this.teamId&&this.getTeamDetail()},methods:{getStatusClass(e){switch(e){case"0":default:return"status-recruiting";case"1":return"status-filled";case"2":return"status-disbanded"}},getStatusIcon(e){switch(e){case"0":default:return"icon-check-circle";case"1":return"icon-hourglass";case"2":return"icon-times-circle"}},hidePhone:e=>e?e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"",togglePhone(){this.showPhone=!this.showPhone},copyText(e){uni.setClipboardData({data:e,success:()=>{uni.showToast({title:"复制成功",icon:"success"})}})},goBack(){uni.navigateBack()},goToCompetition(e){uni.navigateTo({url:"/pages/competition/detail?id=1"})},applyRole(e){uni.showModal({title:"申请加入",content:"确定要申请该角色吗？",success:e=>{e.confirm&&uni.showToast({title:"申请已提交",icon:"success"})}})},showApplyOptions(){if(this.teamInfo.roles&&this.teamInfo.roles.length>0){const e=this.teamInfo.roles.filter((e=>e.currentCount<e.requiredCount));if(e.length>1){const t=e.map((e=>`${e.name}（${e.currentCount}/${e.requiredCount}）`));uni.showActionSheet({itemList:t,success:t=>{this.applyRole(e[t.tapIndex].id)}})}else 1===e.length&&this.applyRole(e[0].id)}},editTeam(){uni.navigateTo({url:`/pages/team/edit?id=${this.teamId}`})},disbandTeam(){uni.showModal({title:"解散队伍",content:"确定要解散该队伍吗？此操作不可撤销",confirmColor:"#f56c6c",success:e=>{e.confirm&&uni.showToast({title:"队伍已解散",icon:"success"})}})},leaveTeam(){uni.showModal({title:"退出队伍",content:"确定要退出该队伍吗？",confirmColor:"#f56c6c",success:e=>{e.confirm&&c.leaveTeam(this.teamId).then((()=>{uni.showToast({title:"已退出队伍",icon:"success",success:()=>{setTimeout((()=>{uni.navigateBack()}),1500)}})})).catch((e=>{uni.showToast({title:"退出失败",icon:"none"})}))}})},async getTeamMembers(){try{const e=await c.getTeamMembers(this.teamId);e&&200===e.code&&e.data?(this.teamMembers=e.data,t("log","at pages/team/detail.vue:396","获取到队伍成员:",this.teamMembers)):t("log","at pages/team/detail.vue:398","获取队伍成员失败:",null==e?void 0:e.message)}catch(e){t("error","at pages/team/detail.vue:401","获取队伍成员出错",e)}},async getTeamDetail(){this.isLoading=!0;try{const e=await c.getTeamDetail(this.teamId);e&&200===e.code&&e.data?(this.teamInfo=e.data,t("log","at pages/team/detail.vue:412","获取到队伍详情:",this.teamInfo),this.getTeamMembers()):(uni.showToast({title:(null==e?void 0:e.message)||"获取队伍详情失败",icon:"none"}),t("log","at pages/team/detail.vue:420","获取队伍详情失败:",e))}catch(e){t("error","at pages/team/detail.vue:423","获取队伍详情出错",e),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{this.isLoading=!1}}}},[["render",function(t,a,o,n,l,s){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"top-bar"},[e.createElementVNode("view",{class:"flex-between px-4 py-3"},[e.createElementVNode("view",{class:"back-btn",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("text",{class:"iconfont icon-arrow-left"})]),e.createElementVNode("text",{class:"page-title"},e.toDisplayString(l.teamInfo.name||"队伍详情"),1),e.createElementVNode("view",{class:"header-actions"},[e.createElementVNode("text",{class:"iconfont icon-star mr-3"}),e.createElementVNode("text",{class:"iconfont icon-share"})])])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("view",{class:"flex-between mb-3"},[e.createElementVNode("view",{class:"competition-link",onClick:a[1]||(a[1]=e=>s.goToCompetition(l.teamInfo.competitionId))},[e.createElementVNode("text",{class:"iconfont icon-trophy mr-1 blue-text"}),e.createElementVNode("view",{class:"blue-text"},"关联竞赛："+e.toDisplayString(l.teamInfo.competitionName),1)])]),e.createElementVNode("view",{class:"leader-info"},[e.createElementVNode("image",{class:"leader-avatar",src:l.teamInfo.leaderAvatarUrl||l.defaultAvatar},null,8,["src"]),e.createElementVNode("view",{class:"leader-detail"},[e.createElementVNode("text",{class:"leader-name"},"队长："+e.toDisplayString(l.teamInfo.leaderName),1),e.createElementVNode("text",{class:"leader-major"},e.toDisplayString(l.teamInfo.leaderMajor||"未设置专业"),1)]),e.createElementVNode("view",{class:e.normalizeClass(["status-tag",s.getStatusClass(l.teamInfo.status)])},[e.createElementVNode("text",null,e.toDisplayString(l.teamInfo.statusText),1)],2)]),e.createElementVNode("view",{class:"team-desc-section"},[e.createElementVNode("text",{class:"section-title"},"队伍描述"),e.createElementVNode("text",{class:"desc-text"},e.toDisplayString(l.teamInfo.description),1)]),e.createElementVNode("view",{class:"team-meta"},[e.createElementVNode("text",{class:"meta-item"},"组队截止："+e.toDisplayString(l.teamInfo.recruitmentDeadlineFormatted),1),e.createElementVNode("view",{class:"view-count"},[e.createElementVNode("text",{class:"iconfont icon-eye"}),e.createElementVNode("text",null,"浏览次数："+e.toDisplayString(l.teamInfo.viewCount),1)])])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("text",{class:"section-header"},"招募角色"),e.createElementVNode("view",{class:"role-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.teamInfo.roles,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["role-card",{"role-filled":t.currentCount>=t.requiredCount}]),key:t.id},[e.createElementVNode("view",{class:"flex-between mb-2"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"role-title"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"role-count"},"需求："+e.toDisplayString(t.requiredCount)+"人 / 已招募："+e.toDisplayString(t.currentCount)+"人",1)]),e.createElementVNode("view",{class:e.normalizeClass(["role-status-tag",t.currentCount>=t.requiredCount?"filled-tag":"recruiting-tag"])},e.toDisplayString(t.currentCount>=t.requiredCount?"已满员":"招募中"),3)]),e.createElementVNode("text",{class:"role-desc"},e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"skill-section"},[e.createElementVNode("text",{class:"skill-header"},"技能要求:"),e.createElementVNode("view",{class:"skill-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.skillRequirements,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:"skill-tag",key:a},e.toDisplayString(t),1)))),128))])]),e.createElementVNode("button",{class:e.normalizeClass(["apply-btn",t.currentCount>=t.requiredCount?"disabled-btn":"active-btn"]),disabled:t.currentCount>=t.requiredCount,onClick:e=>s.applyRole(t.id)},[t.currentCount<t.requiredCount?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-paper-plane"})):e.createCommentVNode("",!0),e.createTextVNode(" 申请加入 ")],10,["disabled","onClick"])],2)))),128))])]),l.teamMembers.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"队伍成员 ("+e.toDisplayString(l.teamMembers.length)+")",1),e.createElementVNode("view",{class:"member-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.teamMembers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"member-item",key:a},[e.createElementVNode("image",{class:e.normalizeClass(["member-avatar",{"leader-border2":t.isLeader}]),src:t.userAvatarUrl||l.defaultAvatar},null,10,["src"]),e.createElementVNode("text",{class:"member-name"},[e.createTextVNode(e.toDisplayString(t.userName)+" ",1),t.roleName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"member-role"},"("+e.toDisplayString(t.roleName)+")",1)):e.createCommentVNode("",!0),t.isLeader?(e.openBlock(),e.createElementBlock("view",{key:1,class:"leader-label"},"(队长)")):e.createCommentVNode("",!0)])])))),128))])])):e.createCommentVNode("",!0),l.teamInfo.teachers&&l.teamInfo.teachers.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"指导老师"),e.createElementVNode("view",{class:"member-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.teamInfo.teachers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"member-item",key:a},[e.createElementVNode("image",{class:"member-avatar",src:t.avatarUrl||l.defaultAvatar},null,8,["src"]),e.createElementVNode("text",{class:"member-name"},e.toDisplayString(t.name),1)])))),128))])])):e.createCommentVNode("",!0),l.teamInfo.contactInfo?(e.openBlock(),e.createElementBlock("view",{key:2,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"联系方式"),e.createElementVNode("view",{class:"contact-list"},[l.teamInfo.contactInfo.wechat?(e.openBlock(),e.createElementBlock("view",{key:0,class:"contact-item"},[e.createElementVNode("text",{class:"iconfont icon-weixin contact-icon wechat-color"}),e.createElementVNode("text",{class:"contact-text"},"微信："+e.toDisplayString(l.teamInfo.contactInfo.wechat),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[2]||(a[2]=e=>s.copyText(l.teamInfo.contactInfo.wechat))},"复制")])):e.createCommentVNode("",!0),l.teamInfo.contactInfo.phone?(e.openBlock(),e.createElementBlock("view",{key:1,class:"contact-item"},[e.createElementVNode("text",{class:"iconfont icon-phone contact-icon phone-color"}),e.createElementVNode("text",{class:"contact-text"},"电话："+e.toDisplayString(l.showPhone?l.teamInfo.contactInfo.phone:s.hidePhone(l.teamInfo.contactInfo.phone)),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[3]||(a[3]=(...e)=>s.togglePhone&&s.togglePhone(...e))},e.toDisplayString(l.showPhone?"隐藏":"查看"),1)])):e.createCommentVNode("",!0),l.teamInfo.contactInfo.qq?(e.openBlock(),e.createElementBlock("view",{key:2,class:"contact-item"},[e.createElementVNode("text",{class:"iconfont icon-qq contact-icon qq-color"}),e.createElementVNode("text",{class:"contact-text"},"QQ群："+e.toDisplayString(l.teamInfo.contactInfo.qq),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[4]||(a[4]=e=>s.copyText(l.teamInfo.contactInfo.qq))},"复制")])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"footer-bar"},[!s.isTeamMember&&"0"===l.teamInfo.status&&s.hasAvailableRoles?(e.openBlock(),e.createElementBlock("button",{key:0,class:"full-btn primary-btn",onClick:a[5]||(a[5]=(...e)=>s.showApplyOptions&&s.showApplyOptions(...e))},[e.createElementVNode("text",{class:"iconfont icon-user-plus"}),e.createTextVNode(" 申请加入队伍 ")])):e.createCommentVNode("",!0),s.isTeamMember||"1"!==l.teamInfo.status&&"2"!==l.teamInfo.status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,class:"full-btn disabled-btn",disabled:""},e.toDisplayString("1"===l.teamInfo.status?"队伍已满员":"队伍已解散"),1)),s.isTeamLeader?(e.openBlock(),e.createElementBlock("view",{key:2,class:"btn-group"},[e.createElementVNode("button",{class:"half-btn primary-btn",onClick:a[6]||(a[6]=(...e)=>s.editTeam&&s.editTeam(...e))},[e.createElementVNode("text",{class:"iconfont icon-edit"}),e.createTextVNode(" 编辑队伍 ")]),e.createElementVNode("button",{class:"half-btn danger-btn",onClick:a[7]||(a[7]=(...e)=>s.disbandTeam&&s.disbandTeam(...e))},[e.createElementVNode("text",{class:"iconfont icon-trash"}),e.createTextVNode(" 解散队伍 ")])])):e.createCommentVNode("",!0),s.isTeamMember&&!s.isTeamLeader?(e.openBlock(),e.createElementBlock("button",{key:3,class:"full-btn danger-btn",onClick:a[8]||(a[8]=(...e)=>s.leaveTeam&&s.leaveTeam(...e))},[e.createElementVNode("text",{class:"iconfont icon-signout"}),e.createTextVNode(" 退出队伍 ")])):e.createCommentVNode("",!0)])])}]]),E={__name:"list",setup(a){const o=e.ref(["全部","学科竞赛","创新创业","体育竞赛","文艺比赛"]),n=e.ref(0),l=e.ref({code:200,message:"操作成功",data:{pageNum:1,pageSize:10,total:8,pages:1,list:[],hasPrevious:!1,hasNext:!1}});function s(e){uni.navigateTo({url:`/pages/team/detail?id=${e}`})}function c(e){uni.showModal({title:"申请确认",content:"确定要申请加入该团队吗？",success:function(e){e.confirm&&uni.showToast({title:"申请已发送",icon:"success"})}})}function i(){uni.navigateTo({url:"/pages/team/create"})}function r(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"competition"===e?uni.switchTab({url:"/pages/competition/index"}):"profile"===e&&uni.switchTab({url:"/pages/profile/index"})}function m(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})}return e.onMounted((()=>{t("log","at pages/team/list.vue:91","组队列表页面加载"),setTimeout((()=>{l.value={code:200,message:"操作成功",data:{pageNum:1,pageSize:10,total:8,pages:1,list:[{id:8,name:"创意无限",competitionId:7,competitionTitle:"全国大学生广告艺术大赛",competitionCategoryName:"艺术设计",description:"广告大赛团队，需要平面设计和文案",recruitmentDeadlineFormatted:"2023-05-01",status:"0",statusText:"组队中",viewCount:70,leaderId:6,leaderName:"孙教授",leaderAvatarUrl:null,teamMemberAvatars:[],currentMemberCount:0,maxMemberCount:null,teamProgress:0,roles:[]},{id:4,name:"创客联盟",competitionId:3,competitionTitle:'中国"互联网+"大学生创新创业大赛',competitionCategoryName:"创新创业",description:"互联网+创业项目，寻找市场和技术的合伙人",recruitmentDeadlineFormatted:"2023-05-20",status:"2",statusText:"已结束",viewCount:200,leaderId:7,leaderName:"周七",leaderAvatarUrl:"/uploads/tasks/2023/01/03/ghi789.pdf",teamMemberAvatars:["/uploads/tasks/2023/01/03/ghi789.pdf"],currentMemberCount:1,maxMemberCount:3,teamProgress:33,roles:[{id:10,teamId:4,name:"硬件工程师",requiredCount:2,currentCount:1,recruitmentProgress:50,description:"负责电路设计和PCB绘制"}]},{id:1,name:"代码之星",competitionId:1,competitionTitle:"ACM国际大学生程序设计竞赛",competitionCategoryName:"程序设计",description:"寻找有ACM竞赛经验的队友，目标区域赛金奖",recruitmentDeadlineFormatted:"2023-04-20",status:"0",statusText:"组队中",viewCount:120,leaderId:1,leaderName:"张三",leaderAvatarUrl:"/uploads/avatars/2023/01/01/abc123.jpg,/uploads/tasks/2023/01/04/jkl012.jpg",teamMemberAvatars:["/uploads/avatars/2023/01/01/abc123.jpg","/uploads/tasks/2023/01/04/jkl012.jpg"],currentMemberCount:2,maxMemberCount:5,teamProgress:40,roles:[{id:1,teamId:1,name:"算法选手",requiredCount:3,currentCount:1,recruitmentProgress:33,description:"负责解决复杂算法问题"}]}],hasPrevious:!1,hasNext:!1}}}),200)})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"header-title"},[e.createElementVNode("text",{class:"section-title"},"组队广场"),e.createElementVNode("view",{class:"header-actions"},[e.createElementVNode("text",{class:"iconfont icon-search"}),e.createElementVNode("text",{class:"iconfont icon-filter"})])]),e.createElementVNode("scroll-view",{"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["category-item",n.value===a?"active-category":""]),onClick:e=>function(e){n.value=e}(a)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))])])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"team-list"},[l.value.data&&l.value.data.list&&l.value.data.list.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(l.value.data.list,((t,a)=>(e.openBlock(),e.createBlock(u,{key:t.id,team:t,index:a,onDetail:s,onApply:c},null,8,["team","index"])))),128)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"加载中...")]))]),e.createElementVNode("view",{class:"publish-btn-container"},[e.createElementVNode("view",{class:"publish-btn pulse",onClick:i},[e.createElementVNode("text",{class:"iconfont icon-plus"})]),e.createElementVNode("text",{class:"publish-text"},"创建")]),e.createVNode(p,{"active-tab":"team",onTabChange:r,onPublish:m})]))}},w={__name:"create",setup(t){const a=e.ref(null),o=e.ref(""),n=e.ref(""),l=e.ref([]);function s(){uni.navigateBack()}function c(){uni.showToast({title:"竞赛选择功能开发中",icon:"none"}),a.value={id:1,title:"互联网+创新创业大赛"}}function i(){l.value.push({name:"",count:1,requirement:""})}function r(){if(!a.value)return uni.showToast({title:"请选择竞赛",icon:"none"});if(!o.value)return uni.showToast({title:"请输入团队名称",icon:"none"});if(0===l.value.length)return uni.showToast({title:"请至少添加一个职位",icon:"none"});for(let e=0;e<l.value.length;e++){if(!l.value[e].name)return uni.showToast({title:`请填写职位${e+1}的名称`,icon:"none"})}uni.showLoading({title:"创建中..."}),setTimeout((()=>{uni.hideLoading(),uni.showToast({title:"创建成功",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)}),2e3)}return(t,m)=>(e.openBlock(),e.createElementBlock("view",{class:"container bg-gray-50"},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"flex-row px-4 py-3"},[e.createElementVNode("view",{class:"mr-3",onClick:s},[e.createElementVNode("text",{class:"iconfont icon-arrow-left text-gray-600"})]),e.createElementVNode("text",{class:"text-xl font-bold text-gray-800"},"创建团队")])]),e.createElementVNode("view",{class:"form-container"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"选择竞赛"),e.createElementVNode("view",{class:"competition-selector"},[e.createElementVNode("view",{class:"selected-competition",onClick:c},[a.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"selected-text"},e.toDisplayString(a.value.title),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"请选择竞赛")),e.createElementVNode("text",{class:"iconfont icon-arrow-right text-gray-400"})])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"团队信息"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"团队名称"),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":m[0]||(m[0]=e=>o.value=e),placeholder:"请输入团队名称"},null,512),[[e.vModelText,o.value]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"团队介绍"),e.withDirectives(e.createElementVNode("textarea",{class:"form-textarea","onUpdate:modelValue":m[1]||(m[1]=e=>n.value=e),placeholder:"请简要介绍团队情况和招募需求"},null,512),[[e.vModelText,n.value]])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"flex-row justify-between items-center"},[e.createElementVNode("text",{class:"section-title"},"职位设置"),e.createElementVNode("view",{class:"add-btn",onClick:i},[e.createElementVNode("text",{class:"iconfont icon-plus text-blue-500"}),e.createElementVNode("text",{class:"text-blue-500 text-sm"},"添加职位")])]),0===l.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-tip"},[e.createElementVNode("text",{class:"text-gray-500 text-sm"},"请添加招募职位")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"position-item"},[e.createElementVNode("view",{class:"position-header"},[e.createElementVNode("text",{class:"text-gray-800 font-medium"},"职位 "+e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"iconfont icon-delete text-gray-500",onClick:e=>function(e){l.value.splice(e,1)}(a)},null,8,["onClick"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"职位名称"),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":e=>t.name=e,placeholder:"如:产品经理"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.name]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"招募人数"),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"number","onUpdate:modelValue":e=>t.count=e,placeholder:"1"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.count]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"要求描述"),e.withDirectives(e.createElementVNode("textarea",{class:"form-textarea","onUpdate:modelValue":e=>t.requirement=e,placeholder:"描述该职位的技能要求、经验要求等"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.requirement]])])])))),128))])]),e.createElementVNode("view",{class:"submit-bar"},[e.createElementVNode("button",{class:"submit-btn",onClick:r},"创建团队")])]))}};const N=d({components:{TabBar:p},data:()=>({categories:["全部竞赛","学科竞赛","创新创业","科技竞赛","文体竞赛"],currentCategory:0,loading:!1,hasMore:!0,currentPage:1,pageSize:10,hotCompetitions:[],competitionList:[],currentHotIndex:0}),onLoad(){this.getHotCompetitions(),this.getCompetitionList()},onPullDownRefresh(){this.onRefresh()},onReachBottom(){this.loadMore()},methods:{onSwiperChange(e){this.currentHotIndex=e.detail.current},switchToSlide(e){this.currentHotIndex=e},async getHotCompetitions(){try{this.loading=!0;const e=await r.competitions.getCompetitionsList({pageSize:3,isHot:!0});e&&200===e.code&&e.data&&Array.isArray(e.data.list)&&(this.hotCompetitions=e.data.list)}catch(e){t("error","at pages/competition/index.vue:213","获取热门竞赛失败:",e),uni.showToast({title:"获取热门竞赛失败",icon:"none"}),this.hotCompetitions=[]}finally{this.loading=!1}},async getCompetitionList(e=!0){try{if(e&&(this.currentPage=1,this.competitionList=[]),!this.hasMore&&!e)return;this.loading=!0;const t={pageNum:this.currentPage,pageSize:this.pageSize};if(this.currentCategory>0){const e=[null,1,2,3,4];t.categoryId=e[this.currentCategory]}const a=await r.competitions.getCompetitionsList(t);a&&200===a.code&&a.data&&(e?this.competitionList=Array.isArray(a.data.list)?a.data.list:[]:Array.isArray(a.data.list)&&(this.competitionList=[...this.competitionList,...a.data.list]),this.hasMore=a.data.hasNext||!1,0===this.competitionList.length&&uni.showToast({title:"暂无竞赛数据",icon:"none"}))}catch(a){t("error","at pages/competition/index.vue:273","获取竞赛列表失败:",a),uni.showToast({title:"获取竞赛列表失败",icon:"none"}),e&&(this.competitionList=[])}finally{this.loading=!1}},loadMore(){!this.loading&&this.hasMore&&(this.currentPage++,this.getCompetitionList(!1))},onRefresh(){this.getCompetitionList(!0),this.getHotCompetitions(),uni.stopPullDownRefresh()},getCategoryClass(e){switch(e){case"创新创业":return"tag-orange";case"学科竞赛":return"tag-green";case"科技竞赛":return"tag-blue";case"文体竞赛":return"tag-purple";default:return""}},getStatusClass(e){switch(e){case"0":return"status-upcoming";case"1":return"status-active";case"2":return"status-ongoing";case"3":return"status-ended";default:return""}},formatDate(e){if(!e)return"";const t=new Date(e);return`${t.getMonth()+1}月${t.getDate()}日`},isUpcoming:e=>"0"===e.status,selectCategory(e){this.currentCategory!==e&&(this.currentCategory=e,this.getCompetitionList(!0))},viewDetail(e){uni.navigateTo({url:`/pages/competition/detail?id=${e}`})},handleTabChange(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"team"===e?uni.switchTab({url:"/pages/team/list"}):"profile"===e&&uni.switchTab({url:"/pages/profile/index"})},showPublishOptions(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})},getActionText(e){switch(e){case"0":return"提醒我";case"1":case"2":default:return"查看详情";case"3":return"查看结果"}}}},[["render",function(t,a,o,n,l,s){const c=e.resolveComponent("tab-bar");return e.openBlock(),e.createElementBlock("view",{class:"container",ref:"instance"},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"header-inner"},[e.createElementVNode("text",{class:"page-title"},"竞赛广场"),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn"},[e.createElementVNode("text",{class:"iconfont icon-search"})]),e.createElementVNode("view",{class:"action-btn"},[e.createElementVNode("text",{class:"iconfont icon-filter"})])])]),e.createElementVNode("scroll-view",{"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.categories,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["category-item",l.currentCategory===a?"active-category":""]),onClick:e=>s.selectCategory(a)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))])])]),l.hotCompetitions&&l.hotCompetitions.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"热门竞赛")]),e.createElementVNode("swiper",{class:"hot-swiper",indicator:!1,autoplay:!0,interval:3e3,duration:500,circular:!0,current:l.currentHotIndex,onChange:a[0]||(a[0]=(...e)=>s.onSwiperChange&&s.onSwiperChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.hotCompetitions,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:a,class:"hot-swiper-item"},[e.createElementVNode("view",{class:"hot-item",onClick:e=>s.viewDetail(t.id)},[e.createElementVNode("image",{class:"hot-img",src:t.coverImageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"hot-overlay"},[e.createElementVNode("text",{class:"hot-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"hot-desc"},e.toDisplayString(t.shortDescription),1),e.createElementVNode("view",{class:"hot-info"},[e.createElementVNode("view",{class:"hot-info-item"},[e.createElementVNode("text",{class:"iconfont icon-calendar"}),e.createElementVNode("text",{class:"hot-date"},"报名截止: "+e.toDisplayString(s.formatDate(t.registrationDeadline)),1)]),e.createElementVNode("view",{class:"hot-info-item"},[e.createElementVNode("text",{class:"iconfont icon-team"}),e.createElementVNode("text",{class:"hot-team"},e.toDisplayString(t.teamSize)+"~"+e.toDisplayString(t.teamMax)+"人",1)])])])],8,["onClick"])])))),128))],40,["current"]),e.createElementVNode("view",{class:"dots-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.hotCompetitions,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["dot",{"active-dot":l.currentHotIndex===a}]),onClick:e=>s.switchToSlide(a)},null,10,["onClick"])))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"最新竞赛")]),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.competitionList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"competition-card",key:a,onClick:e=>s.viewDetail(t.id)},[e.createElementVNode("view",{class:"card-image-wrapper"},[e.createElementVNode("image",{class:"card-image",src:t.coverImageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",s.getStatusClass(t.status)])},e.toDisplayString(t.statusText),3)]),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"card-desc"},e.toDisplayString(t.shortDescription),1),e.createElementVNode("view",{class:"card-tags"},[e.createElementVNode("text",{class:e.normalizeClass(["category-tag",s.getCategoryClass(t.categoryName)])},e.toDisplayString(t.categoryName),3),e.createElementVNode("text",{class:"level-tag"},e.toDisplayString(t.level),1),e.createElementVNode("text",{class:"team-tag"},[e.createElementVNode("text",{class:"iconfont icon-team"}),e.createTextVNode(" "+e.toDisplayString(t.teamSize)+"~"+e.toDisplayString(t.teamMax)+"人 ",1)])]),e.createElementVNode("view",{class:"card-footer"},[e.createElementVNode("view",{class:"date-info"},[e.createElementVNode("text",{class:"iconfont icon-calendar"}),e.createElementVNode("text",{class:"date-text"},e.toDisplayString(s.isUpcoming(t)?"报名开始":"报名截止")+": "+e.toDisplayString(s.formatDate(s.isUpcoming(t)?t.registrationStart:t.registrationDeadline)),1)]),e.createElementVNode("view",{class:e.normalizeClass(["action-btn",{"disabled-btn":"0"===t.status||"3"===t.status}])},e.toDisplayString(s.getActionText(t.status)),3)])])],8,["onClick"])))),128)),l.competitionList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-more"},[l.loading?(e.openBlock(),e.createElementBlock("text",{key:0},"加载中...")):l.hasMore?(e.openBlock(),e.createElementBlock("text",{key:1,onClick:a[1]||(a[1]=(...e)=>s.loadMore&&s.loadMore(...e))},"点击加载更多")):(e.openBlock(),e.createElementBlock("text",{key:2},"没有更多竞赛了"))])):e.createCommentVNode("",!0),0!==l.competitionList.length||l.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"暂无竞赛数据")]))])]),e.createVNode(c,{"active-tab":"competition",onTabChange:s.handleTabChange,onPublish:s.showPublishOptions},null,8,["onTabChange","onPublish"])],512)}]]),V={__name:"detail",setup(a){const o=e.ref(null),n=e.ref(!1),l=e.ref("details"),s=e.ref({id:null,title:"",category:"",level:"国家级",status:"",statusCode:"",image:"",registrationPeriod:"",registrationStart:"",registrationDeadline:"",competitionPeriod:"",location:"线上初赛 + 线下决赛",teamRequirement:"",description:"",shortDescription:"",requirements:"",organizer:{name:"",description:"",logo:""},contactInfo:{phone:"",email:""},teamSize:0,teamMax:0,websiteUrl:"",viewCount:0,attachments:[],categoryNames:[],coverImageUrl:""}),c=e.ref([{title:"报名阶段",period:"",description:"在此阶段，参赛团队需完成在线报名，提交团队基本信息和项目概述。报名成功后，团队可以开始准备初赛材料。",status:"进行中",active:!0},{title:"初赛阶段",period:"",description:"各参赛团队需提交商业计划书和项目PPT。评审委员会将对所有参赛项目进行评审，选拔优秀项目进入复赛。",status:"未开始",active:!1},{title:"复赛阶段",period:"",description:"入围复赛的团队将进行现场路演和答辩。评委将从项目创新性、商业模式、团队能力等多方面进行评估。",status:"未开始",active:!1},{title:"总决赛",period:"",description:"决赛将在北京举行，入围团队将进行最终路演和展示。评审团将评选出金、银、铜奖项目，并举行颁奖典礼。",status:"未开始",active:!1}]),i=e.ref([{title:"挑战杯创业计划大赛",image:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=500",deadline:"6月10日"},{title:"创青春创业大赛",image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=500",deadline:"7月5日"}]);async function m(e){n.value=!0;try{const a=await r.competitions.getCompetitionDetail(e);if(a&&200===a.code&&a.data){const e=a.data;s.value={...s.value,id:e.id,title:e.title,category:e.categoryNames&&e.categoryNames.length>0?e.categoryNames[0]:"",level:e.level||"国家级",status:d(e.status),statusCode:e.status,image:e.coverImageUrl||"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=800",registrationStart:e.registrationStart,registrationDeadline:e.registrationDeadline,registrationPeriod:u(e.registrationStart,e.registrationDeadline),description:e.description||e.shortDescription||"",shortDescription:e.shortDescription||"",requirements:e.requirements||"",teamRequirement:`${e.teamSize}~${e.teamMax}人/队`,teamSize:e.teamSize,teamMax:e.teamMax,organizer:{name:e.organizer||"未知主办方",description:"",logo:""},contactInfo:e.contactInfo||{phone:"暂无联系方式",email:""},websiteUrl:e.websiteUrl||"",viewCount:e.viewCount||0,attachments:e.attachments||[],categoryNames:e.categoryNames||[],coverImageUrl:e.coverImageUrl||""},function(e){if(e.registrationStart&&e.registrationDeadline){c.value[0].period=u(e.registrationStart,e.registrationDeadline);const t=new Date,a=new Date(e.registrationStart),o=new Date(e.registrationDeadline);t<a?(c.value[0].status="未开始",c.value[0].active=!1):t>=a&&t<=o?(c.value[0].status="进行中",c.value[0].active=!0):(c.value[0].status="已结束",c.value[0].active=!1),"2"===e.status?(c.value[1].active=!0,c.value[1].status="进行中",c.value[0].status="已结束"):"3"===e.status&&(c.value[0].status="已结束",c.value[1].status="已结束",c.value[2].status="已结束",c.value[3].status="已结束")}}(e),t("log","at pages/competition/detail.vue:368","竞赛详情数据:",s.value)}else uni.showToast({title:"获取竞赛详情失败",icon:"none"})}catch(a){t("error","at pages/competition/detail.vue:376","获取竞赛详情错误:",a),uni.showToast({title:"获取竞赛详情失败",icon:"none"})}finally{n.value=!1}}function d(e){switch(e){case"0":return"未开始";case"1":return"报名中";case"2":return"进行中";case"3":return"已截止";default:return"未知状态"}}function u(e,t){if(!e||!t)return"";const a=e=>{const t=new Date(e);return`${t.getFullYear()}年${t.getMonth()+1}月${t.getDate()}日`};return`${a(e)} - ${a(t)}`}function p(e){switch(e){case"创新创业":return"orange-tag";case"学科竞赛":return"green-tag";case"科技竞赛":return"blue-tag";case"文体竞赛":return"purple-tag";default:return"gray-tag"}}function g(e){switch(e){case"未开始":case"已截止":default:return"status-badge bg-gray-500";case"报名中":return"status-badge bg-green-500";case"进行中":return"status-badge bg-blue-500"}}function v(){switch(s.value.status){case"未开始":return"提醒我";case"报名中":return"寻找队伍";case"进行中":return"查看队伍";case"已截止":return"查看结果";default:return"了解详情"}}function E(){if(s.value.registrationDeadline){const e=new Date(s.value.registrationDeadline);return`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`}if(s.value.registrationPeriod){const e=s.value.registrationPeriod.split(" - ");return e.length>1?e[1]:s.value.registrationPeriod}return"暂无截止日期"}function w(e){l.value=e}function N(){uni.navigateBack()}return e.onMounted((()=>{const e=getCurrentPages(),t=e[e.length-1];t.$page&&t.$page.options?(o.value=t.$page.options.id,o.value?m(o.value).finally((()=>{uni.hideLoading()})):(uni.hideLoading(),uni.showToast({title:"竞赛ID不存在",icon:"none"}))):uni.hideLoading()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"spinner"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"flex-row px-4 py-3"},[e.createElementVNode("view",{class:"mr-3",onClick:N},[e.createElementVNode("text",{class:"iconfont icon-arrow-left text-gray-600"})]),e.createElementVNode("text",{class:"text-xl font-bold text-gray-800"},"竞赛详情"),e.createElementVNode("view",{class:"ml-auto flex-row space-x-3"},[e.createElementVNode("view",{class:"p-2 rounded-full bg-gray-100"},[e.createElementVNode("text",{class:"iconfont icon-bookmark-outline text-gray-600"})]),e.createElementVNode("view",{class:"p-2 rounded-full bg-gray-100"},[e.createElementVNode("text",{class:"iconfont icon-share text-gray-600"})])])])]),e.createElementVNode("view",{class:"relative"},[e.createElementVNode("image",{class:"cover-image",src:s.value.image,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"cover-overlay"},[e.createElementVNode("view",{class:e.normalizeClass(g(s.value.status))},e.toDisplayString(s.value.status),3),e.createElementVNode("text",{class:"text-white text-2xl font-bold"},e.toDisplayString(s.value.title),1),e.createElementVNode("view",{class:"flex-row items-center mt-1 space-x-2"},[e.createElementVNode("text",{class:e.normalizeClass(["category-tag",p(s.value.category)])},e.toDisplayString(s.value.category),3)])])]),e.createElementVNode("view",{class:"bg-white p-4 shadow-sm"},[e.createElementVNode("view",{class:"flex-row justify-between items-center"},[e.createElementVNode("view",{class:"flex-row items-center space-x-2"},[e.createElementVNode("text",{class:"iconfont icon-calendar info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},"报名截止: "+e.toDisplayString(E()),1)]),e.createElementVNode("view",{class:"flex-row items-center space-x-2"},[e.createElementVNode("text",{class:"iconfont icon-users info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},e.toDisplayString(s.value.teamRequirement),1)])]),e.createElementVNode("view",{class:"flex-row justify-between items-center mt-3"},[e.createElementVNode("view",{class:"flex-row items-center space-x-2",style:{width:"60%"}},[e.createElementVNode("text",{class:"iconfont icon-university info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},"主办方: "+e.toDisplayString(s.value.organizer.name),1)]),e.createElementVNode("view",{class:"flex-row items-center space-x-2"},[e.createElementVNode("text",{class:"iconfont icon-trophy info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},e.toDisplayString(s.value.level),1)])])]),e.createElementVNode("view",{class:"bg-white mt-2 shadow-sm"},[e.createElementVNode("view",{class:"flex-row border-b"},[e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","details"===l.value?"tab-active":"text-gray-500"]),onClick:a[0]||(a[0]=e=>w("details"))},"竞赛详情",2),e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","schedule"===l.value?"tab-active":"text-gray-500"]),onClick:a[1]||(a[1]=e=>w("schedule"))},"赛程安排",2),e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","teams"===l.value?"tab-active":"text-gray-500"]),onClick:a[2]||(a[2]=e=>w("teams"))},"参赛队伍",2)])]),"details"===l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"竞赛简介"),e.createElementVNode("text",{class:"text-gray-700 text-sm leading-relaxed"},e.toDisplayString(s.value.description),1),s.value.requirements?(e.openBlock(),e.createElementBlock("view",{key:0,class:"font-bold text-lg text-gray-800 mt-6 mb-3"},"参赛要求")):e.createCommentVNode("",!0),s.value.requirements?(e.openBlock(),e.createElementBlock("text",{key:1,class:"text-gray-700 text-sm leading-relaxed"},e.toDisplayString(s.value.requirements),1)):(e.openBlock(),e.createElementBlock("view",{key:2,class:"text-gray-700 text-sm space-y-2 list-disc pl-5 mt-6"},[e.createElementVNode("view",{class:"list-item"},"参赛项目须为本校在校生，允许跨校组队"),e.createElementVNode("view",{class:"list-item"},"参赛团队成员"+e.toDisplayString(s.value.teamRequirement),1),e.createElementVNode("view",{class:"list-item"},"参赛项目需具有创新性、可行性和商业价值"),e.createElementVNode("view",{class:"list-item"},"参赛项目需提交商业计划书和路演PPT"),e.createElementVNode("view",{class:"list-item"},"参赛项目需在报名截止前完成在线提交")])),e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mt-6 mb-3"},"联系方式"),e.createElementVNode("view",{class:"space-y-2 text-sm text-gray-700"},[s.value.contactInfo.phone?(e.openBlock(),e.createElementBlock("text",{key:0},"联系电话："+e.toDisplayString(s.value.contactInfo.phone),1)):(e.openBlock(),e.createElementBlock("text",{key:1},"联系人：竞赛组委会")),s.value.contactInfo.email?(e.openBlock(),e.createElementBlock("view",{key:2},"邮箱："+e.toDisplayString(s.value.contactInfo.email),1)):e.createCommentVNode("",!0),s.value.websiteUrl?(e.openBlock(),e.createElementBlock("view",{key:3},"官网："+e.toDisplayString(s.value.websiteUrl),1)):e.createCommentVNode("",!0)]),s.value.attachments&&s.value.attachments.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"mt-6"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"相关资料"),e.createElementVNode("view",null,"无"),e.createElementVNode("view",{class:"space-y-3"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value.attachments,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"flex-row items-center p-3 bg-gray-50 rounded-lg"},[e.createElementVNode("text",{class:"iconfont icon-file text-blue-500 mr-2"}),e.createElementVNode("text",{class:"flex-1 text-sm text-gray-700"},e.toDisplayString(t.fileName),1),e.createElementVNode("view",{class:"px-3 py-1 bg-blue-500 rounded-full"},[e.createElementVNode("text",{class:"text-xs text-white"},"下载")])])))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"mt-6"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"相关竞赛"),e.createElementVNode("view",{class:"related-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"related-card"},[e.createElementVNode("view",{class:"related-image-container"},[e.createElementVNode("image",{src:t.image,class:"related-image"},null,8,["src"])]),e.createElementVNode("view",{class:"p-3"},[e.createElementVNode("text",{class:"font-bold text-sm text-gray-800"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"flex-row items-center mt-1"},[e.createElementVNode("text",{class:"text-xs text-gray-500"},"报名截止: "+e.toDisplayString(t.deadline),1)])])])))),128))])])])):e.createCommentVNode("",!0),"schedule"===l.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"relative"},[e.createElementVNode("view",{class:"timeline-line"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"timeline-item"},[e.createElementVNode("view",{class:"timeline-dot-container"},[e.createElementVNode("view",{class:e.normalizeClass(["timeline-dot",t.active?"active-dot":""])},[e.createElementVNode("text",{class:"timeline-dot-text"},e.toDisplayString(a+1),1)],2)]),e.createElementVNode("view",{class:e.normalizeClass(["timeline-content",t.active?"active-content":""])},[e.createElementVNode("view",{class:"flex-row justify-between items-center mb-2"},[e.createElementVNode("text",{class:e.normalizeClass(["font-bold",t.active?"text-blue-800":"text-gray-700"])},e.toDisplayString(t.title),3),e.createElementVNode("text",{class:e.normalizeClass(["status-text",t.active?"active-status":"inactive-status"])},e.toDisplayString(t.status),3)]),e.createElementVNode("text",{class:"text-sm text-gray-700 mb-2"},e.toDisplayString(t.period),1),e.createElementVNode("text",{class:"text-xs text-gray-600"},e.toDisplayString(t.description),1)],2)])))),128))])])):e.createCommentVNode("",!0),"teams"===l.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"flex-row items-center mb-4"},[e.createElementVNode("view",{class:"relative flex-1"},[e.createElementVNode("input",{type:"text",placeholder:"搜索队伍",class:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg text-sm"}),e.createElementVNode("text",{class:"iconfont icon-search search-icon"})]),e.createElementVNode("view",{class:"ml-2 px-3 py-2 bg-gray-100 rounded-lg text-sm text-gray-700"},[e.createElementVNode("text",{class:"iconfont icon-filter mr-1"}),e.createElementVNode("text",null,"筛选")])]),e.createElementVNode("view",{class:"space-y-4"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.teams,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"team-card"},[e.createElementVNode("view",{class:"flex-row justify-between items-start"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"font-bold text-gray-800"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"flex-row items-center mt-1"},[e.createElementVNode("text",{class:"faculty-tag",style:e.normalizeStyle({backgroundColor:t.facultyColor+"20",color:t.facultyColor})},e.toDisplayString(t.faculty),5),e.createElementVNode("text",{class:"text-xs text-gray-500"},e.toDisplayString(t.memberCount)+"人团队",1)])]),e.createElementVNode("view",{class:"team-status",style:e.normalizeStyle({backgroundColor:t.statusColor+"20",color:t.statusColor})},e.toDisplayString(t.status),5)]),e.createElementVNode("text",{class:"text-sm text-gray-600 mt-3"},"项目简介："+e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"flex-row items-center justify-between mt-3"},[e.createElementVNode("view",{class:"flex-row member-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.avatars,((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,src:t,class:"member-avatar"},null,8,["src"])))),128)),t.remainingCount>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"member-avatar-more"},"+"+e.toDisplayString(t.remainingCount),1)):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"text-blue-500 text-sm"},e.toDisplayString(t.actionText),1)])])))),128))]),e.createElementVNode("view",{class:"text-center mt-6"},[e.createElementVNode("button",{class:"load-more-btn"},"加载更多")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"fixed-bottom"},[e.createElementVNode("button",{class:"team-btn"},[e.createElementVNode("text",{class:"iconfont icon-users mr-1"}),e.createElementVNode("text",null,"创建队伍")]),e.createElementVNode("button",{class:e.normalizeClass(["register-btn",{"disabled-btn":"0"===s.value.statusCode||"3"===s.value.statusCode}]),disabled:"0"===s.value.statusCode||"3"===s.value.statusCode},e.toDisplayString(v()),11,["disabled"])])],64))]))}},h={__name:"index",setup(t){function a(e){uni.showToast({title:`跳转到${e}`,icon:"none"})}function o(){uni.showModal({title:"退出确认",content:"确定要退出登录吗？",success:function(e){e.confirm&&uni.showToast({title:"已退出登录",icon:"success",success:()=>{setTimeout((()=>{uni.redirectTo({url:"/pages/login/login"})}),1500)}})}})}function n(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"competition"===e?uni.switchTab({url:"/pages/competition/index"}):"team"===e&&uni.switchTab({url:"/pages/team/list"})}function l(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})}return(t,s)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"user-info-section"},[e.createElementVNode("view",{class:"user-header"},[e.createElementVNode("image",{class:"user-avatar",src:"https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?w=200",mode:"aspectFill"}),e.createElementVNode("view",{class:"user-details"},[e.createElementVNode("text",{class:"user-name"},"李明"),e.createElementVNode("text",{class:"user-id"},"学号: 2023114514")]),e.createElementVNode("view",{class:"edit-btn"},[e.createElementVNode("text",{class:"iconfont icon-edit"})])]),e.createElementVNode("view",{class:"user-stats"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},"4"),e.createElementVNode("text",{class:"stat-label"},"参与竞赛")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},"2"),e.createElementVNode("text",{class:"stat-label"},"我的团队")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},"1"),e.createElementVNode("text",{class:"stat-label"},"获得奖项")])])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-group"},[e.createElementVNode("view",{class:"menu-item",onClick:s[0]||(s[0]=e=>a("myCompetitions"))},[e.createElementVNode("text",{class:"iconfont icon-trophy menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"我的竞赛"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:s[1]||(s[1]=e=>a("myTeams"))},[e.createElementVNode("text",{class:"iconfont icon-users menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"我的团队"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:s[2]||(s[2]=e=>a("myAwards"))},[e.createElementVNode("text",{class:"iconfont icon-star menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"我的获奖"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})])]),e.createElementVNode("view",{class:"menu-group"},[e.createElementVNode("view",{class:"menu-item",onClick:s[3]||(s[3]=e=>a("settings"))},[e.createElementVNode("text",{class:"iconfont icon-settings menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"账号设置"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:s[4]||(s[4]=e=>a("feedback"))},[e.createElementVNode("text",{class:"iconfont icon-feedback menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"意见反馈"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:s[5]||(s[5]=e=>a("about"))},[e.createElementVNode("text",{class:"iconfont icon-info-circle menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"关于我们"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})])])]),e.createElementVNode("view",{class:"logout-btn",onClick:o},[e.createElementVNode("text",null,"退出登录")]),e.createVNode(p,{"active-tab":"profile",onTabChange:n,onPublish:l})]))}};__definePage("pages/login/login",m),__definePage("pages/index/index",g),__definePage("pages/team/detail",v),__definePage("pages/team/list",E),__definePage("pages/team/create",w),__definePage("pages/competition/index",N),__definePage("pages/competition/detail",V),__definePage("pages/profile/index",h);const x={onLaunch:function(){t("warn","at App.vue:4","当前组件仅支持 uni_modules 目录结构 ，请升级 HBuilderX 到 3.1.0 版本以上！"),t("log","at App.vue:5","App Launch")},onShow:function(){t("log","at App.vue:8","App Show")},onHide:function(){t("log","at App.vue:11","App Hide")}};const{app:f,Vuex:y,Pinia:k}={app:e.createVueApp(x)};uni.Vuex=y,uni.Pinia=k,f.provide("__globalStyles",__uniConfig.styles),f._component.mpType="app",f._component.render=()=>{},f.mount("#app")}(Vue);
