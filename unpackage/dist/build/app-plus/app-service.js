if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function a(e,t){return"string"==typeof e?t:e}const l=(t=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)})("onShow"),n={baseUrl:"http://103.38.83.91:8080",timeout:1e5,uploadUrl:"/api/upload",wsUrl:"ws://103.38.83.91:8080/ws",debug:!0,version:"1.0.0",env:"development"},i={development:n,test:{baseUrl:"http://103.38.83.91:8080",timeout:1e5,uploadUrl:"/api/upload",wsUrl:"ws://103.38.83.91:8080/ws",debug:!0,version:"1.0.0",env:"test"},production:{baseUrl:"http://103.38.83.91:8080",timeout:1e5,uploadUrl:"/api/upload",wsUrl:"ws://103.38.83.91:8080/ws",debug:!1,version:"1.0.0",env:"production"}};function o(){t("log","at config/env/index.js:28","当前平台:","app");const e=i.production||i.dev;return e.runtimePlatform="app",e.actualBaseUrl=e.baseUrl,e}const s=o();o();const c=o();c.debug&&(t("log","at utils/request.js:11","当前API环境配置:",c),t("log","at utils/request.js:12","API基础路径:",c.baseUrl),c.actualBaseUrl&&t("log","at utils/request.js:14","实际API地址:",c.actualBaseUrl));const r="token",d=()=>uni.getStorageSync(r)||"",m=e=>{uni.setStorageSync(r,e)},u=e=>{const a={url:e.url||"",method:e.method||"GET",data:e.data||{},params:e.params||{},header:e.header||{},timeout:e.timeout||c.timeout||6e4};if(a.url.startsWith("http://")||a.url.startsWith("https://")||a.url.startsWith(c.baseUrl)||(a.url.startsWith("/")&&c.baseUrl.endsWith("/")?a.url=c.baseUrl+a.url.substring(1):a.url.startsWith("/")||c.baseUrl.endsWith("/")?a.url=c.baseUrl+a.url:a.url=c.baseUrl+"/"+a.url),"GET"===a.method&&Object.keys(a.params).length>0){const e=Object.keys(a.params).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a.params[e])}`)).join("&");a.url=`${a.url}${a.url.includes("?")?"&":"?"}${e}`}c.debug&&(t("log","at utils/request.js:187",`${a.method} 请求:`,a.url),a.data&&Object.keys(a.data).length>0&&t("log","at utils/request.js:189","请求数据:",a.data));const l=(e=>{const a=d();return a&&(e.header.Authorization=`Bearer ${a}`,c.debug&&t("log","at utils/request.js:49","发送请求头Authorization:",`Bearer ${a}`)),e.header["Content-Type"]||(e.header["Content-Type"]="application/json"),c.debug&&(t("log","at utils/request.js:60","完整请求配置:",{url:e.url,method:e.method,headers:e.header,data:e.data,params:e.params}),e.url.includes("/users/register")&&(t("log","at utils/request.js:70","注册请求完整数据:",JSON.stringify(e.data)),t("log","at utils/request.js:71","注册请求Content-Type:",e.header["Content-Type"]))),e})(a);return new Promise(((e,a)=>{uni.request({url:l.url,method:l.method,data:l.data,header:l.header,timeout:l.timeout,success:n=>{c.debug&&t("log","at utils/request.js:206","响应数据:",n),n.config=l,(e=>{if(200===e.statusCode)return e.config&&e.config.url&&(e.config.url.includes("/users/login")||e.config.url.includes("/user/login"))&&e.data&&e.data.data&&"string"==typeof e.data.data?(m(e.data.data),c.debug&&t("log","at utils/request.js:93","已保存token:",e.data.data),Promise.resolve(e.data)):Promise.resolve(e.data);{const a=`请求失败: ${e.statusCode}`;return c.debug&&(t("error","at utils/request.js:108","请求失败状态码:",e.statusCode),t("error","at utils/request.js:109","请求地址:",e.config.url),t("error","at utils/request.js:110","请求方法:",e.config.method),t("error","at utils/request.js:111","请求头:",e.config.header),t("error","at utils/request.js:112","请求数据:",e.config.data),t("error","at utils/request.js:113","响应数据:",e.data)),400===e.statusCode&&(t("error","at utils/request.js:118","400错误详情:",e.data),t("error","at utils/request.js:119","请求的原始数据:",e.config.data)),uni.showToast({title:a,icon:"none"}),401!==e.statusCode&&403!==e.statusCode||(m(""),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500)),Promise.reject(new Error(`HTTP错误: ${e.statusCode}`))}})(n).then((t=>e(t))).catch((e=>a(e)))},fail:e=>{c.debug&&t("error","at utils/request.js:219","请求失败:",e),uni.showToast({title:"网络错误，请检查网络连接",icon:"none"}),a(new Error("网络请求失败"))}})}))},p={getSchools:()=>u({url:"/api/schools",method:"GET"}),login:e=>(t("log","at api/modules/user.js:27","登录请求参数:",e),u({url:"/users/login",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{phone:e.phone,password:e.password}}).then((e=>{if(t("log","at api/modules/user.js:39","登录响应:",e),e&&200===e.code&&e.data){const a=e.data;return uni.setStorageSync("token",a),t("log","at api/modules/user.js:46","登录成功，已保存token"),{token:a,isLogin:!0}}if(e&&e.message)throw new Error(e.message);return e}))),register(e){t("log","at api/modules/user.js:69","注册请求参数 (原始):",e);const a={phoneNumber:e.phoneNumber||e.phone,password:e.password,realName:e.realName,schoolId:e.schoolId||1,role:e.role||"student",major:e.major,studentTeacherId:e.studentTeacherId};return"number"==typeof a.studentTeacherId&&(a.studentTeacherId=String(a.studentTeacherId)),"number"!=typeof a.schoolId&&(a.schoolId=Number(a.schoolId)||1),t("log","at api/modules/user.js:91","注册请求数据 (转换后):",a),t("log","at api/modules/user.js:92","注册请求URL:","/users/register"),u({url:"/users/register",method:"POST",data:a,header:{"Content-Type":"application/json"}}).then((e=>(t("log","at api/modules/user.js:102","注册响应:",e),e))).catch((e=>{throw t("error","at api/modules/user.js:105","注册请求错误:",e),e.response&&e.response.data&&t("error","at api/modules/user.js:107","服务器错误详情:",e.response.data),e}))},getUserInfo:()=>u({url:"/user/info",method:"GET"}),getUserRole(e){const t=e||d();return t?u({url:`/users/role/parse?token=${encodeURIComponent(t)}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}):Promise.reject(new Error("未登录"))},logout:()=>u({url:"/user/logout",method:"POST"}).finally((()=>{m("")})),updateUserInfo:e=>u({url:"/user/update",method:"PUT",data:e}),changePassword:e=>u({url:"/user/password",method:"PUT",data:e}),getUserProfile:()=>u({url:"/users/profile",method:"GET"}),updateUserProfile:e=>u({url:"/users/profile",method:"PUT",data:e,header:{"Content-Type":"application/json"}}),uploadAvatar:(e,t)=>new Promise(((a,l)=>{const n=uni.uploadFile({url:o().baseUrl+"/users/avatar",filePath:e,name:"file",header:{Authorization:"Bearer "+d()},success:e=>{let t;try{t=JSON.parse(e.data),a(t)}catch(n){l(new Error("解析响应数据失败"))}},fail:e=>{l(e)}});t&&"function"==typeof t&&n.onProgressUpdate((e=>{t(e.progress)}))})),getSkillTags:()=>u({url:"/api/skill-tags/group-by-category",method:"GET"})},h={getTeamList:(e={})=>u({url:"/teams/list",method:"GET",params:e}),getTeamDetail:e=>u({url:`/teams/${e}`,method:"GET"}),getTeamMembers:e=>u({url:`/teams/${e}/members`,method:"GET"}),applyTeam(e){if(!e.teamId||!e.roleId||!e.message)return t("error","at api/modules/team.js:61","申请加入团队缺少必要参数",e),Promise.reject(new Error("申请加入团队缺少必要参数"));const a={teamId:Number(e.teamId),roleId:Number(e.roleId),message:String(e.message)};return t("log","at api/modules/team.js:72","申请加入团队，请求数据:",a),u({url:"/team-applications",method:"POST",data:a,header:{"Content-Type":"application/json"}})},getMyApplications:(e={})=>u({url:"/team-applications/list",method:"GET",params:{...e,role:"applicant"}}),getTeamApplications:(e={})=>u({url:"/team-applications/list",method:"GET",params:{...e,role:"leader"}}),handleApplication:(e,t)=>u({url:`/team-applications/${e}`,method:"PUT",data:t}),cancelApplication:e=>u({url:`/team-applications/${e}`,method:"DELETE"}),checkTeamStatus:e=>u({url:`/teams/${e}/has-applied`,method:"GET"}),disbandTeam:e=>u({url:`/teams/${e}/dissolve`,method:"POST"}),leaveTeam:e=>u({url:`/team-members/teams/${e}`,method:"DELETE"}),createTeam:e=>u({url:"/teams",method:"POST",data:e}),getMyTeams:()=>u({url:"/teams/my",method:"GET"}),getRecommendedTeams:(e={useCache:!0})=>u({url:"/teams/recommend",method:"GET",params:e})},g={getCompetitionsList:(e={})=>u({url:"/competitions/list",method:"GET",params:e}),getCompetitionDetail(e){const t=d();return t?u({url:`/competitions/${e}`,method:"GET",header:{Authorization:`Bearer ${t}`}}):(uni.showToast({title:"请先登录",icon:"none"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500),Promise.reject(new Error("未登录")))},createCompetition(e){const a=d();return a?(t("log","at api/modules/competitions.js:99","准备创建竞赛，数据:",e),u({url:"/competitions",method:"POST",data:e,header:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then((e=>(t("log","at api/modules/competitions.js:110","创建竞赛响应:",e),e))).catch((e=>{throw t("error","at api/modules/competitions.js:113","创建竞赛出错:",e),e}))):(uni.showToast({title:"请先登录",icon:"none"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500),Promise.reject(new Error("未登录")))},getCompetitionCategories:()=>u({url:"/competitions/categories",method:"GET"}),getCompetitionsBasicInfo:()=>u({url:"/competitions/basic-info",method:"GET"})},v=n.baseUrl;function f(e){return u({url:`${v}/task-applications`,method:"POST",data:e})}function w(e){return u({url:`${v}/task-applications/list`,method:"GET",params:e})}function y(e,t){return u({url:`${v}/task-applications/${e}`,method:"PUT",data:t})}function k(e){return u({url:`${v}/task-applications/${e}`,method:"DELETE"})}function V(e){return u({url:`${v}/task-participations/check`,method:"GET",params:{taskId:e}})}function N(e){return u({url:`${v}/task-applications/${e}`,method:"GET"})}const E={createTaskApplication:f,getTaskApplicationList:w,updateTaskApplication:y,cancelTaskApplication:k,checkTaskApplication:V,getTaskApplicationDetail:N},x=Object.freeze(Object.defineProperty({__proto__:null,cancelTaskApplication:k,checkTaskApplication:V,createTaskApplication:f,default:E,getTaskApplicationDetail:N,getTaskApplicationList:w,updateTaskApplication:y},Symbol.toStringTag,{value:"Module"})),b={user:p,team:h,competitions:g,taskApplications:x},C={mima:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M775.836735 929.959184h-527.67347c-45.97551 0-83.591837-37.616327-83.591836-83.591837v-309.812245c0-45.97551 37.616327-83.591837 83.591836-83.591837h527.151021c45.97551 0 83.591837 37.616327 83.591836 83.591837V846.367347c0.522449 45.97551-37.093878 83.591837-83.069387 83.591837z m-527.67347-435.2c-22.987755 0-41.795918 18.808163-41.795918 41.795918V846.367347c0 22.987755 18.808163 41.795918 41.795918 41.795918h527.151021c22.987755 0 41.795918-18.808163 41.795918-41.795918v-309.812245c0-22.987755-18.808163-41.795918-41.795918-41.795918H248.163265z" fill="#000000"></path><path d="M294.661224 494.759184c-11.493878 0-20.897959-9.404082-20.897959-20.89796V332.277551C273.763265 201.142857 380.342857 94.040816 512 94.040816c94.040816 0 179.722449 55.379592 217.861224 141.583674 13.583673 30.302041 20.37551 63.216327 20.375511 96.653061 0 11.493878-9.404082 20.897959-20.897959 20.897959s-20.897959-9.404082-20.89796-20.897959c0-27.689796-5.746939-54.857143-16.718367-79.934694C660.37551 181.812245 589.844898 135.836735 512 135.836735c-108.669388 0-196.440816 88.293878-196.440816 196.440816v141.583673c0 11.493878-9.404082 20.897959-20.89796 20.89796zM509.387755 829.64898c-32.391837 0-59.036735-26.644898-59.036735-59.036735v-45.453061c-22.465306-18.285714-35.526531-45.453061-35.52653-74.710204 0-53.289796 43.363265-97.17551 97.17551-97.175511s97.17551 43.363265 97.17551 97.175511c0 31.869388-15.15102 61.126531-40.75102 78.889796v40.75102c0 32.914286-26.644898 59.559184-59.036735 59.559184z m2.612245-234.579592c-30.302041 0-55.379592 24.555102-55.379592 55.379592 0 18.808163 9.404082 36.571429 25.6 46.497959 6.269388 3.657143 9.404082 10.44898 9.404082 17.763265v55.902041c0 9.404082 7.836735 17.240816 17.240816 17.240816s17.240816-7.836735 17.240816-17.240816v-52.767347c0-7.836735 4.179592-15.15102 10.971429-18.285714 18.285714-9.404082 29.779592-28.212245 29.779592-49.110204 0.522449-30.302041-24.555102-55.379592-54.857143-55.379592z" fill="#000000"></path></svg>',zhanghao:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M620.256 806.176A32 32 0 0 1 592 774.4v-80.736a32 32 0 0 1 13.216-25.92c52.864-38.272 99.168-99.68 124.736-169.152a32 32 0 0 1 19.584-19.2c9.76-3.36 21.536-24.224 32.416-70.72 5.92-25.152-1.024-40.96-16.576-50.4a32 32 0 0 1-15.264-24.48C736.448 181.312 650.144 96 514.24 96 376 96 286.304 184.064 273.568 338.432a32 32 0 0 1-15.04 24.544c-16.416 10.24-22.272 23.36-16.224 44.032 11.392 38.88 23.84 60.352 36.8 68.48a32 32 0 0 1 13.12 16.384c25.088 70.496 72.224 133.536 126.72 173.504A32 32 0 0 1 432 691.168V774.4a32 32 0 0 1-28.256 31.776c-125.12 14.72-212.608 54.4-225.952 88.672 2.304 1.056 5.12 2.176 8.384 3.296 17.184 6.016 43.52 11.52 77.12 16.096C328.8 923.136 418.464 928 512 928s183.2-4.864 248.704-13.76c33.6-4.576 59.936-10.08 77.12-16.096 3.296-1.12 6.08-2.24 8.384-3.296-13.344-34.272-100.832-73.92-225.92-88.64zM656 746.4c151.36 22.656 256 79.168 256 157.376C912 970.784 755.84 992 512 992s-400-21.216-400-88.224c0-78.208 104.64-134.72 256-157.376v-39.52c-56.64-45.536-104.576-110.944-132.576-184.128-23.936-19.392-40.928-51.296-54.528-97.792-12.8-43.648 0.064-81.344 30.336-106.592C231.456 140.48 346.336 32 514.24 32c165.6 0 276.992 105.728 298.08 281.44 29.44 24.864 42.72 63.904 31.968 109.856-13.312 56.768-30.848 92.512-58.976 109.632C756.864 603.552 710.336 666.112 656 709.504V746.4z" fill="#000000"></path></svg>',mingzi:'<svg t="1746979614837" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23320" width="200" height="200"><path d="M917.333333 448h-298.666666a21.333333 21.333333 0 0 0 0 42.666667h298.666666a21.333333 21.333333 0 0 0 0-42.666667z m-597.333333-85.333333A234.922667 234.922667 0 0 0 85.333333 597.333333c0 64.597333 26.24 123.178667 68.650667 165.674667 0.128 0.128 0.128 0.298667 0.213333 0.384 0.554667 0.554667 1.237333 0.938667 1.834667 1.493333 10.069333 9.856 20.906667 18.858667 32.597333 26.752 1.536 1.066667 3.2 1.92 4.778667 2.944 11.264 7.253333 23.04 13.696 35.498667 18.986667 1.578667 0.682667 3.2 1.109333 4.778666 1.749333 12.672 5.034667 25.856 9.173333 39.509334 11.946667l2.645333 0.384c14.293333 2.773333 29.056 4.352 44.16 4.352s29.866667-1.578667 44.16-4.309333c0.896-0.170667 1.792-0.213333 2.645333-0.384 13.653333-2.773333 26.794667-6.912 39.509334-11.946667 1.578667-0.64 3.2-1.109333 4.778666-1.749333a232.106667 232.106667 0 0 0 35.498667-18.986667c1.578667-1.024 3.2-1.877333 4.778667-2.944 11.690667-7.936 22.570667-16.938667 32.64-26.794667 0.554667-0.554667 1.237333-0.938667 1.792-1.493333 0.128-0.128 0.128-0.256 0.213333-0.384A233.813333 233.813333 0 0 0 554.666667 597.333333c0-129.408-105.301333-234.666667-234.666667-234.666666z m115.242667 387.242666c-4.437333 3.328-8.832 6.741333-13.525334 9.6-3.882667 2.432-8.106667 4.437333-12.16 6.613334a199.253333 199.253333 0 0 1-179.328-0.128c-3.925333-2.090667-7.978667-4.010667-11.733333-6.4-4.864-2.986667-9.386667-6.485333-13.994667-9.941334a208.213333 208.213333 0 0 1-9.557333-7.893333C217.429333 693.162667 266.026667 661.333333 320 661.333333s102.528 31.829333 125.098667 80.469334c-3.242667 2.773333-6.442667 5.546667-9.856 8.106666zM256 554.666667c0-35.285333 28.714667-64 64-64S384 519.381333 384 554.666667s-28.714667 64-64 64S256 589.952 256 554.666667z m219.648 154.197333a182.186667 182.186667 0 0 0-84.864-75.008A106.026667 106.026667 0 0 0 426.666667 554.666667c0-58.794667-47.829333-106.666667-106.666667-106.666667S213.333333 495.872 213.333333 554.666667c0 31.530667 14.037333 59.605333 35.84 79.189333a181.845333 181.845333 0 0 0-84.821333 75.008A190.378667 190.378667 0 0 1 128 597.333333c0-105.856 86.144-192 192-192S512 491.477333 512 597.333333c0 41.685333-13.696 80-36.352 111.530667zM917.333333 576h-298.666666a21.333333 21.333333 0 0 0 0 42.666667h298.666666a21.333333 21.333333 0 0 0 0-42.666667z m0-341.333333H640V128a21.333333 21.333333 0 0 0-21.333333-21.333333h-170.666667a21.333333 21.333333 0 0 0-21.333333 21.333333v106.666667H106.666667A106.794667 106.794667 0 0 0 0 341.333333v469.333334c0 58.794667 47.829333 106.666667 106.666667 106.666666h810.666666c58.837333 0 106.666667-47.872 106.666667-106.666666V341.333333c0-58.794667-47.829333-106.666667-106.666667-106.666666zM469.333333 149.333333h128v128h-128v-128zM981.333333 810.666667c0 35.285333-28.714667 64-64 64h-810.666666c-35.285333 0-64-28.714667-64-64V341.333333c0-35.285333 28.714667-64 64-64H426.666667V298.666667a21.333333 21.333333 0 0 0 21.333333 21.333333h170.666667A21.333333 21.333333 0 0 0 640 298.666667v-21.333334h277.333333c35.285333 0 64 28.714667 64 64v469.333334z m-64-106.666667h-298.666666a21.333333 21.333333 0 0 0 0 42.666667h298.666666a21.333333 21.333333 0 0 0 0-42.666667z" p-id="23321"></path></svg>',school:'<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24"><g fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14 22v-4a2 2 0 1 0-4 0v4"/><path d="m18 10l3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10m12-5v17M4 6l7.106-3.553a2 2 0 0 1 1.788 0L20 6M6 5v17"/><circle cx="12" cy="9" r="2"/></g></svg>',zhuanye:'<svg t="1747030839150" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11152" width="200" height="200"><path d="M855.262679 1023.976727h-686.545455a100.072727 100.072727 0 0 1-98.955636-100.770909V100.770909A100.072727 100.072727 0 0 1 168.717224 0h686.545455A100.072727 100.072727 0 0 1 954.218315 100.770909v822.458182a100.072727 100.072727 0 0 1-98.955636 100.747636zM168.717224 81.850182a18.990545 18.990545 0 0 0-18.618182 18.897454v822.458182a18.990545 18.990545 0 0 0 18.618182 18.897455h686.545455a18.990545 18.990545 0 0 0 18.618181-18.897455V100.770909a18.990545 18.990545 0 0 0-18.618181-18.897454z" p-id="11153"></path><path d="M110.791406 809.774545h763.345454v81.850182h-763.345454z m130.327273-259.630545a40.517818 40.517818 0 0 1-40.075637-40.936727V44.939636a40.075636 40.075636 0 1 1 80.151273 0V509.207273a40.517818 40.517818 0 0 1-40.075636 40.936727z" p-id="11154"></path><path d="M244.190679 557.847273a40.936727 40.936727 0 0 1-26.228364-72.378182l147.549091-122.717091a40.936727 40.936727 0 0 1 52.386909 62.836364L270.465588 548.398545a40.773818 40.773818 0 0 1-26.274909 9.448728z m293.236363-9.774546a40.936727 40.936727 0 0 1-40.936727-40.936727V42.868364a40.936727 40.936727 0 1 1 81.850182 0v464.174545a40.936727 40.936727 0 0 1-40.913455 41.029818z" p-id="11155"></path><path d="M530.375406 555.776a40.750545 40.750545 0 0 1-26.181818-9.472l-147.432728-122.810182a40.936727 40.936727 0 0 1 52.386909-62.836363l147.432728 122.810181a40.936727 40.936727 0 0 1-26.228364 72.378182z" p-id="11156"></path></svg>',studentuser:'<svg t="1746980658471" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="48231" width="200" height="200"><path d="M686.699739 539.678484a225.807905 225.807905 0 0 0 48.185202-210.207946l113.837541-59.68942a56.617613 56.617613 0 0 0-0.602315-101.128693L532.326396 6.629682a60.773587 60.773587 0 0 0-55.232288 0L160.396865 168.652425a56.49715 56.49715 0 0 0-0.481852 101.128693l113.777309 59.508726a225.868137 225.868137 0 0 0 52.762797 215.508318 420.295428 420.295428 0 0 0-158.950937 131.84676A396.684679 396.684679 0 0 0 90.407858 911.668247a79.264658 79.264658 0 0 0 80.348825 77.939565h252.490461a45.29409 45.29409 0 0 0 10.239356-1.20463l53.726501 30.115751c13.010005 7.22778 28.790658 7.22778 41.800663 0l106.308603-59.508725a40.294876 40.294876 0 0 0 20.900331-35.054735v-119.077681a40.294876 40.294876 0 0 0-20.900331-35.054735l-106.308603-59.508725a43.005293 43.005293 0 0 0-41.800663 0l-106.308603 59.508725a40.294876 40.294876 0 0 0-20.900332 35.054735v103.718648H173.948953a318.022336 318.022336 0 0 1 61.797522-185.211872 338.501047 338.501047 0 0 1 157.927001-118.656061 42.162052 42.162052 0 0 0 9.275652-4.758289A245.142218 245.142218 0 0 0 613.217305 596.296097c3.61389 2.891112 7.709632 5.179909 12.046301 6.745928a330.1891 330.1891 0 0 1 224.543043 305.73511 40.47557 40.47557 0 1 0 3.19227 80.890908A79.264658 79.264658 0 0 0 933.648901 911.78871v-0.120463A409.995841 409.995841 0 0 0 686.699739 539.678484z m-242.913652 288.569131l64.50794-36.138902 64.507939 36.138902v72.277804l-64.507939 36.138902-64.50794-36.138902v-72.277804z m60.592892-287.424733a150.638989 150.638989 0 0 1 9.516577-301.037052 150.699221 150.699221 0 0 1 145.820469 150.458295 153.168712 153.168712 0 0 1-155.337046 150.578757z m0-382.28935a241.106707 241.106707 0 0 0-194.848912 97.514804l-69.627618-36.44006 265.018614-135.46065 264.054909 135.46065-70.229933 36.560523a241.106707 241.106707 0 0 0-194.547755-97.635267h0.180695z" fill="#000000" p-id="48232"></path></svg>',xiazhankai:'<svg t="1746980335433" class="icon" viewBox="0 0 1446 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40393" width="200" height="200"><path d="M693.7236 0.280133H133.030358C119.345104 0.280133 108.27213 15.769922 108.27213 34.805193v103.485815c0 19.09886 11.072974 34.525061 24.758228 34.525061h560.693242c13.656037 0 24.759946-15.426201 24.759946-34.525061V34.805193c0-19.035272-11.10219-34.525061-24.759946-34.52506M133.030358 598.423502h486.540581c13.625102 0 24.698076-15.491508 24.698076-34.526779v-103.484097c0-19.09886-11.071255-34.497563-24.698076-34.497563H133.030358c-13.654319 0-24.758227 15.396984-24.758228 34.497563v103.484097c0 19.035272 11.103908 34.526779 24.758228 34.526779M693.7236 851.491561H133.030358c-13.685254 0-24.758227 15.489789-24.758228 34.495845v103.485815c0 19.128076 11.072974 34.525061 24.758228 34.52506h560.693242c13.656037 0 24.759946-15.396984 24.759946-34.52506v-103.485815c0-19.006055-11.10219-34.495844-24.759946-34.495845" fill="#000000" p-id="40394"></path></svg>',sousuo:'<svg t="1746980802612" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="52505" width="200" height="200"><path d="M965.213 922.599l-148.659-148.647c-1.501-1.501-3.428-2.164-5.092-3.381 144.754-172.944 136.125-431.612-26.34-594.078-83.242-83.228-193.91-129.070-311.613-129.070-117.715 0-228.384 45.843-311.612 129.071-171.831 171.831-171.831 451.419 0 623.226 83.228 83.255 193.897 129.098 311.612 129.098 104.51 0 203.353-36.297 282.482-102.666 1.205 1.641 1.854 3.542 3.338 5.025l148.66 148.646c7.904 7.904 18.258 11.856 28.612 11.856s20.722-3.952 28.612-11.856c15.809-15.808 15.809-41.417 0-57.225zM473.509 847.881c-96.098 0-186.441-37.438-254.389-105.385-140.269-140.269-140.269-368.481 0-508.776 67.948-67.948 158.29-105.36 254.389-105.36 96.085 0 186.441 37.413 254.389 105.359 140.269 140.295 140.269 368.508 0 508.776-67.961 67.948-158.302 105.386-254.389 105.386z" fill="#000000" p-id="52506"></path></svg>',xiaoxi:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M9 11h9v2H9zm9-4H6v2h12zm4-3v18l-4-4H4a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2m-2 0H4v12h14.83L20 17.17z"/></svg>',back:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M17.77 3.77L16 2L6 12l10 10l1.77-1.77L9.54 12z"/></svg>',weishouchang:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 14.3q1.275-1.175 2.063-1.937t1.212-1.313t.575-.962T16 9.2q0-.9-.65-1.55T13.8 7q-.525 0-1.013.213T12 7.8q-.3-.375-.775-.587T10.2 7q-.9 0-1.55.65T8 9.2q0 .475.137.875t.563.95t1.2 1.313T12 14.3M5 21V3h14v18l-7-3zm2-3.05l5-2.15l5 2.15V5H7zM7 5h10z"/></svg>',souchang:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="#0284c7" d="M12 14.3q1.275-1.175 2.063-1.937t1.212-1.313t.575-.962T16 9.2q0-.9-.65-1.55T13.8 7q-.525 0-1.013.213T12 7.8q-.3-.375-.775-.587T10.2 7q-.9 0-1.55.65T8 9.2q0 .475.137.875t.563.95t1.2 1.313T12 14.3M5 21V3h14v18l-7-3zm2-3.05l5-2.15l5 2.15V5H7zM7 5h10z"/></svg>',fenxiang:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 9q-.6 0-1.125-.213T14.95 8.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22"/></svg>',baoming:'<svg t="1746982508826" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="58769" width="200" height="200"><path d="M184.32 205.531429c63.268571-35.401143 184.612571-87.771429 286.427429-40.228572l0.731428 0.292572c16.310857 8.045714 30.208 15.140571 42.422857 21.357714 53.613714 27.209143 67.218286 33.499429 95.085715 32.914286 29.257143-0.731429 67.364571-19.529143 110.372571-54.418286 17.408-14.628571 48.420571-24.502857 75.922286-11.849143 11.337143 5.12 37.595429 22.162286 37.595428 67.437714v270.336c-0.146286 16.384-3.730286 70.948571-42.934857 95.012572-1.170286 0.731429-96.987429 57.417143-192.073143 57.417143a187.684571 187.684571 0 0 1-68.973714-12.141715 3317.028571 3317.028571 0 0 1-19.017143-7.606857c-66.121143-26.550857-119.881143-47.981714-190.171428-19.748571l76.580571 247.661714a35.328 35.328 0 0 1-67.584 20.845714l-96.548571-312.685714-0.438858-1.901714c-23.552-72.923429-63.634286-204.507429-82.285714-265.874286-10.020571-33.572571 4.388571-69.485714 34.816-86.820571z m256.292571 23.552c-76.068571-35.108571-180.370286 14.921143-221.769142 38.034285a3.949714 3.949714 0 0 0-1.755429 4.681143c18.651429 61.293714 58.733714 192.950857 81.846857 264.557714a242.541714 242.541714 0 0 1 86.235429-16.018285c56.246857 0 105.472 19.748571 151.113143 38.107428 6.144 2.56 12.288 4.973714 18.505142 7.460572 61.952 24.356571 166.985143-20.626286 198.217143-39.789715 4.096-3.072 9.289143-21.211429 9.216-37.156571V221.622857c-55.369143 44.470857-106.276571 67.657143-151.405714 68.754286-46.518857 1.243429-74.166857-12.726857-128.877714-40.594286l-12.434286-6.290286z" fill="#000000" p-id="58770"></path></svg>',Baominrenshu:'<svg t="1746983544943" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M927 693.9c0 3.72-0.12 7.41-0.29 11.09h-0.31c2.06 11.8-1.23 23.89-9.05 33.2-7.82 9.31-19.42 14.95-31.84 15.49v0.11h-43.34l-6.15-44.36h3.38v-0.11c15.34-0.74 29.15-9.18 36.37-22.22 7.22-13.04 6.79-28.78-1.13-41.44-17.38-66.12-68.95-118.95-136.44-139.8l-0.24-0.49s-23.06-3.61-23.06-22.18S737.96 461 737.96 461l-0.19-1.28c1.35 0.33 2.73 0.58 4.06 0.92 37.47-17.72 57.86-57.48 49.68-96.87-8.19-39.4-42.89-68.56-84.57-71.06l-26.31-43.03c60.42-8.8 119.67 21.65 145.67 74.86 25.99 53.21 12.55 116.52-33.06 155.66C875.53 522.08 927.02 604.33 927 693.9zM623.77 491.17c114.46 46.24 188.65 154.29 187.95 273.71v37.71c0 9.41-3.88 18.44-10.8 25.1-6.92 6.66-16.3 10.39-26.09 10.39H249.17c-9.78 0-19.16-3.74-26.09-10.39-6.92-6.65-10.8-15.68-10.8-25.1v-37.71c-0.73-120.58 74.91-229.44 191-274.9-58.95-45.46-81.54-121.83-56.29-190.33 25.24-68.5 92.77-114.13 168.33-113.72 75.54 0.41 142.54 46.77 166.98 115.54 24.43 68.77 0.95 144.89-58.53 189.7zM258.98 752.09c-0.38 2.02-0.58 4.08-0.59 6.13 0 1.09 0.07 2.17 0.17 3.24 0 0.4-0.05 0.79-0.07 1.2h0.21c2.32 17.74 17.99 31.04 36.56 31.05h433.45c18.58-0.02 34.25-13.32 36.57-31.05h0.2c0-0.4-0.05-0.8-0.05-1.2 0.1-1.07 0.17-2.15 0.17-3.24a34.14 34.14 0 0 0-0.6-6.13c-7.48-116.87-100.22-212.15-220.96-226.98-20.32 3.35-41.1 3.24-61.38-0.33-121.9 13.7-216.13 109.44-223.68 227.31z m255.33-521.76c-72.58 0-131.42 56.6-131.42 126.42 0 69.83 58.84 126.44 131.42 126.44s131.42-56.61 131.42-126.44c-0.01-69.82-58.84-126.42-131.42-126.42zM229.63 381.15c-0.04 33.67 19.72 64.47 51.04 79.5 1.33-0.35 2.69-0.6 4.03-0.92l-0.19 1.28s22.87 3.61 22.87 22.19c0 18.57-22.87 22.18-22.87 22.18l-0.23 0.49c-67.14 21.05-118.28 73.88-135.33 139.8-7.84 12.63-8.27 28.28-1.13 41.29 7.15 13.01 20.83 21.49 36.09 22.37v0.11h3.35l-6.09 44.36h-42.99v-0.11c-23.15-1.26-41.23-19.72-41.16-42.03 0.02-2.23 0.21-4.45 0.59-6.65h-0.31c-0.18-3.69-0.27-7.39-0.28-11.09-0.17-89.34 50.84-171.5 132.68-213.7-42.42-36.75-57.03-94.79-36.81-146.14 20.23-51.35 71.14-85.5 128.23-85.98 6.79 0.05 13.58 0.58 20.29 1.61l-26.1 43.03c-48.35 3.1-85.84 41.81-85.68 88.41z m0 0" fill="#000000" p-id="10925"></path></svg>',Zhubanfang:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 14 14"><g fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"><path d="M3.481 8.68h7.037v4.71H3.481zm1.588-2.702h3.81"/><path d="M5.943 11.628c0-.584.473-1.057 1.057-1.057v0c.584 0 1.058.473 1.058 1.057v1.761H5.943zM5.067 8.68V5.968l1.91-2.938l1.91 2.938v2.71M.59 6.71v6.68h2.892V6.71L2.036 4.513L.59 6.711Zm9.929 0v6.68h2.89V6.71l-1.445-2.198l-1.445 2.199Z"/><path d="M6.977 3.031V.55h1.25"/></g></svg>',dengji:'<svg t="1747012786627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19042" width="200" height="200"><path d="M832 627.2c-64 76.8-185.6 198.4-288 204.8v89.6h172.8c12.8 0 32 19.2 32 32s-12.8 32-25.6 32H307.2c-12.8 0-25.6-19.2-25.6-32s19.2-32 32-32h172.8V832C390.4 832 256 704 198.4 627.2 115.2 627.2 57.6 569.6 51.2 454.4V281.6c0-25.6 6.4-32 32-32h89.6V102.4c0-12.8 0-19.2 19.2-25.6h640c19.2 6.4 25.6 12.8 32 32V256h89.6c25.6 0 32 12.8 32 32v172.8c-12.8 102.4-51.2 166.4-153.6 166.4zM166.4 454.4V307.2h-57.6v147.2c0 57.6 12.8 108.8 57.6 115.2V454.4z m633.6-294.4c0-12.8-19.2-32-32-32H249.6c-12.8 0-32 19.2-32 32v326.4C230.4 646.4 384 774.4 512 768c160-6.4 281.6-134.4 288-281.6V160z m115.2 294.4V307.2c0-6.4 0 0 0 0h-57.6v262.4c32-6.4 64-32 57.6-115.2z m0-147.2c0 6.4 0 0 0 0zM633.6 595.2L512 537.6l-128 57.6 19.2-134.4-96-96L448 339.2l64-115.2 64 115.2 134.4 25.6-89.6 96 12.8 134.4zM537.6 390.4L512 339.2l-25.6 51.2-64 12.8 44.8 44.8-6.4 64 51.2-32 51.2 32-6.4-64 38.4-44.8-57.6-12.8z m0 0" p-id="19043" fill="#2c2c2c"></path></svg>',chuangjianduiwu:'<svg t="1746983056433" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5327" data-darkreader-inline-fill="" width="200" height="200"><path d="M211.797333 598.997333c9.386667 18.346667 2.048 40.832-16.341333 50.218667-25.088 12.8-45.482667 33.152-58.24 58.24l-2.688 5.717333c-9.216 21.376-11.52 49.194667-11.818667 134.528L122.666667 896a37.333333 37.333333 0 1 1-74.666667 0v-50.517333c0.426667-106.24 3.84-134.997333 22.656-171.946667a208 208 0 0 1 90.88-90.88 37.333333 37.333333 0 0 1 50.261333 16.341333z m462.208-38.997333a37.333333 37.333333 0 0 1 0 74.666667h-187.349333l-30.890667 0.298666c-62.037333 0.853333-81.834667 3.968-99.925333 13.226667-23.296 11.861333-42.24 30.805333-54.144 54.101333l-2.56 5.546667c-7.253333 16.938667-9.813333 38.570667-10.666667 94.378667l-0.256 39.850666h385.792c19.029333 0 34.730667 14.250667 37.034667 32.64l0.298667 4.693334a37.333333 37.333333 0 0 1-37.333334 37.333333H250.88a37.333333 37.333333 0 0 1-37.333333-37.333333l0.042666-48.597334c0.384-100.053333 3.669333-127.232 21.589334-162.432a198.528 198.528 0 0 1 86.741333-86.741333l8.021333-3.84c31.786667-14.549333 62.037333-17.408 154.453334-17.749333l189.610666-0.042667z m146.602667 20.266667c20.650667 0 37.333333 16.725333 37.333333 37.333333v83.541333h83.584a37.333333 37.333333 0 0 1 0 74.666667h-83.584v83.584a37.333333 37.333333 0 0 1-74.666666 0v-83.584H699.733333a37.333333 37.333333 0 1 1 0-74.666667h83.541334v-83.541333c0-20.608 16.725333-37.333333 37.333333-37.333333zM512 90.666667a186.666667 186.666667 0 1 0 0 373.333333 186.666667 186.666667 0 0 0 0-373.333333z m0 74.666666a112 112 0 1 1 0 224 112 112 0 0 1 0-224zM234.666667 124.16a37.333333 37.333333 0 1 1 42.666666 61.226667A111.786667 111.786667 0 0 0 229.376 277.333333c0 37.12 18.176 71.04 47.786667 91.776l6.528 4.266667a37.333333 37.333333 0 1 1-38.528 63.957333 186.538667 186.538667 0 0 1-90.453334-160 186.453333 186.453333 0 0 1 79.957334-153.173333z m502.698666 9.258667a37.333333 37.333333 0 0 1 52.010667-9.258667 186.453333 186.453333 0 0 1 79.957333 153.173333 186.453333 186.453333 0 0 1-79.957333 153.173334 37.333333 37.333333 0 1 1-42.752-61.226667A111.786667 111.786667 0 0 0 794.666667 277.333333a111.786667 111.786667 0 0 0-48.042667-91.946666 37.333333 37.333333 0 0 1-9.258667-51.968z" fill="#000000" p-id="3715"></path></svg>',xiazai:'<svg t="1746984471332" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17835" width="200" height="200"><path d="M960 1024H64a64 64 0 0 1-64-64v-256a64 64 0 0 1 128 0v192h768v-192a64 64 0 0 1 128 0v256a64 64 0 0 1-64 64zM256 448h192V64a64 64 0 0 1 128 0v384h192l-256 320z" fill="#ffffff" p-id="17836"></path></svg>',tixingwo:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="#000000" d="M3.23 9.827q0-1.923.767-3.578t2.084-2.857l.675.735q-1.173 1.062-1.85 2.525t-.675 3.175zm16.54 0q0-1.711-.677-3.185q-.676-1.473-1.849-2.534l.675-.716q1.318 1.202 2.084 2.857t.766 3.578zM5 18.769v-1h1.616V9.846q0-1.96 1.24-3.447T11 4.546V4q0-.413.293-.707T12 3t.707.293T13 4v.546q1.904.365 3.144 1.853t1.24 3.447v7.923H19v1zm7 2.616q-.671 0-1.143-.473q-.472-.472-.472-1.143h3.23q0 .672-.472 1.144t-1.143.47M7.616 17.77h8.769V9.846q0-1.823-1.281-3.104T12 5.462t-3.104 1.28t-1.28 3.104z"/></svg>',remen:'<svg t="1747011064412" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5065" width="200" height="200"><path d="M867.157333 614.4a624.128 624.128 0 0 0-53.077333-185.002667A1339.392 1339.392 0 0 0 619.349333 125.781333c-21.674667-26.453333-44.032-52.565333-68.266666-77.482666l-1.024-0.853334-2.218667-2.389333a25.770667 25.770667 0 0 0-42.154667 24.917333 571.050667 571.050667 0 0 1 9.557334 61.610667 310.954667 310.954667 0 0 1-38.741334 189.610667 538.965333 538.965333 0 0 1-104.277333 119.466666c-17.066667-33.109333-11.264-75.434667-3.925333-110.933333a24.064 24.064 0 0 0 0-7.850667 25.258667 25.258667 0 0 0-37.888-21.845333 422.229333 422.229333 0 0 0-111.445334 113.493333 367.104 367.104 0 0 0-60.586666 261.12 319.658667 319.658667 0 0 0 68.266666 163.157334A485.717333 485.717333 0 0 0 353.109333 938.666667l8.021334 4.608 2.730666 1.706666 23.722667 12.970667 3.584 1.877333 18.602667 9.386667h1.706666l3.242667 1.536 2.901333 1.365333 11.093334 5.12 3.754666 1.706667c3.754667 1.706667 19.968 9.216 6.826667 2.901333l5.461333 2.218667a20.309333 20.309333 0 0 0 18.773334-2.048 22.869333 22.869333 0 0 0 12.8-15.36 75.093333 75.093333 0 0 1 25.941333-51.2c4.096-2.730667 8.192-5.12 12.288-7.509333a73.386667 73.386667 0 0 1 38.741333 58.368 19.626667 19.626667 0 0 0 12.288 15.530666 19.968 19.968 0 0 0 19.114667 2.218667l5.290667-2.218667h0.853333a759.637333 759.637333 0 0 0 82.432-41.472h1.024c61.098667-36.352 121.344-81.066667 158.208-143.36 35.669333-51.541333 41.301333-122.538667 34.645333-182.613333zM650.752 896c-17.066667 10.24-35.328 19.797333-53.589333 28.672a113.493333 113.493333 0 0 0-39.424-51.2 83.114667 83.114667 0 0 0-40.789334-18.944 83.968 83.968 0 0 0-40.618666 18.944 24.064 24.064 0 0 0-4.949334 4.266667 109.568 109.568 0 0 0-34.133333 46.933333c-9.386667-4.608-18.602667-9.216-27.818667-14.165333-3.754667-2.048-7.68-3.925333-11.434666-6.144-11.605333-6.314667-22.869333-13.141333-34.133334-20.138667a464.213333 464.213333 0 0 1-79.530666-61.44c-63.317333-62.464-87.04-156.501333-76.117334-243.541333a347.818667 347.818667 0 0 1 55.637334-140.629334 429.397333 429.397333 0 0 1 47.445333-57.344 150.698667 150.698667 0 0 0 39.594667 114.688 25.941333 25.941333 0 0 0 36.181333 0c51.2-46.250667 102.4-94.037333 137.557333-153.6a356.693333 356.693333 0 0 0 42.325334-199.850666q47.445333 55.978667 89.429333 115.882666c68.266667 97.792 131.242667 206.165333 154.624 324.266667 11.946667 60.245333 13.824 135.338667-21.162667 188.757333-32.256 54.442667-85.674667 92.842667-139.093333 124.586667z" fill="#e3361f" p-id="5066"></path><path d="M375.637333 655.189333h-66.389333v-66.048h-33.792v167.765334h33.792v-73.386667h66.389333v73.386667H409.6v-167.765334h-33.962667v66.048zM518.826667 586.24a91.818667 91.818667 0 0 0-36.181334 6.656 65.194667 65.194667 0 0 0-21.674666 15.189333 77.994667 77.994667 0 0 0-15.701334 23.381334 106.666667 106.666667 0 0 0-7.509333 43.008 86.869333 86.869333 0 0 0 22.016 62.976 78.848 78.848 0 0 0 59.392 22.869333 77.824 77.824 0 0 0 59.050667-23.04 87.552 87.552 0 0 0 22.186666-63.488 88.234667 88.234667 0 0 0-22.357333-64 78.336 78.336 0 0 0-59.221333-23.552z m34.133333 129.877333a45.226667 45.226667 0 0 1-66.730667 0 63.488 63.488 0 0 1-13.141333-43.178666 63.488 63.488 0 0 1 12.8-43.349334 46.933333 46.933333 0 0 1 67.413333 0 63.146667 63.146667 0 0 1 12.629334 43.008 64.512 64.512 0 0 1-13.482667 44.202667zM614.741333 617.472h49.834667v139.434667h33.792v-139.434667h49.664v-28.330667h-133.290667v28.330667z" fill="#e3361f" p-id="5067"></path></svg>',zhinnegtuijzudui:'<svg t="1747011289535" class="icon" viewBox="0 0 1328 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12832" width="200" height="200"><path d="M859.589792 158.080905h-81.155741a25.106239 25.106239 0 0 1-25.950146-18.776935L724.91627 56.53074l-58.440572 105.488398A27.356658 27.356658 0 0 1 618.865268 162.019138l-22.715169-40.929498L573.083303 147.954018a26.161123 26.161123 0 0 1-21.09768 9.91591H468.931091a19.550516 19.550516 0 0 1 0-39.101033h77.358159L576.669908 82.691863a27.497309 27.497309 0 0 1 44.938058 4.219536l21.09768 37.553869L703.67794 14.335381a25.24689 25.24689 0 0 1 26.442425-14.06512 25.457867 25.457867 0 0 1 23.48875 18.565958l33.264008 100.003002h72.716669a19.550516 19.550516 0 1 1 0 39.101032z" fill="#3A4362" p-id="12833"></path><path d="M312.667611 164.480534a78.13174 78.13174 0 1 1 60.620666-28.76317l146.347571 263.650669a30.802612 30.802612 0 0 1 3.867908 15.120004v2.39107A31.224566 31.224566 0 0 1 492.27919 445.782928a31.365217 31.365217 0 0 1-27.00503-16.034236l-147.683757-265.338484h-4.993117z m726.674411 0a78.13174 78.13174 0 1 0-60.550341-28.76317l-146.628873 263.650669a31.576194 31.576194 0 0 0-3.867908 15.120004v2.39107a31.224566 31.224566 0 0 0 31.224566 28.903821 31.365217 31.365217 0 0 0 26.934704-16.034236l147.683757-265.338484h4.993118zM156.26348 867.73652H78.13174A78.13174 78.13174 0 0 1 0 789.60478v-78.202066A78.13174 78.13174 0 0 1 78.13174 633.200649h78.13174zM1172.187077 633.200649h78.13174a78.13174 78.13174 0 0 1 78.13174 78.13174v78.202065a78.13174 78.13174 0 0 1-78.13174 78.13174h-78.13174z" fill="#4A5B9F" p-id="12834"></path><path d="M781.458052 242.612274A390.729026 390.729026 0 0 1 1172.187077 633.200649v312.597285a78.202066 78.202066 0 0 1-78.13174 78.13174H234.465546a78.202066 78.202066 0 0 1-78.13174-78.13174V633.200649a390.729026 390.729026 0 0 1 390.729025-390.588375zM507.961799 477.007494a117.232773 117.232773 0 1 0 0 234.39522h312.597285a117.232773 117.232773 0 1 0 0-234.39522z" fill="#A4BEFF" p-id="12835"></path><path d="M617.38843 594.240267a78.413042 78.413042 0 0 1-1.547163 15.190329 70.888203 70.888203 0 0 1-4.430513 14.69805 76.162623 76.162623 0 0 1-7.03256 13.572841 74.123181 74.123181 0 0 1-9.704932 11.8147 76.865879 76.865879 0 0 1-11.744375 9.704933 81.366718 81.366718 0 0 1-28.13024 11.674049 75.670344 75.670344 0 0 1-30.450984 0 72.365041 72.365041 0 0 1-14.69805-4.500838 75.529693 75.529693 0 0 1-13.502515-7.03256 81.788671 81.788671 0 0 1-11.8147-9.704932 74.123181 74.123181 0 0 1-9.704933-11.814701 81.01509 81.01509 0 0 1-7.03256-13.57284 72.646343 72.646343 0 0 1-4.430513-14.698051 78.342717 78.342717 0 0 1-1.476837-15.190329 74.404483 74.404483 0 0 1 1.547163-15.260655 72.716669 72.716669 0 0 1 4.360187-14.627724 83.124858 83.124858 0 0 1 7.03256-13.502515 74.685786 74.685786 0 0 1 9.704933-11.885026 77.358158 77.358158 0 0 1 11.8147-9.704933 82.77323 82.77323 0 0 1 13.502515-7.03256 76.936205 76.936205 0 0 1 14.69805-4.430512 75.670344 75.670344 0 0 1 30.450984 0 75.459367 75.459367 0 0 1 14.69805 4.430512 74.967088 74.967088 0 0 1 25.317216 16.878144 74.685786 74.685786 0 0 1 9.704933 11.885026 78.061414 78.061414 0 0 1 7.032559 13.502515 70.325599 70.325599 0 0 1 4.500839 14.627724 79.608578 79.608578 0 0 1 1.336186 14.979353z" fill="#5B79FB" p-id="12836"></path><path d="M867.395933 594.240267a78.342717 78.342717 0 0 1-1.476838 15.190329 79.467926 79.467926 0 0 1-11.603723 28.13024 78.624019 78.624019 0 0 1-9.775258 11.8147 77.358158 77.358158 0 0 1-11.814701 9.704933 73.208948 73.208948 0 0 1-13.502515 7.03256 72.365041 72.365041 0 0 1-14.69805 4.500838 73.419925 73.419925 0 0 1-15.260655 1.547163 74.263832 74.263832 0 0 1-15.190329-1.547163 79.25695 79.25695 0 0 1-28.13024-11.674049 78.694345 78.694345 0 0 1-11.885026-9.704933 74.123181 74.123181 0 0 1-9.704932-11.533398 76.162623 76.162623 0 0 1-7.03256-13.572841 77.358158 77.358158 0 0 1-4.500839-14.69805 78.342717 78.342717 0 0 1-1.476837-15.190329 79.678903 79.678903 0 0 1 1.547163-15.260655 83.335834 83.335834 0 0 1 4.430513-14.627724 78.061414 78.061414 0 0 1 7.03256-13.502515 76.3736 76.3736 0 0 1 21.589958-21.589959 76.725228 76.725228 0 0 1 13.43219-7.03256 75.459367 75.459367 0 0 1 14.69805-4.430513 74.263832 74.263832 0 0 1 15.190329-1.547163 73.419925 73.419925 0 0 1 15.260655 1.547163 76.936205 76.936205 0 0 1 14.69805 4.430513 82.77323 82.77323 0 0 1 13.502515 7.03256 78.834996 78.834996 0 0 1 21.589959 21.589959 82.77323 82.77323 0 0 1 7.03256 13.502515 81.366718 81.366718 0 0 1 6.048001 29.888379z" fill="#FF7E71" p-id="12837"></path><path d="M898.690824 914.503043H1054.883979a39.101033 39.101033 0 1 0 0-78.13174H273.566579a39.101033 39.101033 0 1 0 0 78.13174z" fill="#FFFFFF" p-id="12838"></path><path d="M312.667611 594.240267a195.294187 195.294187 0 0 1 195.294188-195.364513h312.597285a195.364513 195.364513 0 0 1 0 390.729026H507.961799a195.294187 195.294187 0 0 1-195.294188-195.364513z m31.224566 0a163.999296 163.999296 0 0 0 164.069622 164.139947h312.597285A163.999296 163.999296 0 0 0 984.55838 594.310593a163.999296 163.999296 0 0 0-164.069621-164.069622H507.961799A163.999296 163.999296 0 0 0 343.892177 594.310593z" fill="#4A5B9F" p-id="12839"></path></svg>',Shouye:'<svg t="1747011703930" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16363" width="200" height="200"><path d="M958.400956 451.54921c-0.058328-5.760191-2.597151-11.215436-6.965645-14.97097L524.345166 69.511143c-7.498788-6.445806-18.581194-6.445806-26.079982 0L309.582871 231.6755l0-102.017488c0-11.04966-8.901741-19.532869-19.951401-19.532869l-88.034009 0c-11.048637 0-19.928888 8.482185-19.928888 19.532869l0 211.954343L71.176063 436.57824c-4.423753 3.800559-6.967692 9.341762-6.967692 15.173584l0 105.500822c0 7.819083 4.554736 14.921851 11.660574 18.183128 2.670829 1.226944 5.51562 1.824555 8.343015 1.824555 4.699022 0 9.346879-1.654686 13.048177-4.836145l53.29788-45.825698 0 324.100516c0 60.677964 49.364291 110.042255 110.042255 110.042255L764.792447 960.741257c60.677964 0 110.042255-49.364291 110.042255-110.042255L874.834702 527.026228l51.585889 44.335764c5.955642 5.119601 14.356986 6.282077 21.481244 2.965541 7.122211-3.313465 11.645225-10.488889 11.565407-18.342764L958.400956 451.54921zM221.578538 150.034085l48.095391 0 0 115.941616-48.095391 41.336454L221.578538 150.034085zM570.718333 920.725892 436.666244 920.725892 436.666244 700.642404c0-11.031241 8.976442-20.007683 20.007683-20.007683l94.0357 0c11.031241 0 20.007683 8.976442 20.007683 20.007683L570.71731 920.725892zM834.818313 495.895207l0 354.803795c0 38.612413-31.414477 70.02689-70.02689 70.02689l-154.058748 0L610.732675 700.642404c0-33.096792-26.926256-60.023048-60.023048-60.023048l-94.0357 0c-33.096792 0-60.023048 26.926256-60.023048 60.023048l0 220.084511L260.59925 920.726915c-38.612413 0-70.02689-31.414477-70.02689-70.02689L190.57236 495.895207c0-1.172709-0.121773-2.314719-0.315178-3.432169l322.113255-276.958846 322.70268 277.348726C834.921667 493.848595 834.818313 494.858598 834.818313 495.895207zM525.411451 173.947727c-7.502881-6.445806-18.587334-6.446829-26.086122 0.00307L104.223736 513.663896l0-52.726875 407.081439-349.870436 407.176606 349.9523 0.521886 51.205219L525.411451 173.947727z" fill="#2c2c2c" p-id="16364"></path></svg>',Shouyexuanzhong:'<svg t="1747011703930" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16363" width="200" height="200"><path d="M958.400956 451.54921c-0.058328-5.760191-2.597151-11.215436-6.965645-14.97097L524.345166 69.511143c-7.498788-6.445806-18.581194-6.445806-26.079982 0L309.582871 231.6755l0-102.017488c0-11.04966-8.901741-19.532869-19.951401-19.532869l-88.034009 0c-11.048637 0-19.928888 8.482185-19.928888 19.532869l0 211.954343L71.176063 436.57824c-4.423753 3.800559-6.967692 9.341762-6.967692 15.173584l0 105.500822c0 7.819083 4.554736 14.921851 11.660574 18.183128 2.670829 1.226944 5.51562 1.824555 8.343015 1.824555 4.699022 0 9.346879-1.654686 13.048177-4.836145l53.29788-45.825698 0 324.100516c0 60.677964 49.364291 110.042255 110.042255 110.042255L764.792447 960.741257c60.677964 0 110.042255-49.364291 110.042255-110.042255L874.834702 527.026228l51.585889 44.335764c5.955642 5.119601 14.356986 6.282077 21.481244 2.965541 7.122211-3.313465 11.645225-10.488889 11.565407-18.342764L958.400956 451.54921zM221.578538 150.034085l48.095391 0 0 115.941616-48.095391 41.336454L221.578538 150.034085zM570.718333 920.725892 436.666244 920.725892 436.666244 700.642404c0-11.031241 8.976442-20.007683 20.007683-20.007683l94.0357 0c11.031241 0 20.007683 8.976442 20.007683 20.007683L570.71731 920.725892zM834.818313 495.895207l0 354.803795c0 38.612413-31.414477 70.02689-70.02689 70.02689l-154.058748 0L610.732675 700.642404c0-33.096792-26.926256-60.023048-60.023048-60.023048l-94.0357 0c-33.096792 0-60.023048 26.926256-60.023048 60.023048l0 220.084511L260.59925 920.726915c-38.612413 0-70.02689-31.414477-70.02689-70.02689L190.57236 495.895207c0-1.172709-0.121773-2.314719-0.315178-3.432169l322.113255-276.958846 322.70268 277.348726C834.921667 493.848595 834.818313 494.858598 834.818313 495.895207zM525.411451 173.947727c-7.502881-6.445806-18.587334-6.446829-26.086122 0.00307L104.223736 513.663896l0-52.726875 407.081439-349.870436 407.176606 349.9523 0.521886 51.205219L525.411451 173.947727z" fill="#1296db" p-id="16364"></path></svg>',jingshai:'<svg t="1747016440717" class="icon" viewBox="0 0 1113 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="60678" width="200" height="200"><path d="M971.769052 144.902286h-23.039835V52.230948c0-25.599817-20.479854-46.079671-46.079671-46.07967H282.109983c-22.527839 0-45.055678-2.047985-67.583517-5.63196-13.311905-2.047985-26.62381 2.047985-36.863736 10.751923-10.239927 8.703938-15.871887 21.503846-15.871887 35.327747v98.303298h-23.039835c-76.799451-0.511996-138.751008 61.439561-138.751008 138.239011v92.671338c0 76.799451 61.951557 138.751008 138.751008 138.751007h59.903572C255.99817 638.978753 373.757328 723.970145 509.948354 740.354028v190.462638H278.526009c-25.599817 0-46.079671 20.99185-46.079671 46.079671 0 25.599817 20.479854 46.079671 46.079671 46.07967h555.004031c25.599817 0 46.079671-20.99185 46.079671-46.07967 0-25.599817-20.479854-46.079671-46.079671-46.079671h-231.422345v-184.830678-5.63196c136.191026-15.871887 253.950184-101.375275 311.293774-225.790386h59.903572c76.799451 0 138.751008-61.951557 138.751008-138.751007V283.141297c0-76.799451-62.463553-138.751008-139.263004-138.239011h-1.023993zM138.751008 422.404301c-25.599817 0-46.079671-20.479854-46.079671-46.07967V283.653293c0-25.599817 20.479854-46.079671 46.079671-46.07967h23.039835v113.151191c0 24.063828 2.047985 48.639652 7.167949 72.191484l-30.207784-0.511997z m717.306871-72.191483c0 165.886814-134.655037 300.541851-301.053847 300.541851-165.886814 0-300.541851-134.655037-300.541851-300.541851V98.310619h601.595698v251.902199z m161.790843 26.111813c0 25.599817-20.479854 46.079671-46.07967 46.07967h-30.207784c4.607967-24.063828 6.655952-48.127656 7.167949-72.191483v-112.639195h23.039835c25.599817 0 46.079671 20.479854 46.07967 46.07967v92.671338z" p-id="60679" fill="#2c2c2c"></path><path d="M493.564471 195.077927h263.166118c11.263919 0 20.479854-20.479854 20.479854-32.767766s-9.215934-32.767766-20.479854-32.767766H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767766s9.215934 32.767766 20.479854 32.767766z m0 173.566759h262.142126c11.263919 0 20.479854-20.479854 20.479853-32.767766 0-11.775916-9.215934-32.767766-20.479853-32.767766H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767766 0 11.775916 9.215934 32.767766 20.479854 32.767766z m263.166118 108.543224H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767765s9.215934 32.767766 20.479854 32.767766h263.166118c11.263919 0 20.479854-20.479854 20.479854-32.767766s-9.215934-32.767766-20.479854-32.767765zM350.205496 173.574081c0 22.527839 18.431868 40.447711 40.959707 40.44771s40.959707-17.919872 40.959707-40.44771-18.431868-40.447711-40.959707-40.447711-40.959707 18.431868-40.959707 40.447711zM345.085533 334.852927c0 22.527839 18.431868 40.447711 40.959707 40.447711s40.959707-17.919872 40.959707-40.447711-18.431868-40.447711-40.959707-40.44771-40.959707 17.919872-40.959707 40.447711zM345.085533 497.155767c0 22.527839 18.431868 40.447711 40.959707 40.447711s40.959707-17.919872 40.959707-40.447711-18.431868-40.447711-40.959707-40.447711-40.959707 17.919872-40.959707 40.447711z" p-id="60680" fill="#2c2c2c"></path></svg>',jingshaixuanzhong:'<svg t="1747016440717" class="icon" viewBox="0 0 1113 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="60678" width="200" height="200"><path d="M971.769052 144.902286h-23.039835V52.230948c0-25.599817-20.479854-46.079671-46.079671-46.07967H282.109983c-22.527839 0-45.055678-2.047985-67.583517-5.63196-13.311905-2.047985-26.62381 2.047985-36.863736 10.751923-10.239927 8.703938-15.871887 21.503846-15.871887 35.327747v98.303298h-23.039835c-76.799451-0.511996-138.751008 61.439561-138.751008 138.239011v92.671338c0 76.799451 61.951557 138.751008 138.751008 138.751007h59.903572C255.99817 638.978753 373.757328 723.970145 509.948354 740.354028v190.462638H278.526009c-25.599817 0-46.079671 20.99185-46.079671 46.079671 0 25.599817 20.479854 46.079671 46.079671 46.07967h555.004031c25.599817 0 46.079671-20.99185 46.079671-46.07967 0-25.599817-20.479854-46.079671-46.079671-46.079671h-231.422345v-184.830678-5.63196c136.191026-15.871887 253.950184-101.375275 311.293774-225.790386h59.903572c76.799451 0 138.751008-61.951557 138.751008-138.751007V283.141297c0-76.799451-62.463553-138.751008-139.263004-138.239011h-1.023993zM138.751008 422.404301c-25.599817 0-46.079671-20.479854-46.079671-46.07967V283.653293c0-25.599817 20.479854-46.079671 46.079671-46.07967h23.039835v113.151191c0 24.063828 2.047985 48.639652 7.167949 72.191484l-30.207784-0.511997z m717.306871-72.191483c0 165.886814-134.655037 300.541851-301.053847 300.541851-165.886814 0-300.541851-134.655037-300.541851-300.541851V98.310619h601.595698v251.902199z m161.790843 26.111813c0 25.599817-20.479854 46.079671-46.07967 46.07967h-30.207784c4.607967-24.063828 6.655952-48.127656 7.167949-72.191483v-112.639195h23.039835c25.599817 0 46.079671 20.479854 46.07967 46.07967v92.671338z" p-id="60679" fill="#1296db"></path><path d="M493.564471 195.077927h263.166118c11.263919 0 20.479854-20.479854 20.479854-32.767766s-9.215934-32.767766-20.479854-32.767766H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767766s9.215934 32.767766 20.479854 32.767766z m0 173.566759h262.142126c11.263919 0 20.479854-20.479854 20.479853-32.767766 0-11.775916-9.215934-32.767766-20.479853-32.767766H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767766 0 11.775916 9.215934 32.767766 20.479854 32.767766z m263.166118 108.543224H493.564471c-11.263919 0-20.479854 20.479854-20.479854 32.767765s9.215934 32.767766 20.479854 32.767766h263.166118c11.263919 0 20.479854-20.479854 20.479854-32.767766s-9.215934-32.767766-20.479854-32.767765zM350.205496 173.574081c0 22.527839 18.431868 40.447711 40.959707 40.44771s40.959707-17.919872 40.959707-40.44771-18.431868-40.447711-40.959707-40.447711-40.959707 18.431868-40.959707 40.447711zM345.085533 334.852927c0 22.527839 18.431868 40.447711 40.959707 40.447711s40.959707-17.919872 40.959707-40.447711-18.431868-40.447711-40.959707-40.44771-40.959707 17.919872-40.959707 40.447711zM345.085533 497.155767c0 22.527839 18.431868 40.447711 40.959707 40.447711s40.959707-17.919872 40.959707-40.447711-18.431868-40.447711-40.959707-40.447711-40.959707 17.919872-40.959707 40.447711z" p-id="60680" fill="#1296db"></path></svg>',duiwutubiao:'<svg t="1747016563174" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="61812" width="200" height="200"><path d="M814.854912 699.376415c51.369172 20.244274 82.039177 45.714805 82.039177 73.406031 0 65.783199-173.040279 119.147018-386.494956 119.147018-213.403712 0-386.444591-53.363819-386.444591-119.147018 0-27.691225 30.632231-53.161756 82.014194-73.406031-12.293065 8.570189-19.058079 17.783942-19.058079 27.388431 0 44.70549 144.843996 80.903947 323.488275 80.903947 178.695444 0 323.513858-36.198457 323.513858-80.903947C833.912991 717.160157 827.185552 707.946604 814.854912 699.376415L814.854912 699.376415zM320.673168 157.838977c38.798095 0 70.25117 31.452675 70.25117 70.238179 0 38.798694-31.453075 70.264161-70.25117 70.264161-38.798694 0-70.25117-31.465666-70.25117-70.264161C250.421998 189.291452 281.874673 157.838977 320.673168 157.838977L320.673168 157.838977zM699.090601 157.838977c-38.773711 0-70.226187 31.452675-70.226187 70.238179 0 38.798694 31.452475 70.264161 70.226187 70.264161 38.823678 0 70.276153-31.465666 70.276153-70.264161C769.366753 189.291452 737.914278 157.838977 699.090601 157.838977L699.090601 157.838977zM629.684858 561.864848l0 185.170055 49.514229 0 19.777591-129.799596 19.828556 129.799596 53.906252 0L772.711486 541.960543c21.368512-11.157435 36.059352-33.522272 36.059352-59.219649l0-104.909671c0-36.690524-29.975477-66.704574-66.691583-66.704574l-82.06516 0c-5.288414 0-10.475897 0.618581-15.423543 1.804776 10.993546 16.79961 17.380216 36.830029 17.380216 58.311265l0 114.186781C661.970968 514.648061 649.967106 542.049482 629.684858 561.864848L629.684858 561.864848zM511.585329 131.850997c42.207184 0 76.435976 34.229193 76.435976 76.435577 0 42.219175-34.228793 76.448368-76.435976 76.448368-42.231167 0-76.447968-34.229193-76.447968-76.448368C435.137361 166.08019 469.353962 131.850997 511.585329 131.850997L511.585329 131.850997zM587.112921 550.012883c23.425118-12.040836 39.606147-36.526035 39.606147-64.583412l0-114.186781c0-39.908742-32.664853-72.573595-72.573595-72.573595l-89.334631 0c-39.934924 0-72.586586 32.664853-72.586586 72.573595l0 114.186781c0 27.931462 15.991558 52.302939 39.278369 64.432715l0 223.160097 58.652034 0 21.556785-141.246835 21.5334 141.246835 53.868277 0L587.113121 550.012883 587.112921 550.012883zM390.090902 561.864848c-20.269657-19.815565-32.260128-47.216787-32.260128-76.435577l0-114.186781c0-21.481436 6.361087-41.511655 17.366625-58.311265-4.947046-1.186196-10.122137-1.804776-15.422943-1.804776l-82.06516 0c-36.715907 0-66.692183 30.01405-66.692183 66.704574l0 104.909671c0 25.697577 14.691439 48.062214 36.072543 59.219649l0 205.07436 53.89386 0 19.828556-129.799596 19.777591 129.799596 49.501238 0L390.090902 561.864848z" fill="#2c2c2c" p-id="61813" data-spm-anchor-id="a313x.search_index.0.i27.c37e3a81TwHjNn" class=""></path></svg>',duiwutubiaoxuanzhong:'<svg t="1747016563174" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="61812" width="200" height="200"><path d="M814.854912 699.376415c51.369172 20.244274 82.039177 45.714805 82.039177 73.406031 0 65.783199-173.040279 119.147018-386.494956 119.147018-213.403712 0-386.444591-53.363819-386.444591-119.147018 0-27.691225 30.632231-53.161756 82.014194-73.406031-12.293065 8.570189-19.058079 17.783942-19.058079 27.388431 0 44.70549 144.843996 80.903947 323.488275 80.903947 178.695444 0 323.513858-36.198457 323.513858-80.903947C833.912991 717.160157 827.185552 707.946604 814.854912 699.376415L814.854912 699.376415zM320.673168 157.838977c38.798095 0 70.25117 31.452675 70.25117 70.238179 0 38.798694-31.453075 70.264161-70.25117 70.264161-38.798694 0-70.25117-31.465666-70.25117-70.264161C250.421998 189.291452 281.874673 157.838977 320.673168 157.838977L320.673168 157.838977zM699.090601 157.838977c-38.773711 0-70.226187 31.452675-70.226187 70.238179 0 38.798694 31.452475 70.264161 70.226187 70.264161 38.823678 0 70.276153-31.465666 70.276153-70.264161C769.366753 189.291452 737.914278 157.838977 699.090601 157.838977L699.090601 157.838977zM629.684858 561.864848l0 185.170055 49.514229 0 19.777591-129.799596 19.828556 129.799596 53.906252 0L772.711486 541.960543c21.368512-11.157435 36.059352-33.522272 36.059352-59.219649l0-104.909671c0-36.690524-29.975477-66.704574-66.691583-66.704574l-82.06516 0c-5.288414 0-10.475897 0.618581-15.423543 1.804776 10.993546 16.79961 17.380216 36.830029 17.380216 58.311265l0 114.186781C661.970968 514.648061 649.967106 542.049482 629.684858 561.864848L629.684858 561.864848zM511.585329 131.850997c42.207184 0 76.435976 34.229193 76.435976 76.435577 0 42.219175-34.228793 76.448368-76.435976 76.448368-42.231167 0-76.447968-34.229193-76.447968-76.448368C435.137361 166.08019 469.353962 131.850997 511.585329 131.850997L511.585329 131.850997zM587.112921 550.012883c23.425118-12.040836 39.606147-36.526035 39.606147-64.583412l0-114.186781c0-39.908742-32.664853-72.573595-72.573595-72.573595l-89.334631 0c-39.934924 0-72.586586 32.664853-72.586586 72.573595l0 114.186781c0 27.931462 15.991558 52.302939 39.278369 64.432715l0 223.160097 58.652034 0 21.556785-141.246835 21.5334 141.246835 53.868277 0L587.113121 550.012883 587.112921 550.012883zM390.090902 561.864848c-20.269657-19.815565-32.260128-47.216787-32.260128-76.435577l0-114.186781c0-21.481436 6.361087-41.511655 17.366625-58.311265-4.947046-1.186196-10.122137-1.804776-15.422943-1.804776l-82.06516 0c-36.715907 0-66.692183 30.01405-66.692183 66.704574l0 104.909671c0 25.697577 14.691439 48.062214 36.072543 59.219649l0 205.07436 53.89386 0 19.828556-129.799596 19.777591 129.799596 49.501238 0L390.090902 561.864848z" fill="#1296db" p-id="61813" data-spm-anchor-id="a313x.search_index.0.i27.c37e3a81TwHjNn" class=""></path></svg>',wode:'<svg t="1747016677504" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="66638" width="200" height="200"><path d="M512 599.900583c-165.406093 0-299.968593-134.562499-299.968593-299.944191S346.593907 0 512 0s299.956392 134.562499 299.956392 299.956392S677.393892 599.900583 512 599.900583z m0-553.256968c-139.686831 0-253.324977 113.638147-253.324977 253.312777s113.638147 253.300575 253.324977 253.300575 253.312776-113.638147 253.312776-253.300575S651.67463 46.643615 512 46.643615z" p-id="66639" fill="#2c2c2c"></path><path d="M512 463.178544a106.537287 106.537287 0 0 1-90.17603-49.413195l19.64327-12.566812a83.660809 83.660809 0 0 0 144.103516-5.148733l20.509526 11.114919a106.939913 106.939913 0 0 1-94.080282 56.013821zM987.95277 1024H36.04723l1.598304-24.828605C53.67737 749.982485 262.03024 554.782066 512 554.782066s458.347031 195.21262 474.366667 444.438132zM86.521894 977.295381h850.956212c-26.097487-212.68415-208.389472-375.906302-425.478106-375.906302S112.655983 764.586829 86.521894 977.295381z" p-id="66640" fill="#2c2c2c"></path></svg>',wodexuanzhong:'<svg t="1747016677504" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="66638" width="200" height="200"><path d="M512 599.900583c-165.406093 0-299.968593-134.562499-299.968593-299.944191S346.593907 0 512 0s299.956392 134.562499 299.956392 299.956392S677.393892 599.900583 512 599.900583z m0-553.256968c-139.686831 0-253.324977 113.638147-253.324977 253.312777s113.638147 253.300575 253.324977 253.300575 253.312776-113.638147 253.312776-253.300575S651.67463 46.643615 512 46.643615z" p-id="66639" fill="#1296db"></path><path d="M512 463.178544a106.537287 106.537287 0 0 1-90.17603-49.413195l19.64327-12.566812a83.660809 83.660809 0 0 0 144.103516-5.148733l20.509526 11.114919a106.939913 106.939913 0 0 1-94.080282 56.013821zM987.95277 1024H36.04723l1.598304-24.828605C53.67737 749.982485 262.03024 554.782066 512 554.782066s458.347031 195.21262 474.366667 444.438132zM86.521894 977.295381h850.956212c-26.097487-212.68415-208.389472-375.906302-425.478106-375.906302S112.655983 764.586829 86.521894 977.295381z" p-id="66640" fill="#1296db"></path></svg>',chuangjiantubiao:'<svg t="1747017520520" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="70747" width="200" height="200"><path d="M851.7 462.3H655.4c-21.3 0-38.6-17.3-38.6-38.6V219.5c0-35.9-29.4-65.3-65.3-65.3h-23.9c-35.9 0-65.3 29.4-65.3 65.3v204.1c0 21.3-17.3 38.6-38.6 38.6H227.3c-35.9 0-65.3 29.4-65.3 65.3v23.9c0 35.9 29.4 65.3 65.3 65.3h196.4c21.3 0 38.6 17.3 38.6 38.6v204.1c0 35.9 29.4 65.3 65.3 65.3h23.9c35.9 0 65.3-29.4 65.3-65.3v-204c0-21.3 17.3-38.6 38.6-38.6h196.4c35.9 0 65.3-29.4 65.3-65.3v-23.9c-0.1-36-29.5-65.3-65.4-65.3z" fill="#9c4fda" p-id="70748"></path><path d="M512.8 902.5h-23.9c-45 0-81.6-36.6-81.6-81.6V616.7c0-12.3-10-22.3-22.3-22.3H188.6c-45 0-81.6-36.6-81.6-81.6v-23.9c0-45 36.6-81.6 81.6-81.6H385c12.3 0 22.3-10 22.3-22.3V180.9c0-45 36.6-81.6 81.6-81.6h23.9c45 0 81.6 36.6 81.6 81.6V385c0 12.3 10 22.3 22.3 22.3h196.4c45 0 81.6 36.6 81.6 81.6v23.9c0 45-36.6 81.6-81.6 81.6H616.7c-12.3 0-22.3 10-22.3 22.3 0 9-7.3 16.4-16.4 16.4-9 0-16.4-7.3-16.4-16.4 0-30.3 24.7-55 55-55H813c27 0 48.9-21.9 48.9-48.9v-23.9c0-27-21.9-48.9-48.9-48.9H616.7c-30.3 0-55-24.7-55-55V180.9c0-27-21.9-48.9-48.9-48.9h-23.9c-27 0-48.9 21.9-48.9 48.9V385c0 30.3-24.7 55-55 55H188.6c-27 0-48.9 21.9-48.9 48.9v23.9c0 27 21.9 48.9 48.9 48.9H385c30.3 0 55 24.7 55 55v204.1c0 27 21.9 48.9 48.9 48.9h23.9c27 0 48.9-21.9 48.9-48.9V720.7c0-9 7.3-16.4 16.4-16.4 9 0 16.4 7.3 16.4 16.4v100.1c0 45-36.7 81.7-81.7 81.7z" fill="#c2c2cd" p-id="70749"></path></svg>',baomingrhenshu2:'<svg t="1747029692512" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="109794" width="200" height="200"><path d="M588.8 516.608c2.048-1.024 7.68-4.608 8.704-5.12 6.144-3.584 19.968-13.312 21.504-14.336 5.12-4.096 18.432-16.384 20.48-18.432 3.584-4.096 23.04-29.184 24.576-32.256 3.584-6.144 7.168-12.8 10.24-19.456 0.512-1.024 1.024-1.536 1.536-2.56 10.752-24.064 16.896-50.688 16.896-78.848 0-105.472-81.92-190.976-182.272-190.976S328.192 240.128 328.192 345.6c0 75.264 42.496 140.8 103.424 171.52-115.2 35.328-201.216 145.408-204.8 276.48 0 0.512-0.512 1.024-0.512 1.536v1.024c0 3.584 1.024 7.168 2.56 10.24 4.096 8.704 12.288 14.848 22.528 14.848 10.24 0 18.944-6.144 22.528-15.36 1.024-2.56 1.536-5.12 1.536-7.68 0-1.024 0.512-2.048 0.512-3.072v-11.776c0-2.048 0.512-4.096 1.024-6.144h-0.512c7.68-68.608 41.984-128.512 91.648-168.448 1.024-0.512 2.048-1.024 2.56-1.536l0.512 0.512c29.184-23.04 64-39.424 101.376-46.592 0.512 0 1.536 0 2.048-0.512 5.632-1.024 11.264-1.536 16.384-2.048 5.12-0.512 9.728-0.512 14.848-0.512h5.12c7.68 0 15.36 0.512 23.04 1.536 110.592 11.264 199.168 102.912 211.968 218.112h-0.512c0.512 2.048 1.024 3.584 1.024 6.144v11.776c0 1.024-0.512 2.048-0.512 3.072 0 1.024 0.512 2.048 0.512 3.072 0.512 2.56 0.512 5.632 1.536 7.68 4.096 9.216 12.288 15.36 22.528 15.36 9.728 0 18.432-6.144 22.528-14.848 1.536-3.072 2.56-6.656 2.56-10.24v-1.024c0-0.512-0.512-1.024-0.512-1.536-4.608-132.096-90.624-242.176-205.824-277.504z m-79.36-31.232c-73.728 0-134.144-62.976-134.144-140.288C375.296 267.776 435.2 204.8 509.44 204.8c73.728 0 134.144 62.976 134.144 140.288 0 77.312-59.904 140.288-134.144 140.288z m513.024 313.856c-3.584-131.072-89.6-241.152-204.8-276.48 60.928-30.72 103.424-96.256 103.424-171.52 0-104.96-81.408-190.464-181.76-190.976v0.512c-12.288 1.024-22.016 11.776-22.016 24.576 0 13.312 9.728 23.552 22.016 24.576h1.536c72.704 1.536 131.584 64 131.584 140.288 0 71.168-52.736 137.728-119.296 147.456-6.144 1.024-11.776 3.584-15.872 7.68-6.144 5.632-9.728 13.824-9.728 23.04 0 9.728 4.608 18.432 11.264 24.064 5.12 4.608 11.776 7.68 18.944 7.68h0.512c5.632 0.512 11.264 1.536 16.384 2.048 0.512 0 1.536 0 2.048 0.512 37.376 6.656 72.192 23.04 101.376 46.592l0.512-0.512c1.024 0.512 2.048 1.024 2.56 1.536 49.664 39.936 83.968 99.84 91.648 168.448h-0.512c0.512 2.048 1.024 3.584 1.024 6.144v11.776c0 1.024-0.512 2.048-0.512 3.072 0 1.024 0.512 2.048 0.512 3.072 0.512 2.56 0.512 5.632 1.536 7.68 4.096 9.216 12.288 15.36 22.528 15.36 9.728 0 18.432-6.144 22.528-14.848 1.536-3.072 2.56-6.656 2.56-10.24v-1.024-0.512z m-773.12-235.008c5.632-1.024 11.264-1.536 16.384-2.048h0.512c7.168 0 13.824-3.072 18.944-7.68 6.656-5.632 11.264-14.336 11.264-24.064 0-9.216-3.584-17.408-9.728-23.04-4.096-4.096-9.728-6.656-15.872-7.68-66.048-10.752-118.784-76.8-118.784-148.48 0-76.288 58.88-138.752 131.584-140.288h1.536c12.288-1.024 22.016-11.776 22.016-24.576 0-13.312-9.728-23.552-22.016-24.576v-0.512c-100.352 0.512-181.76 86.016-181.76 190.976 0 75.264 42.496 140.8 103.424 171.52-115.2 35.328-201.216 145.408-204.8 276.48 0 0.512-0.512 1.024-0.512 2.048v1.024c0 3.584 1.024 7.168 2.56 10.24 4.096 8.704 12.288 14.848 22.528 14.848 10.24 0 18.944-6.144 22.528-15.36 1.024-2.56 1.536-5.12 1.536-7.68 0-1.024 0.512-2.048 0.512-3.072 0-1.024-0.512-2.048-0.512-3.072v-11.776c0-2.048 0.512-4.096 1.024-6.144h-1.024c7.68-68.608 41.984-128.512 91.648-168.448 1.024-0.512 2.048-1.024 2.56-1.536l0.512 0.512c29.184-23.04 64-39.424 101.376-46.592 1.024-1.024 1.536-1.024 2.56-1.024z" fill="#040000" p-id="109795"></path></svg>',Baominrenshulunbotu:'<svg t="1747021708115" class="icon" viewBox="0 0 1192 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="91685" width="200" height="200"><path d="M1016.48935742 517.86047656c-21.48841406-18.55817578-45.41869336-34.18611328-71.30246484-46.39543945 33.69774023-33.20936719 63.48849609-83.51179102 62.51175-144.07004883-1.95349219-103.04671289-92.30250586-151.39564453-140.16306446-163.11659766-7.3255957-1.95349219-15.6279375-0.48837305-21.9767871 3.90698438s-11.23258008 10.74420703-12.69769922 18.06980273c-3.90698437 15.6279375 5.86047656 31.74424805 21.48841406 35.16285938 0.97674609 0.48837305 92.79087891 22.9535332 94.74437109 106.95369726 0.97674609 62.51175-46.8838125 109.88393555-77.65131445 125.51187305-11.23258008 5.37210352-17.58142969 17.58142969-16.11631055 29.79075586 1.46511914 12.20932617 10.74420703 22.46516016 22.95353321 24.90702539 8.79071484 1.46511914 207.07017187 49.81405078 182.65151953 294.00057422-0.97674609 8.3023418 1.46511914 16.60468359 7.3255957 22.46516016 5.37210352 6.34884961 13.18607227 9.76746094 21.97678711 9.76746093 15.13956445 0 27.83726367-11.23258008 29.30238281-26.37214453 15.13956445-154.32588281-47.37218555-242.7214043-103.04671289-290.58196289zM296.13911328 509.06976172c12.20932617-2.93023828 21.48841406-12.69769922 22.9535332-24.90702539 1.46511914-12.20932617-4.88373047-24.41865234-16.11631054-29.79075586-30.76750195-14.65119141-79.11643359-63.00012305-78.1396875-125.51187305 1.46511914-83.02341797 90.83738672-105.97695117 95.23274414-106.95369726 15.6279375-3.90698437 25.39539844-19.53492187 21.48841406-35.65123243-3.90698437-15.6279375-19.53492187-25.39539844-35.65123242-21.48841406-46.8838125 11.23258008-137.23282617 59.58151172-139.67469141 163.11659766-0.97674609 60.55825781 29.30238281 110.86068164 63.00012305 144.07004883-25.88377148 12.20932617-49.81405078 27.83726367-71.30246484 46.39543945-55.1861543 47.37218555-118.18627734 136.25608008-102.55833985 291.07033594 2.44186523 15.6279375 16.60468359 26.37214453 31.74424805 24.90702539 15.6279375-1.46511914 27.34889063-15.13956445 26.37214453-30.76750196-23.9302793-244.67489648 174.34917773-292.53545508 182.65151953-294.48894726z" p-id="91686" fill="#e6e6e6"></path><path d="M962.76832227 815.27966211c0-101.58159375-39.06984375-173.86080469-109.3955625-239.79116602a364.47280488 364.47280488 0 0 0-138.20957227-80.09317968C780.11680273 452.90686133 819.67501953 380.13927734 819.67501953 301.99958984c0-127.46536523-103.53508594-230.51207812-231.00045117-231.00045117-126.97699219 0.48837305-230.02370508 103.53508594-230.51207813 231.00045117 0 77.65131445 39.06984375 149.93052539 103.53508594 192.41898047-52.74428906 16.11631055-100.60484766 43.46520117-141.13981055 80.58155274-70.32571875 65.93036133-109.3955625 138.20957227-109.3955625 239.79116601 0 4.88373047-0.48837305 10.74420703-0.48837304 16.6046836-0.97674609 26.37214453-2.93023828 58.60476562 18.55817578 82.04667187 12.69769922 13.18607227 30.27912891 21.00004102 53.72103516 21.00004102 38.5814707 0.48837305 297.41918555 0.48837305 507.90796875 0.48837304h106.46532421c21.48841406 0 38.5814707-6.34884961 50.30242383-19.04654882 21.00004102-21.97678711 18.55817578-52.74428906 17.09305664-80.09317969-0.97674609-7.3255957-1.46511914-13.67444531-1.95349218-20.51166797zM416.76725586 302.48796289c0-95.23274414 77.16294141-171.9073125 171.9073125-171.9073125 94.74437109 0.48837305 171.9073125 77.16294141 171.9073125 171.9073125-0.48837305 94.74437109-77.16294141 171.9073125-171.9073125 171.9073125-94.74437109-0.48837305-171.9073125-77.16294141-171.9073125-171.9073125z m487.39630078 572.86158398c-0.48837305 0.48837305-3.41861133 0.97674609-8.3023418 0.9767461H790.37263672c-171.9073125 0-466.88463281 0-506.93122266-0.48837305-7.3255957 0-10.74420703-1.46511914-11.72095312-2.93023828-4.39535742-4.88373047-3.41861133-26.86051758-2.93023828-38.5814707 0.48837305-6.34884961 0.48837305-12.69769922 0.48837304-19.04654883 0-173.86080469 133.81421484-280.32612891 317.44248047-280.32612891s317.44248047 106.46532422 317.44248047 280.32612891c0 7.81396875 0.48837305 16.11631055 0.97674609 23.44190625 0.97674609 10.74420703 2.44186523 31.255875-0.97674609 36.62797851z" p-id="91687" fill="#e6e6e6"></path></svg>',liulan:'<svg t="1747020422874" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="89622" width="200" height="200"><path d="M512 416a96 96 0 1 1-96 96 96 96 0 0 1 96-96m0-64a160 160 0 1 0 160 160 160 160 0 0 0-160-160z" fill="#333333" p-id="89623"></path><path d="M512 298.88c188.64 0 288 113.92 366.72 213.12C800 611.36 700.64 725.12 512 725.12S224 611.36 145.28 512C224 412.64 323.36 298.88 512 298.88m0-64C264.64 234.88 147.52 406.56 64 512c83.52 105.44 200.64 277.12 448 277.12S876.48 617.44 960 512c-83.52-105.44-200.64-277.12-448-277.12z" fill="#333333" p-id="89624"></path></svg>',guanlian:'<svg t="1747025607928" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="99668" width="200" height="200"><path d="M958.559699 580.330112L718.325746 340.080809c-37.690339-37.691362-87.991878-58.45932-141.631434-58.45932a200.669944 200.669944 0 0 0-73.944982 14.090899L358.145197 151.107231c-78.115969-78.114946-205.193972-78.114946-283.251613 0l-9.468633 9.441004C277.734612 198.23755 6.979958 248.538066 6.979958 302.165344c0 53.64058 20.754655 103.941096 58.444993 141.632457l240.234976 240.262606c37.690339 37.676012 87.990854 58.430667 141.618132 58.430667 25.798521 0 50.752816-4.889347 73.972611-14.075549l144.606179 144.619483c37.704665 37.704665 88.006204 58.444993 141.618132 58.444994 53.64058 0 103.928816-20.741352 141.632458-58.444994l9.453284-9.45533c37.705688-37.704665 58.460343-87.990854 58.460343-141.618132-0.001023-53.64058-20.755678-103.927793-58.461367-141.631434zM350.409018 639.30927L110.160739 399.047688c-25.742239-25.728936-39.917048-60.136515-39.917049-96.883368 0-36.732526 14.174809-71.141128 39.917049-96.868017l9.454307-9.468634c53.428756-53.401127 140.350258-53.415453 193.79334 0l133.517656 133.516633c-4.029772 3.452628-8.045217 6.946189-11.835536 10.723204l-9.482959 9.48296c-35.901603 35.87295-57.543462 85.680233-59.360851 136.588591-0.930183 25.728936 3.197825 50.625926 11.736276 73.733158L169.930911 351.832434c-25.221377-25.220354-25.221377-66.265084-0.057305-91.43018l4.833065-4.804413c25.207051-25.220354 66.237455-25.220354 91.444506 0l83.509806 83.497526c8.228389 8.242715 21.572275 8.242715 29.800663 0 8.256018-8.228389 8.256018-21.585578 0-29.813966l-83.497526-83.511852c-41.649502-41.649502-109.40861-41.663829-151.058112-0.041956l-4.834089 4.804413c-41.635176 41.678155-41.635176 109.464892 0.01535 151.100068l225.537258 225.552608c20.036295 20.036295 47.512012 31.153472 75.74702 31.153472 5.199408 0 10.413143-0.366343 15.598226-1.142007 22.825822-3.366671 43.481217-13.779814 59.741519-30.011465l4.79111-4.804413c40.395955-40.395955 41.494983-105.293904 3.522213-147.211512a66.098285 66.098285 0 0 1 5.099125-5.805204l4.776784-4.818739c5.002934-4.987584 10.736507-8.721621 16.738186-11.722973 1.255594 2.015909 2.692313 3.959164 4.454443 5.721294 25.474134 25.459807 39.225295 59.290243 38.69113 95.205148-0.507559 35.943558-15.132622 70.084055-41.157293 96.123052l-9.454307 9.439981c-25.756566 25.742239-60.149818 39.917048-96.896671 39.917049-36.717176-0.002047-71.139081-14.175832-96.866994-39.919095z m563.430243 179.535643l-9.483983 9.468634c-53.41443 53.401127-140.321605 53.401127-193.750361 0L577.074981 694.782588c4.042051-3.452628 8.05852-6.945165 11.848839-10.722181l9.441004-9.469657c37.733317-37.732294 58.938226-87.413711 59.699564-139.940936 0.352017-24.53167-3.987816-48.315306-12.244857-70.604917l208.86968 208.884007c25.206028 25.192725 25.206028 66.208802 0.02763 91.388224l-4.833066 4.833066c-12.145597 12.144574-28.391574 18.824703-45.723276 18.824703-17.316353 0-33.561306-6.679106-45.706903-18.824703l-88.218028-88.202678c-8.228389-8.242715-21.585578-8.242715-29.828293 0-8.242715 8.228389-8.242715 21.570228 0 29.79964L728.613023 798.96416c20.134533 20.134533 46.947148 31.194404 75.548499 31.194404 28.603398 0 55.431363-11.074198 75.50859-31.153471l4.833066-4.832043c41.663829-41.664852 41.663829-109.42396 0-151.086765L656.14774 414.743127c-41.663829-41.663829-109.422936-41.649502-151.086765 0l-4.775761 4.79111c-20.106903 20.092577-31.195427 46.933845-31.195427 75.536219 0 26.756334 9.791997 51.879474 27.518695 71.478818-1.606588 2.028189-3.057633 4.128009-4.918 6.016006l-4.79111 4.776783a64.079306 64.079306 0 0 1-16.146716 11.737299c-1.309829-2.183731-2.81818-4.283551-4.691849-6.171547-24.882664-24.895967-37.874533-58.45932-36.592334-94.528745 1.267874-35.069657 16.161042-69.378998 40.874862-94.107143l9.468633-9.454307c25.756566-25.742239 60.164144-39.917048 96.883367-39.917048 36.732526 0 71.167734 14.174809 96.89667 39.917048l240.247256 240.262605c53.41443 53.413407 53.41443 140.334908 0 193.764688z" fill="#1296db" p-id="99669"></path></svg>',qqtubiao:'<svg t="1747025712253" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="100957" width="200" height="200"><path d="M512 73.28A438.72 438.72 0 1 0 950.72 512 438.72 438.72 0 0 0 512 73.28zM759.84 646.4c-9.6 8.16-20.8-6.08-29.76-20.32s-14.88-26.72-16-21.76a158.4 158.4 0 0 1-37.44 70.72c-1.28 1.6 28.8 12.48 37.44 35.68s24 57.6-80 68.8a145.76 145.76 0 0 1-80-16c-16.96-8.32-27.52-16-29.6-16a73.6 73.6 0 0 1-13.28 0 108 108 0 0 1-14.4 0c-1.76 0-22.24 32-113.12 32-70.4 0-88.64-44.32-74.4-68.8s37.76-32 34.4-35.36a192 192 0 0 1-34.4-57.6 98.56 98.56 0 0 1-4.16-13.44c-1.28-4.64-6.56 8.64-13.92 21.76s-14.4 22.72-22.88 22.72a11.52 11.52 0 0 1-6.56-2.4c-20.96-16-19.2-55.2-5.44-93.12s48-75.04 48-83.2c1.28-30.24-3.04-35.2 0-43.2 6.56-17.76 14.72-10.88 14.72-20.16 0-116.32 86.4-210.56 192.96-210.56s192.96 94.24 192.96 210.56c0 4.48 11.68 0 17.12 20.16a196.96 196.96 0 0 1 0 43.2c0 11.04 29.44 24.48 44.8 83.2S768 640 759.84 646.4z" fill="#68A5E1" p-id="100958"></path></svg>',weixintubiao:'<svg t="1747025762795" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="102018" width="200" height="200"><path d="M337.387283 341.82659c-17.757225 0-35.514451 11.83815-35.514451 29.595375s17.757225 29.595376 35.514451 29.595376 29.595376-11.83815 29.595376-29.595376c0-18.49711-11.83815-29.595376-29.595376-29.595375zM577.849711 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763zM501.641618 401.017341c17.757225 0 29.595376-12.578035 29.595376-29.595376 0-17.757225-11.83815-29.595376-29.595376-29.595375s-35.514451 11.83815-35.51445 29.595375 17.757225 29.595376 35.51445 29.595376zM706.589595 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763z" fill="#28C445" p-id="102019"></path><path d="M510.520231 2.959538C228.624277 2.959538 0 231.583815 0 513.479769s228.624277 510.520231 510.520231 510.520231 510.520231-228.624277 510.520231-510.520231-228.624277-510.520231-510.520231-510.520231zM413.595376 644.439306c-29.595376 0-53.271676-5.919075-81.387284-12.578034l-81.387283 41.433526 22.936416-71.768786c-58.450867-41.433526-93.965318-95.445087-93.965317-159.815029 0-113.202312 105.803468-201.988439 233.803468-201.98844 114.682081 0 216.046243 71.028902 236.023121 166.473989-7.398844-0.739884-14.797688-1.479769-22.196532-1.479769-110.982659 1.479769-198.289017 85.086705-198.289017 188.67052 0 17.017341 2.959538 33.294798 7.398844 49.572255-7.398844 0.739884-15.537572 1.479769-22.936416 1.479768z m346.265896 82.867052l17.757225 59.190752-63.630058-35.514451c-22.936416 5.919075-46.612717 11.83815-70.289017 11.83815-111.722543 0-199.768786-76.947977-199.768786-172.393063-0.739884-94.705202 87.306358-171.653179 198.289017-171.65318 105.803468 0 199.028902 77.687861 199.028902 172.393064 0 53.271676-34.774566 100.624277-81.387283 136.138728z" fill="#28C445" p-id="102020"></path></svg>',youxiang:'<svg t="1747025799359" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="103080" width="200" height="200"><path d="M512 537.6l512-156.444444V312.888889c0-62.577778-51.2-113.777778-113.777778-113.777778H113.777778c-62.577778 0-113.777778 51.2-113.777778 113.777778v68.266667l512 156.444444z" fill="#4B9AFC" p-id="103081"></path><path d="M537.6 620.088889l-5.688889 14.222222-19.911111-5.688889-22.755556 5.688889-5.688888-14.222222-483.555556-147.911111V824.888889c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V472.177778l-486.4 147.911111z" fill="#4B9AFC" p-id="103082"></path></svg>',weizhi:'<svg t="1747029909767" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="110857" width="200" height="200"><path d="M775.9 172.8C706.8 103.3 611.5 64.1 512 64.1c-99.5 0-194.8 39.2-263.9 108.8-145.6 146.2-145.6 378.3 0 524.5L512 959.9l263.9-262.5c145.6-146.3 145.6-378.3 0-524.6z m-39.7 487.6L511.5 870.3 289.7 650.8c-122.5-121.6-122.5-314.8 0-436.3 58.2-57.7 138.3-90.3 221.9-90.3s163.6 32.6 221.9 90.3c122.4 121.6 126.5 321.9 2.7 445.9zM512.1 273.1c-90.7 0-164.2 73.5-164.2 164.2s73.5 164.2 164.2 164.2S676.3 528 676.3 437.3s-73.5-164.2-164.2-164.2z m0 268.8c-57.7 0-104.5-46.8-104.5-104.5s46.8-104.5 104.5-104.5 104.5 46.8 104.5 104.5-46.8 104.5-104.5 104.5z" fill="#333333" p-id="110858"></path></svg>',renshu:'<svg t="1747029966643" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="111896" width="200" height="200"><path d="M576 563.2h-44.8c83.2-44.8 134.4-128 140.8-230.4 0-70.4-25.6-134.4-70.4-185.6-44.8-51.2-108.8-76.8-179.2-83.2-70.4-6.4-140.8 19.2-192 70.4S147.2 256 147.2 326.4c0 96 57.6 192 140.8 236.8h-51.2c-128 0-236.8 108.8-236.8 236.8v25.6C0 902.4 57.6 960 128 960h556.8c70.4 0 128-57.6 128-134.4v-25.6c0-128-102.4-236.8-236.8-236.8z m192 262.4c0 44.8-38.4 83.2-83.2 83.2H128c-44.8 0-83.2-38.4-83.2-83.2v-25.6c0-108.8 83.2-192 192-192h70.4c12.8 0 25.6-12.8 25.6-25.6v-32c0-6.4-6.4-19.2-12.8-19.2-76.8-38.4-128-115.2-128-204.8 0-57.6 25.6-115.2 70.4-160 44.8-44.8 102.4-64 160-57.6 115.2 6.4 204.8 108.8 204.8 224 0 83.2-51.2 160-128 192-6.4 6.4-12.8 12.8-12.8 25.6v38.4c0 12.8 12.8 25.6 25.6 25.6h64c102.4 0 192 89.6 192 192v19.2z" fill="#333333" p-id="111897"></path><path d="M832 512h-19.2c57.6-38.4 96-102.4 96-172.8 0-57.6-19.2-108.8-57.6-153.6s-89.6-64-140.8-70.4c-19.2 0-32 0-51.2 6.4-12.8 0-19.2 12.8-19.2 25.6s12.8 19.2 25.6 19.2c12.8-6.4 25.6-6.4 38.4-6.4 89.6 6.4 160 83.2 153.6 172.8 0 64-38.4 121.6-96 147.2-6.4 6.4-12.8 12.8-12.8 19.2v32c0 12.8 12.8 25.6 25.6 25.6h57.6c83.2 0 147.2 64 147.2 147.2v19.2c0 32-25.6 64-64 64h-44.8c-12.8 0-25.6 12.8-25.6 25.6s12.8 25.6 25.6 25.6h44.8c57.6 0 108.8-51.2 108.8-108.8V704c0-108.8-83.2-192-192-192z" fill="#333333" p-id="111898"></path></svg>',chuangjianrenwu:'<svg t="1747030601446" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="119307" width="200" height="200"><path d="M508.9 926.4c-36.3-1.6-64.6-32.2-64.6-68.6V166.1c0-36.3 28.3-66.9 64.6-68.6 38.8-1.7 70.7 29.2 70.7 67.6v693.7c0 38.4-31.9 69.4-70.7 67.6z" fill="#cdcdcd" p-id="119308"></path><path d="M858.9 579.6H165.2c-37.4 0-67.6-30.3-67.6-67.6 0-37.4 30.3-67.6 67.6-67.6h693.7c37.4 0 67.6 30.3 67.6 67.6 0 37.4-30.3 67.6-67.6 67.6z" fill="#cdcdcd" p-id="119309"></path></svg>',shijian:'<svg t="1747030975024" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12181" width="200" height="200"><path d="M512 170.666667C323.477333 170.666667 170.666667 323.477333 170.666667 512s152.810667 341.333333 341.333333 341.333333 341.333333-152.810667 341.333333-341.333333S700.522667 170.666667 512 170.666667zM85.333333 512C85.333333 276.352 276.352 85.333333 512 85.333333s426.666667 191.018667 426.666667 426.666667-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512z" fill="#000000" p-id="12182"></path><path d="M554.666667 490.026667V277.333333h-85.333334v234.666667a42.666667 42.666667 0 0 0 17.856 34.730667l149.333334 106.666666 49.621333-69.461333L554.666667 490.048z" fill="#0078FF" p-id="12183"></path></svg>',zhengshu:'<svg t="1747031103925" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16980" width="200" height="200"><path d="M939.52 891.733333l-82.090667-141.994666a166.4 166.4 0 0 0-51.2-220.330667V168.96a39.936 39.936 0 0 0-39.936-39.936H196.608A39.765333 39.765333 0 0 0 156.842667 168.96v680.106667a39.765333 39.765333 0 0 0 39.765333 39.765333h290.986667l-1.706667 2.901333a17.066667 17.066667 0 0 0 0 18.090667 17.066667 17.066667 0 0 0 17.066667 7.509333l53.077333-6.826666 20.650667 49.322666a17.066667 17.066667 0 0 0 14.677333 10.410667h1.024a17.066667 17.066667 0 0 0 14.848-8.533333L682.666667 831.317333a174.250667 174.250667 0 0 0 30.208 2.901334 178.005333 178.005333 0 0 0 30.378666-2.901334L819.2 961.706667a17.066667 17.066667 0 0 0 14.848 8.533333h1.024a17.066667 17.066667 0 0 0 14.677333-10.410667L870.4 910.506667l53.077333 6.826666a17.066667 17.066667 0 0 0 17.066667-25.6z m-742.912-37.034666a5.632 5.632 0 0 1-5.632-5.632V168.96a5.802667 5.802667 0 0 1 5.632-5.802667h569.344a5.802667 5.802667 0 0 1 5.802667 5.802667V512a162.474667 162.474667 0 0 0-46.592-10.410667v-274.773333a17.066667 17.066667 0 0 0-17.066667-17.066667H254.464a17.066667 17.066667 0 0 0-17.066667 17.066667v564.224a17.066667 17.066667 0 0 0 17.066667 17.066667H534.186667l-26.965334 46.592zM546.133333 667.477333a166.229333 166.229333 0 0 0 21.845334 82.261334l-14.165334 24.234666H271.530667V243.882667h419.498666v258.56A166.912 166.912 0 0 0 546.133333 667.477333z m48.469334 247.466667l-12.288-29.525333a17.066667 17.066667 0 0 0-17.066667-10.24l-31.744 3.925333 57.344-99.328A166.4 166.4 0 0 0 648.533333 821.248zM580.266667 667.477333a132.437333 132.437333 0 1 1 132.437333 132.608A132.608 132.608 0 0 1 580.266667 667.477333z m280.746666 207.701334a17.066667 17.066667 0 0 0-17.92 10.24l-12.288 29.525333-54.101333-93.696A166.4 166.4 0 0 0 836.266667 779.776l57.344 99.328z" fill="#3D3D63" p-id="16981"></path><path d="M794.794667 629.248L753.322667 614.4l-27.136-34.133333A17.066667 17.066667 0 0 0 699.733333 580.266667l-27.136 34.133333-41.130666 14.848a17.066667 17.066667 0 0 0-10.410667 10.752 17.066667 17.066667 0 0 0 2.048 14.848l24.917333 36.522667 0.512 44.202666a17.066667 17.066667 0 0 0 6.997334 13.312 17.066667 17.066667 0 0 0 14.848 2.56l42.325333-12.458666 42.496 12.458666a14.677333 14.677333 0 0 0 4.778667 0 17.066667 17.066667 0 0 0 9.898666-3.242666 17.066667 17.066667 0 0 0 7.168-13.312l1.194667-44.202667 24.917333-36.522667a17.066667 17.066667 0 0 0 2.218667-14.848 17.066667 17.066667 0 0 0-10.581333-10.069333z m-47.445334 47.104a17.066667 17.066667 0 0 0-3.072 9.045333v27.136L716.8 704.853333a17.066667 17.066667 0 0 0-9.557333 0l-24.576 7.68-0.853334-27.136a17.066667 17.066667 0 0 0-3.072-9.045333l-15.189333-22.528 25.429333-9.045333a18.602667 18.602667 0 0 0 7.850667-5.632l17.066667-21.504 17.066666 21.504a18.602667 18.602667 0 0 0 7.850667 5.632l25.429333 9.045333zM558.250667 295.253333h-153.6a17.066667 17.066667 0 0 0 0 34.133334h153.6a17.066667 17.066667 0 0 0 0-34.133334zM337.749333 642.901333h87.210667a17.066667 17.066667 0 0 0 0-34.133333h-87.210667a17.066667 17.066667 0 0 0 0 34.133333zM494.933333 684.202667h-157.184a17.066667 17.066667 0 0 0 0 34.133333H494.933333a17.066667 17.066667 0 0 0 0-34.133333z" fill="#3D3D63" p-id="16982"></path></svg>',xuefen:'<svg t="1747031327013" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="28981" width="200" height="200"><path d="M881.2 170.8c-2.3-36.7-20.4-71.3-52.2-90.8-14.8-9.1-32.4-13.9-49.8-14H272c-9 0-18-0.1-27 0-24.6 0.1-46.5 9.5-65.2 25.1-10.1 8.4-18.8 19.6-24.7 31.3-7.6 15-11.6 30.1-13.1 46.8-0.7 7.4-0.4 15-0.4 22.5V929.9c0 11.3 6.1 21.9 15.8 27.6 10.4 6.1 21.9 5.2 32.3 0l33.6-16.8c26.9-13.4 53.9-26.8 80.8-40.2 32.6-16.2 65.1-32.4 97.7-48.7 28.1-14 56.3-28 84.4-42.1l25.5-12.6c5.8 2.9 11.5 5.7 17.3 8.6 26.9 13.3 53.9 26.7 80.8 40 32.6 16.1 65.1 32.3 97.7 48.4 28.1 13.9 56.3 27.9 84.4 41.8 13.6 6.8 27.2 13.6 40.9 20.3l0.6 0.3c10.5 5.2 21.9 6.1 32.3 0 9.7-5.7 15.8-16.4 15.8-27.6v-23.4-63.2V750 639.2 521 405.2 302.9 225v-43.6c-0.2-3.4-0.1-7-0.3-10.6zM750.4 844.4c-32.6-16.1-65.1-32.3-97.7-48.4-28.2-13.9-56.3-27.9-84.5-41.8-13.4-6.7-26.8-13.5-40.3-20-6.8-3.2-13.2-5-20.8-4-4.5 0.6-8.3 2.1-12.4 4-1.5 0.7-2.9 1.5-4.4 2.2-6.9 3.4-13.8 6.9-20.8 10.3L393 784.8c-32.5 16.2-65 32.4-97.6 48.6-29.3 14.6-58.5 29.2-87.8 43.7-0.8 0.4-1.5 0.8-2.3 1.2v-24.2-82.3-99.5-109.6-109.9-102-85.6-60.5-26.9c0-2.7 0.1-5.4 0.3-8 0.9-4.6 2.1-9.1 3.7-13.6 1.8-3.8 3.9-7.4 6.3-10.9 2.5-2.9 5.2-5.6 8-8.1 2.6-1.8 5.4-3.4 8.2-4.8 2.7-0.9 5.5-1.7 8.3-2.3 5.5-0.4 11.1-0.2 16.5-0.2h455.6c21.9 0 43.9 0.3 65.9 0h0.9c1.4 0 2.7 0.1 4.1 0.2 2.8 0.6 5.5 1.3 8.2 2.2 2.8 1.4 5.4 2.9 8 4.7 2.8 2.4 5.4 5 7.8 7.8 2.3 3.4 4.4 7 6.2 10.7 1.6 4.4 2.8 8.8 3.7 13.4 0.7 8.3 0.4 16.8 0.4 25.1v683.6c-22.4-11.1-44.7-22.2-67-33.2z" fill="#2c2c2c" p-id="28982"></path><path d="M705.4 436.2c12.8-12.2 17.6-28.5 12.8-43.5-4.8-15-18.1-25.5-35.6-28l-89.2-13c-1.5-0.5-4.3-2.5-5.3-3.8l-39.3-78.6c-7.8-15.7-21.9-25.1-37.5-25.1h-0.1c-15.6 0-29.7 9.3-37.5 25l-40 79.5c-1 1.3-3.8 3.3-5.4 3.9l-89.2 13c-17.5 2.6-30.8 13-35.6 28-4.8 15 0 31.2 12.8 43.5l64.4 61.7c0.9 1.2 1.8 4.2 1.9 5.7L367.7 591c-3 17.3 2.8 33.2 15.5 42.5 6.8 5 14.8 7.5 23.2 7.5 7.2 0 14.8-1.9 22-5.6l79.7-41.4c1.6-0.5 5.2-0.5 6.8 0l79.6 40.8c15.7 8 32.6 7.2 45.2-2.1 12.6-9.4 18.3-25.3 15.2-42.6l-15.6-86.6c0-1.5 0.9-4.2 1.8-5.5l64.3-61.8z m-109 15.7c-15.8 15.1-24.2 40.8-20.3 62.3l7.8 43.1-40.2-20.6c-19.1-9.8-45.8-9.7-64.9 0.2l-40.4 21 7.4-43.1c3.7-21.5-4.7-47-20.5-62.1l-31.8-30.5 44.5-6.5c21.4-3.1 43-18.8 52.7-38l20.5-40.7 19.8 39.7c9.7 19.3 31.3 35 52.7 38.1l44.4 6.5-31.7 30.6z" fill="#2c2c2c" p-id="28983"></path></svg>',zhiyaunshichang:'<svg t="1747031454007" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="37394" width="200" height="200"><path d="M409.6 910.222222h-318.577778v-819.2h762.311111v261.688889h-56.888889v-204.8h-648.533333V853.333333h261.688889z" fill="#2c2c2c" p-id="37395"></path><path d="M709.688889 996.124444c-153.6 0-284.444444-125.155556-284.444445-284.444444 0-153.6 125.155556-284.444444 284.444445-284.444444 153.6 0 284.444444 125.155556 284.444444 284.444444s-125.155556 284.444444-284.444444 284.444444M244.622222 233.244444h455.111111v73.955556h-455.111111zM244.622222 403.911111h170.666667v73.955556h-170.666667z" fill="#2c2c2c" p-id="37396"></path><path d="M866.424615 867.73652H617.569231c-39.934924 0-72.586586 32.664853-72.586586 72.573595v72.573595h248.855391v-72.573595c0-39.908742 32.651662-72.573595 72.586586-72.573595h248.855391v-72.573595c0-39.908742-32.651662-72.573595-72.586586-72.573595z" fill="#2c2c2c" p-id="37397"></path></svg>',xianjin:'<svg t="1747031541355" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="42812" width="200" height="200"><path d="M512 42.666667c259.2 0 469.333333 210.133333 469.333333 469.333333a467.370667 467.370667 0 0 1-103.850666 294.485333l-60.757334-60.8A382.336 382.336 0 0 0 896 512c0-212.074667-171.925333-384-384-384S128 299.925333 128 512s171.925333 384 384 384c93.376 0 178.986667-33.322667 245.546667-88.746667l60.565333 60.522667A467.498667 467.498667 0 0 1 512 981.333333C252.8 981.333333 42.666667 771.2 42.666667 512S252.8 42.666667 512 42.666667z m97.834667 225.834666l60.330666 60.330667L593.706667 405.333333 682.666667 405.333333v85.333334h-127.914667v42.666666H682.666667v85.333334h-127.914667v128h-85.333333v-128H341.333333v-85.333334h128.085334v-42.666666H341.333333v-85.333334l88.96-0.021333-76.458666-76.48 60.330666-60.330667L512 366.293333l97.834667-97.813333z" fill="#333333" p-id="42813"></path></svg>',liping:'<svg t="1747031594902" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="45964" width="200" height="200"><path d="M787.692308 920.812308H236.307692c-39.384615 0-70.892308-31.507692-70.892307-70.892308v-354.461538c0-17.329231 14.178462-31.507692 31.507692-31.507693h630.153846c17.329231 0 31.507692 14.178462 31.507692 31.507693v354.461538c0 38.596923-31.507692 70.892308-70.892307 70.892308z m-559.261539-393.846154v322.953846c0 4.726154 3.150769 7.876923 7.876923 7.876923h551.384616c4.726154 0 7.876923-3.150769 7.876923-7.876923v-322.953846H228.430769z" fill="#2c2c2c" p-id="45965"></path><path d="M590.769231 495.245785v393.846153h-157.538462v-393.846153z" fill="#2c2c2c" p-id="45966"></path><path d="M590.769231 920.812308H433.230769c-17.329231 0-31.507692-14.178462-31.507692-31.507693v-393.846153c0-17.329231 14.178462-31.507692 31.507692-31.507693h157.538462c17.329231 0 31.507692 14.178462 31.507692 31.507693v393.846153c0 17.329231-14.178462 31.507692-31.507692 31.507693z m-126.030769-63.015385h94.523076v-330.830769H464.738462v330.830769z" fill="#2c2c2c" p-id="45967"></path><path d="M866.461538 526.966154H157.538462c-39.384615 0-70.892308-31.507692-70.892308-70.892308v-78.769231c0-39.384615 31.507692-70.892308 70.892308-70.892307h708.923076c39.384615 0 70.892308 31.507692 70.892308 70.892307v78.769231c0 38.596923-31.507692 70.892308-70.892308 70.892308z m-708.923076-157.538462c-4.726154 0-7.876923 3.150769-7.876924 7.876923v78.769231c0 4.726154 3.150769 7.876923 7.876924 7.876923h708.923076c4.726154 0 7.876923-3.150769 7.876924-7.876923v-78.769231c0-4.726154-3.150769-7.876923-7.876924-7.876923H157.538462z" fill="#2c2c2c" p-id="45968"></path><path d="M590.769231 369.427692H433.230769c-17.329231 0-31.507692-14.178462-31.507692-31.507692v-7.876923c0-56.713846 45.686154-102.4 102.4-102.4h15.753846c56.713846 0 102.4 45.686154 102.4 102.4v7.876923c0 17.329231-14.178462 31.507692-31.507692 31.507692z m-118.153846-63.015384h78.76923c-7.089231-9.452308-18.904615-15.753846-31.507692-15.753846h-15.753846c-12.603077 0-24.418462 6.301538-31.507692 15.753846z" fill="#2c2c2c" p-id="45969"></path><path d="M445.046154 290.658462l-187.470769-149.661539c-25.993846-17.329231-60.652308 1.575385-60.652308 33.083077v163.052308h236.307692v-7.876923c0-14.178462 4.726154-27.569231 11.815385-38.596923z" fill="#2c2c2c" p-id="45970"></path><path d="M433.230769 369.427692H196.923077c-17.329231 0-31.507692-14.178462-31.507692-31.507692V174.08c0-25.993846 14.178462-49.624615 37.021538-62.227692 22.843077-12.603077 50.412308-11.027692 72.467692 3.150769 0.787692 0.787692 1.575385 0.787692 2.363077 1.575385l187.47077 149.661538c12.603077 10.24 15.753846 28.356923 6.301538 41.747692-3.938462 6.301538-6.301538 14.178462-6.301538 22.055385v7.876923c0 17.329231-14.178462 31.507692-31.507692 31.507692z m-204.8-63.015384h175.655385c0.787692-2.363077 0.787692-3.938462 1.575384-6.301539L239.458462 166.990769c-3.150769-1.575385-5.513846-0.787692-7.089231 0-1.575385 0.787692-3.938462 3.150769-3.938462 7.089231v132.332308z" fill="#2c2c2c" p-id="45971"></path><path d="M766.424615 140.996923l-187.470769 149.661539c7.089231 11.027692 11.815385 24.418462 11.815385 39.384615v7.876923h236.307692V174.08c0-30.72-34.658462-49.624615-60.652308-33.083077z" fill="#2c2c2c" p-id="45972"></path><path d="M827.076923 369.427692H590.769231c-17.329231 0-31.507692-14.178462-31.507693-31.507692v-7.876923c0-7.876923-2.363077-14.966154-6.301538-22.055385-9.452308-13.390769-6.301538-31.507692 6.301538-41.747692l187.47077-149.661538c0.787692-0.787692 1.575385-1.575385 2.363077-1.575385 22.055385-14.178462 49.624615-15.753846 72.467692-3.150769 22.843077 12.603077 37.021538 36.233846 37.021538 62.227692v163.052308c0 18.116923-14.178462 32.295385-31.507692 32.295384z m-207.163077-63.015384H795.569231V174.08c0-3.938462-2.363077-6.301538-3.938462-7.089231-1.575385-0.787692-3.938462-1.575385-7.089231 0L617.550769 300.110769c0.787692 1.575385 1.575385 3.938462 2.363077 6.301539z" fill="#2c2c2c" p-id="45973"></path></svg>',shixijihui:'<svg t="1747031692880" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="53958" width="200" height="200"><path d="M838.3 960.4H184.7C117.6 960.4 63 905.8 63 838.7v-620c0-32.9 7.6-60 22.5-80.7 12.8-17.8 37.1-39 80.2-39h82.2c19.3 0 35 15.7 35 35s-15.7 35-35 35h-82.2c-9.8 0-32.7 0-32.7 49.7v620c0 28.5 23.2 51.7 51.7 51.7h653.7c28.5 0 51.7-23.2 51.7-51.7v-620c0-28.5-23.2-51.7-51.7-51.7h-90.6c-19.3 0-35-15.7-35-35s15.7-35 35-35h90.6c67 0 121.6 54.6 121.6 121.7v620c0 67.1-54.6 121.7-121.7 121.7z" fill="#2c2c2c" p-id="53959"></path><path d="M339.1 220.7c-18.6 0-33.7-15.1-33.7-33.7V94.4c0-18.6 15.1-33.7 33.7-33.7s33.7 15.1 33.7 33.7V187c0 18.6-15.1 33.7-33.7 33.7zM419.3 140.7c0-18.6 15.1-33.7 33.7-33.7h92.6c18.6 0 33.7 15.1 33.7 33.7s-15.1 33.7-33.7 33.7H453c-18.6 0-33.7-15.1-33.7-33.7zM659.6 220.7c-18.6 0-33.7-15.1-33.7-33.7V94.4c0-18.6 15.1-33.7 33.7-33.7s33.7 15.1 33.7 33.7V187c0 18.6-15.1 33.7-33.7 33.7zM303.5 495h158.9c4.1-26.5 6.7-56.5 7.8-89.8H330.4c-18.3 0-33.2-14.9-33.2-33.2 0-18.3 14.9-33.2 33.2-33.2h355.5c18.3 0 33.2 14.9 33.2 33.2 0 18.3-14.9 33.2-33.2 33.2H541.5c-1.3 28.5-3.1 58.4-5.4 89.8h174.6c18.3 0 33.2 14.9 33.2 33.2 0 0 1.1 35.8-33.2 34.2H557.2c28.9 66 75.7 114.2 140.5 144.5 23.9 11.2 31.2 41.6 14.7 62.2-17.1 18.9-41.9 16.9-51.4 11.6-70.3-37.6-122.5-96-156.8-175.3-25.8 66.3-77.4 123.1-154.6 170.5-6.5 3.1-34.9 11.2-50.4-8.1-17.1-18.1-12.4-45.6 10.7-59.8 76.9-42.2 122.7-90.8 137.4-145.6H303.5c-35.3 0.4-33.2-34.2-33.2-34.2s0.4-33.4 33.2-33.2z" fill="#2c2c2c" p-id="53960"></path></svg>',bianji:'<svg t="1747044161140" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="55913" width="200" height="200"><path d="M526.41 117.029v58.514a7.314 7.314 0 0 1-7.315 7.314H219.429a36.571 36.571 0 0 0-35.987 29.989l-0.585 6.583V804.57a36.571 36.571 0 0 0 29.989 35.987l6.583 0.585H804.57a36.571 36.571 0 0 0 35.987-29.989l0.585-6.583v-317.44a7.314 7.314 0 0 1 7.314-7.314h58.514a7.314 7.314 0 0 1 7.315 7.314v317.44a109.714 109.714 0 0 1-99.182 109.203l-10.533 0.512H219.43a109.714 109.714 0 0 1-109.203-99.182l-0.512-10.533V219.43a109.714 109.714 0 0 1 99.182-109.203l10.533-0.512h299.666a7.314 7.314 0 0 1 7.314 7.315z m307.345 31.817l41.4 41.399a7.314 7.314 0 0 1 0 10.313L419.985 655.726a7.314 7.314 0 0 1-10.313 0l-41.399-41.4a7.314 7.314 0 0 1 0-10.312l455.168-455.168a7.314 7.314 0 0 1 10.313 0z" p-id="55914"></path></svg>',weituo:'<svg t="1747044540567" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="61968" width="200" height="200"><path d="M935.3812325 756.16843719c-14.42459062-12.23541188-169.07659594-150.99337781-178.76296406-160.8896672-14.39460187-14.90441063-32.17793344-19.58265657-42.67399782-19.67262187l-266.63001373 0.11995501c-28.519305 2.519055-70.59352781 23.961015-69.57390939 72.66275062 0.80969625 38.29563937 25.160565 69.78383063 62.10670969 79.83006375H347.06185156a5433.06260156 5433.06260156 0 0 1-111.70810875-83.638635c-35.26677469-25.61039625-68.25440438-35.08684219-98.03323781-28.18942875a81.32950125 81.32950125 0 0 0-52.48032 39.94502062c-7.88704219 17.24353406-11.24578313 44.14344656 5.24803219 63.24628218 0.7797075 0.8996625 1.64938125 1.799325 2.519055 2.57903344 43.09383938 39.07534688 188.86917375 170.15619187 200.53479937 180.20242407a57.00862219 57.00862219 0 0 0 47.62214156 12.83518594c32.26789969-0.0599775 279.19530187-0.2998875 300.93714844 0 11.45570437 0.14994375 20.51230781 7.85705344 20.7822075 8.09696437 0 0 48.67174781 42.73397438 60.36736219 52.51030875 14.99437689 12.56528813 28.96913625 15.92402812 39.58515562 15.92402813 2.5790325 0 5.00812219-0.20992125 7.16731219-0.50980875a52.0604775 52.0604775 0 0 0 32.95764094-19.31275781l135.5791575-147.75459188c0.74971875-0.839685 1.46944875-1.70935875 2.12920125-2.57903344 16.61376938-22.01174531 14.63451188-48.85168031-4.88816625-65.40547218z m-174.89441531 172.91515687a7155.16681219 7155.16681219 0 0 1-57.84830625-50.35111875c-2.5790325-2.36911125-25.91028375-22.97138531-60.06747469-23.481195-23.6611275-0.32987625-293.82981375-0.02998875-305.31550687 0-2.06922375 0-4.16843719 0.20992125-6.17768344 0.62976469a45860.00249906 45860.00249906 0 0 1-192.46782469-173.00512313 21.80182406 21.80182406 0 0 1 12.23541187-8.06697562c11.84555813-2.72897625 29.239035 3.74859469 48.43183782 17.69336531 46.93240031 36.55629094 119.62514063 89.39647594 120.34487062 89.96626313a29.98875375 29.98875375 0 0 0 17.63338781 5.72785125h177.83331188a29.80882125 29.80882125 0 0 0 17.48344406-5.637885l50.35111875-36.13644938c15.50418562-10.46607563 22.37161031-25.61039625 18.38310563-40.48481812-1.40947125-5.36798719-8.03698594-23.03136281-33.04760719-24.83068875-73.11258281-5.21804343-102.08171906-8.78670469-112.33787249-10.61601844-16.52380313-3.68861719-18.11320781-18.77296031-18.20317407-23.33125125-0.1799325-8.03698594 8.27689594-10.67599687 14.12470312-11.54566969h262.76146405c-2.3991 0.02998875-3.20879625-0.20992125-1.07959499 1.40947124 10.43608688 10.76596311 134.28964125 121.66437562 172.34537063 155.46170157l-125.38298156 136.59877594z" fill="#1296db" p-id="61969"></path><path d="M188.18143156 606.82444062c16.55379188 0 29.98875375-14.81444437 29.98875469-31.36823625l-0.2998875-483.38872968h416.09396436v103.22129156a74.46207655 74.46207655 0 0 0 74.37211033 74.37211125h103.2212925v308.49431438a29.98875375 29.98875375 0 0 0 59.97750843 0V182.93340031L723.45070625 32.08996625H217.87029875c-32.92765219 0-59.67762094 27.799575-59.67762094 61.9267772v484.16843717c0 16.58378062 13.43496188 28.63926 29.98875375 28.63926zM811.58765469 207.46420062v2.27914594h-103.2212925a14.39460187 14.39460187 0 0 1-14.39460188-14.39460187V92.06747469h4.37835844l113.23753594 115.39672594z" fill="#1296db" p-id="61970"></path><path d="M694.93140031 305.55741594h-359.86505062a29.98875375 29.98875375 0 0 0 0 59.97750843h359.86505062a29.98875375 29.98875375 0 0 0 0-59.97750843zM694.93140031 425.51243281h-359.86505062a29.98875375 29.98875375 0 0 0 0 59.97750844h359.86505062a29.98875375 29.98875375 0 0 0 0-59.97750844z" fill="#1296db" p-id="61971"></path></svg>',xunzhaoduiyou:'<svg t="1747045576412" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="103729" width="200" height="200"><path d="M702.171429 515.657143m-160.914286 0a160.914286 160.914286 0 1 0 321.828571 0 160.914286 160.914286 0 1 0-321.828571 0Z" fill="#1296db" opacity=".1" p-id="103730"></path><path d="M680.228571 757.028571h-32.914285c-7.314286 0-10.971429 0-14.628572-3.657142-80.457143-21.942857-146.285714-84.114286-168.228571-164.571429 0-3.657143-3.657143-3.657143-3.657143-3.657143h-3.657143l-10.971428 10.971429c-21.942857 25.6-58.514286 29.257143-80.457143 7.314285-3.657143-3.657143-7.314286-3.657143-7.314286-7.314285l-21.942857-29.257143c-18.285714-21.942857-47.542857-29.257143-73.142857-14.628572-76.8 43.885714-138.971429 113.371429-168.228572 201.142858-14.628571 29.257143-3.657143 62.171429 21.942857 80.457142 10.971429 3.657143 21.942857 7.314286 32.914286 7.314286h501.028572c32.914286 3.657143 58.514286-21.942857 62.171428-54.857143 0-10.971429 0-21.942857-7.314286-29.257143h-25.6z m-226.742857-241.371428c3.657143-3.657143 0-10.971429 0-18.285714 3.657143-58.514286 29.257143-109.714286 69.485715-153.6 25.6-18.285714 29.257143-51.2 14.628571-76.8-51.2-80.457143-168.228571-124.342857-252.342857-36.571429C193.828571 329.142857 230.4 530.285714 402.285714 530.285714c14.628571 0 43.885714 0 51.2-14.628571z" fill="#1296db" p-id="103731"></path><path d="M643.657143 497.371429c-3.657143 0-10.971429-3.657143-14.628572-7.314286-7.314286-7.314286-7.314286-18.285714 0-25.6 25.6-25.6 91.428571-54.857143 146.285715 0 7.314286 7.314286 7.314286 18.285714 0 25.6-7.314286 7.314286-18.285714 7.314286-25.6 0-43.885714-43.885714-91.428571 0-95.085715 0-3.657143 7.314286-7.314286 7.314286-10.971428 7.314286z" fill="#1296db" p-id="103732"></path><path d="M936.228571 724.114286l-98.742857-98.742857c25.6-29.257143 40.228571-69.485714 40.228572-113.371429 0-98.742857-80.457143-179.2-179.2-179.2s-179.2 80.457143-179.2 179.2 80.457143 179.2 179.2 179.2c43.885714 0 80.457143-14.628571 113.371428-40.228571l98.742857 98.742857c3.657143 3.657143 7.314286 3.657143 14.628572 3.657143s10.971429 0 14.628571-3.657143c3.657143-7.314286 3.657143-18.285714-3.657143-25.6z m-376.685714-208.457143c0-76.8 62.171429-142.628571 142.628572-142.628572S841.142857 438.857143 841.142857 515.657143 778.971429 658.285714 698.514286 658.285714s-138.971429-65.828571-138.971429-142.628571z" fill="#1296db" p-id="103733"></path></svg>',xiangmuzhanshi:'<svg t="1747044971373" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="80176" width="200" height="200"><path d="M534 512m-490 0a490 490 0 1 0 980 0 490 490 0 1 0-980 0Z" fill="#d4699a" p-id="80177" data-spm-anchor-id="a313x.search_index.0.i37.6ee83a81CNsn9u" class="selected"></path><path d="M371.44 717.06h157.42v82.46h-157.42z" fill="#445EA0" p-id="80178"></path><path d="M371.44 717.06h39.684v82.46H371.44z" fill="#2E4C89" p-id="80179"></path><path d="M633.712 797.526H255.12c-5.612 0-10.202 4.592-10.202 10.204v51.142c0 5.612 4.592 10.204 10.202 10.204h378.592v-71.55z" fill="#293D7C" p-id="80180"></path><path d="M284.602 858.87v-51.142c0-5.612 4.592-10.204 10.204-10.204H255.12c-5.612 0-10.202 4.592-10.202 10.204v51.142c0 5.612 4.592 10.204 10.202 10.204h39.684c-5.61 0-10.202-4.592-10.202-10.204z" fill="#1A2B63" p-id="80181"></path><path d="M890.108 117.928H10.204C4.592 117.928 0 122.52 0 128.132V708.86a10.232 10.232 0 0 0 10.204 10.204h623.508V413.536c0-7.718 6.28-14 14-14h252.6V128.132c0-5.612-4.592-10.204-10.204-10.204z" fill="#293D7C" p-id="80182"></path><path d="M44.792 617.028a6.138 6.138 0 0 0 6.122 6.12h582.798V413.536c0-7.718 6.28-14 14-14H855.52v-181.54H44.792v399.032z" fill="#FFFFFF" p-id="80183"></path><path d="M84.478 617.028V217.996H44.792v399.032a6.138 6.138 0 0 0 6.122 6.12H90.6a6.14 6.14 0 0 1-6.122-6.12z" fill="#D9EAFC" p-id="80184"></path><path d="M450.16 670.92m-27.548 0a27.548 27.548 0 1 0 55.096 0 27.548 27.548 0 1 0-55.096 0Z" fill="#445EA0" p-id="80185"></path><path d="M633.712 446.292h-106.848c-3.3 0-6 2.7-6 6v119.278c0 3.3 2.7 6 6 6h106.848v-131.278z" fill="#C3DDF4" p-id="80186"></path><path d="M560.548 571.57v-119.278c0-3.3 2.7-6 6-6h-39.684c-3.3 0-6 2.7-6 6v119.278c0 3.3 2.7 6 6 6h39.684c-3.3 0-6-2.7-6-6z" fill="#AEC1ED" p-id="80187"></path><path d="M647.712 399.536h93.236v-130.764c0-5.5-4.5-10-10-10H169.364c-5.5 0-10 4.5-10 10v133.05c0 5.5 4.5 10 10 10h464.466c0.848-6.912 6.746-12.286 13.882-12.286z" fill="#C3DDF4" p-id="80188"></path><path d="M199.048 401.82v-133.05c0-5.5 4.5-10 10-10H169.364c-5.5 0-10 4.5-10 10v133.05c0 5.5 4.5 10 10 10h39.684c-5.5 0-10-4.5-10-10z" fill="#AEC1ED" p-id="80189"></path><path d="M849.398 169.966H50.914a6.14 6.14 0 0 0-6.122 6.124v43.906H855.52V176.09a6.14 6.14 0 0 0-6.122-6.124z" fill="#d4699a" p-id="80190" data-spm-anchor-id="a313x.search_index.0.i36.6ee83a81CNsn9u" class="selected"></path><path d="M90.6 169.966H50.914a6.14 6.14 0 0 0-6.122 6.124v43.906h39.684V176.09a6.142 6.142 0 0 1 6.124-6.124z" fill="#FF9518" p-id="80191"></path><path d="M343.008 477.958h-168.34c-8.284 0-15-6.714-15-15s6.716-15 15-15h168.34c8.284 0 15 6.714 15 15s-6.716 15-15 15zM343.008 526.932h-168.34c-8.284 0-15-6.714-15-15s6.716-15 15-15h168.34a15 15 0 0 1 0 30zM343.008 575.906h-168.34c-8.284 0-15-6.714-15-15s6.716-15 15-15h168.34c8.284 0 15 6.714 15 15s-6.716 15-15 15zM475.12 477.958h-86.652c-8.284 0-15-6.714-15-15s6.716-15 15-15h86.652c8.284 0 15 6.714 15 15s-6.716 15-15 15zM475.12 526.932h-86.652c-8.284 0-15-6.714-15-15s6.716-15 15-15h86.652a15 15 0 0 1 0 30zM475.12 575.906h-86.652c-8.284 0-15-6.714-15-15s6.716-15 15-15h86.652c8.284 0 15 6.714 15 15s-6.716 15-15 15z" fill="#5DC1D8" p-id="80192"></path><path d="M1008 397.536c8.8 0 16 7.2 16 16v483.54c0 8.8-7.2 16-16 16H647.712c-8.8 0-16-7.2-16-16v-483.54c0-8.8 7.2-16 16-16H1008z" fill="#445EA0" p-id="80193"></path><path d="M675.134 850.25c-5.5 0-10-4.5-10-10V438.36c0-5.5 4.5-10 10-10H980.58c5.5 0 10 4.5 10 10v401.89c0 5.5-4.5 10-10 10H675.134z" fill="#FFFFFF" p-id="80194"></path><path d="M704.818 840.25V438.36c0-5.5 4.5-10 10-10h-39.684c-5.5 0-10 4.5-10 10v401.89c0 5.5 4.5 10 10 10h39.684c-5.5 0-10-4.5-10-10z" fill="#D9EAFC" p-id="80195"></path><path d="M809.134 890.25c-5.5 0-10-4.5-10-10v-3.89c0-5.5 4.5-10 10-10h37.446c5.5 0 10 4.5 10 10v3.89c0 5.5-4.5 10-10 10h-37.446z" fill="#445EA0" p-id="80196"></path><path d="M990.58 466.946V438.36c0-5.5-4.5-10-10-10H675.134c-5.5 0-10 4.5-10 10v28.586H990.58z" fill="#FFAF10" p-id="80197"></path><path d="M714.818 428.36h-39.684c-5.5 0-10 4.5-10 10v28.586h39.684V438.36c0-5.5 4.5-10 10-10z" fill="#FF9518" p-id="80198"></path><path d="M896.026 649.866h-136.338c-8.284 0-15-6.714-15-15s6.716-15 15-15h136.338a15 15 0 0 1 0 30zM896.026 696.12h-136.338a15 15 0 0 1 0-30h136.338a15 15 0 0 1 0 30zM896.026 742.37h-136.338a15 15 0 0 1 0-30h136.338a15 15 0 0 1 0 30z" fill="#5DC1D8" p-id="80199"></path><path d="M959.512 584.514c0 5.5-4.5 10-10 10H706.202c-5.5 0-10-4.5-10-10v-82.488c0-5.5 4.5-10 10-10h243.31c5.5 0 10 4.5 10 10v82.488z" fill="#C3DDF4" p-id="80200"></path><path d="M735.886 584.514v-82.488c0-5.5 4.5-10 10-10h-39.684c-5.5 0-10 4.5-10 10v82.488c0 5.5 4.5 10 10 10h39.684c-5.5 0-10-4.5-10-10z" fill="#AEC1ED" p-id="80201"></path><path d="M923.514 818.832c0 5.5-4.5 10-10 10H742.2c-5.5 0-10-4.5-10-10v-33.82c0-5.5 4.5-10 10-10h171.314c5.5 0 10 4.5 10 10v33.82z" fill="#C3DDF4" p-id="80202"></path><path d="M771.884 818.832v-33.82c0-5.5 4.5-10 10-10H742.2c-5.5 0-10 4.5-10 10v33.82c0 5.5 4.5 10 10 10h39.684c-5.5 0-10-4.5-10-10z" fill="#AEC1ED" p-id="80203"></path></svg>',rchenganpan:'<svg t="1747045662827" class="icon" viewBox="0 0 1034 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="104983" width="200" height="200"><path d="M959.967805 236.413144v612.937736c0 66.537152-54.440243 120.969087-120.973241 120.969088H181.707034c-66.537152 0-120.977396-54.436089-120.977395-120.969088V236.413144" fill="#F0F0F0" p-id="104984"></path><path d="M838.994564 1022.246945H181.707034c-95.342085 0-172.904373-77.562288-172.904373-172.896065V236.413144h103.853956v612.937736c0 38.068706 30.977558 69.04211 69.050417 69.04211h657.28753c38.07286 0 69.046264-30.973404 69.046264-69.04211V236.413144h103.853955v612.937736c0 95.333777-77.562288 172.896065-172.900219 172.896065z" fill="#F0F0F0" p-id="104985"></path><path d="M416.80331 797.037566h-83.083164v-181.981209l-25.863789 25.859635-58.748105-58.748106 167.695058-167.695058zM631.328195 802.288422c-74.168341 0-132.272552-80.24172-132.272552-182.679108 0-102.437387 58.100057-182.679108 132.272552-182.679107s132.268398 80.24172 132.268397 182.679107c-0.004154 102.433233-58.100057 182.679108-132.268397 182.679108z m0-282.270897c-20.056276 0-49.189387 38.795684-49.189388 99.595944 0 60.796105 29.133112 99.595943 49.189388 99.595943 20.052122 0 49.185233-38.799838 49.185233-99.595943-0.004154-60.80026-29.133112-99.595943-49.185233-99.595944z" fill="#666666" p-id="104986"></path><path d="M8.308316 248.231724V137.477712c0-60.912422 63.512925-110.749858 141.137526-110.749858H871.251602c77.632909 0 141.14168 49.837436 141.14168 110.749858v110.754012" fill="#F06262" p-id="104987"></path></svg>',yidubiaoji:'<svg t="1747046557391" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="110484" width="200" height="200"><path d="M512 48a122.666667 122.666667 0 0 1 122.581333 117.973333l0.085334 4.693334v69.333333H874.666667a122.666667 122.666667 0 0 1 122.581333 117.973333l0.085333 4.693334v106.666666A37.333333 37.333333 0 0 1 960 506.666667h-26.666667V853.333333a122.666667 122.666667 0 0 1-117.973333 122.581334l-4.693333 0.085333H213.333333a122.666667 122.666667 0 0 1-122.581333-117.973333L90.666667 853.333333V506.666667H64a37.333333 37.333333 0 0 1-37.205333-34.261334L26.666667 469.333333v-106.666666A122.666667 122.666667 0 0 1 149.333333 240h240V170.666667A122.666667 122.666667 0 0 1 512 48z m346.666667 458.666667H165.333333V853.333333a48 48 0 0 0 44.714667 47.893334l3.285333 0.106666h133.717334a37.418667 37.418667 0 0 1-0.256-2.261333L346.666667 896v-128a37.333333 37.333333 0 0 1 74.538666-3.072l0.128 3.072v128c0 1.813333-0.128 3.626667-0.384 5.354667h182.101334a37.418667 37.418667 0 0 1-0.256-2.282667L602.666667 896v-128a37.333333 37.333333 0 0 1 74.538666-3.072l0.128 3.072v128c0 1.813333-0.128 3.626667-0.384 5.354667L810.666667 901.333333a48 48 0 0 0 47.893333-44.714666L858.666667 853.333333V506.666667z m16-192H149.333333A48 48 0 0 0 101.333333 362.666667v69.333333h821.333334V362.666667a48 48 0 0 0-44.714667-47.893334L874.666667 314.666667z m-362.666667-192a48 48 0 0 0-47.893333 44.714666L464 170.666667v69.333333h96V170.666667A48 48 0 0 0 512 122.666667z" fill="#1296db" p-id="110485"></path></svg>',jibenxinxi:'<svg t="1747048407970" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9856" width="200" height="200"><path d="M902.545946 0.362456a83.787859 83.787859 0 0 1 83.787859 83.667041v855.820187a83.787859 83.787859 0 0 1-83.787859 83.72745H120.727292a83.72745 83.72745 0 0 1-83.787859-83.72745V84.029497A83.72745 83.72745 0 0 1 120.727292 0.362456h781.818654z m0 55.8183H120.727292a27.84874 27.84874 0 0 0-27.90915 27.848741v855.820187a27.90915 27.90915 0 0 0 27.90915 27.90915h781.818654a27.90915 27.90915 0 0 0 27.90915-27.90915V84.029497a27.90915 27.90915 0 0 0-27.90915-27.848741z m-116.167306 762.789688v55.8183H251.574086v-55.8183h534.864963z m0-148.848799v55.8183H251.574086v-55.8183h534.864963z m0-148.8488v55.8183H251.574086v-55.8183h534.864963zM418.4853 149.211256a83.787859 83.787859 0 0 1 83.78786 83.72745v111.57619a83.787859 83.787859 0 0 1-83.78786 83.72745H306.788291a83.787859 83.787859 0 0 1-83.787859-83.72745V232.938706A83.787859 83.787859 0 0 1 306.788291 149.211256h111.697009z m0 55.8183H306.788291a27.90915 27.90915 0 0 0-27.90915 27.90915v111.57619a27.90915 27.90915 0 0 0 27.90915 27.90915h111.697009a27.90915 27.90915 0 0 0 27.90915-27.90915V232.938706a27.84874 27.84874 0 0 0-27.90915-27.90915z m367.832931-55.8183v55.8183H619.890291V149.211256h166.42794z m0 0" fill="#1296db" p-id="9857"></path></svg>',zhaomuxingxi:'<svg t="1747048365367" class="icon" viewBox="0 0 1609 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7566" width="200" height="200"><path d="M744.228571 1007.542857c-3.657143 0-5.485714-1.828571-7.314285-5.485714-1.828571-3.657143 0-9.142857 3.657143-12.8l47.542857-25.6c3.657143-1.828571 9.142857 0 12.8 3.657143s0 9.142857-3.657143 12.8L749.714286 1005.714286c-1.828571 0-3.657143 1.828571-5.485715 1.828571z m-10.971428-25.6s-1.828571 0 0 0c-7.314286-1.828571-9.142857-5.485714-9.142857-10.971428l9.142857-54.857143c0-5.485714 5.485714-9.142857 10.971428-7.314286 5.485714 0 9.142857 5.485714 7.314286 10.971429l-9.142857 54.857142c-1.828571 3.657143-5.485714 7.314286-9.142857 7.314286z m107.885714-27.428571c-3.657143 0-5.485714-1.828571-7.314286-5.485715-1.828571-3.657143 0-9.142857 3.657143-12.8l47.542857-25.6c3.657143-1.828571 9.142857 0 12.8 3.657143s0 9.142857-3.657142 12.8l-47.542858 25.6c-1.828571 1.828571-3.657143 1.828571-5.485714 1.828572z m96.914286-53.028572c-3.657143 0-5.485714-1.828571-7.314286-5.485714-1.828571-3.657143 0-9.142857 3.657143-12.8l47.542857-25.6c3.657143-1.828571 9.142857 0 12.8 3.657143 1.828571 3.657143 0 9.142857-3.657143 12.8l-47.542857 25.6c-1.828571 1.828571-3.657143 1.828571-5.485714 1.828571z m-186.514286-27.428571c-1.828571 0-1.828571 0 0 0-7.314286-1.828571-9.142857-5.485714-9.142857-10.971429l7.314286-42.057143c-1.828571-1.828571-3.657143-3.657143-3.657143-7.314285 0-5.485714 3.657143-9.142857 9.142857-9.142857h3.657143c1.828571 0 5.485714 1.828571 7.314286 3.657142 1.828571 1.828571 1.828571 5.485714 1.828571 7.314286l-7.314286 49.371429c-1.828571 5.485714-5.485714 9.142857-9.142857 9.142857z m283.428572-23.771429c-3.657143 0-5.485714-1.828571-7.314286-5.485714-1.828571-3.657143 0-9.142857 3.657143-12.8l47.542857-25.6c3.657143-1.828571 9.142857 0 12.8 3.657143 1.828571 3.657143 0 9.142857-3.657143 12.8l-47.542857 25.6c-3.657143 1.828571-5.485714 1.828571-5.485714 1.828571zM1276.342857 822.857143h-54.857143c-5.485714 0-9.142857-3.657143-9.142857-9.142857s3.657143-9.142857 9.142857-9.142857h54.857143c5.485714 0 9.142857 3.657143 9.142857 9.142857s-3.657143 9.142857-9.142857 9.142857z m-109.714286 0h-54.857142c-5.485714 0-9.142857-3.657143-9.142858-9.142857s3.657143-9.142857 9.142858-9.142857h54.857142c5.485714 0 9.142857 3.657143 9.142858 9.142857s-3.657143 9.142857-9.142858 9.142857z m-466.285714 0h-54.857143c-5.485714 0-9.142857-3.657143-9.142857-9.142857s3.657143-9.142857 9.142857-9.142857h54.857143c5.485714 0 9.142857 3.657143 9.142857 9.142857s-5.485714 9.142857-9.142857 9.142857z m-109.714286 0h-54.857142c-5.485714 0-9.142857-3.657143-9.142858-9.142857s3.657143-9.142857 9.142858-9.142857h54.857142c5.485714 0 9.142857 3.657143 9.142858 9.142857s-5.485714 9.142857-9.142858 9.142857z m-109.714285 0h-54.857143c-5.485714 0-9.142857-3.657143-9.142857-9.142857s3.657143-9.142857 9.142857-9.142857h54.857143c5.485714 0 9.142857 3.657143 9.142857 9.142857s-5.485714 9.142857-9.142857 9.142857z m-109.714286 0h-54.857143c-5.485714 0-9.142857-3.657143-9.142857-9.142857s3.657143-9.142857 9.142857-9.142857h54.857143c5.485714 0 9.142857 3.657143 9.142857 9.142857s-5.485714 9.142857-9.142857 9.142857z m-109.714286 0h-54.857143c-5.485714 0-9.142857-3.657143-9.142857-9.142857s3.657143-9.142857 9.142857-9.142857h54.857143c5.485714 0 9.142857 3.657143 9.142857 9.142857s-5.485714 9.142857-9.142857 9.142857zM164.571429 808.228571c-3.657143 0-7.314286-3.657143-9.142858-7.314285l-10.971428-53.028572c-1.828571-5.485714 1.828571-9.142857 7.314286-10.971428 5.485714-1.828571 9.142857 1.828571 10.971428 7.314285l10.971429 53.028572c0 3.657143-3.657143 9.142857-9.142857 10.971428z m1137.371428-25.6h-1.828571c-5.485714-1.828571-7.314286-7.314286-5.485715-10.971428l16.457143-53.028572c1.828571-5.485714 7.314286-7.314286 10.971429-5.485714 5.485714 1.828571 7.314286 7.314286 5.485714 10.971429l-16.457143 53.028571c-1.828571 3.657143-5.485714 5.485714-9.142857 5.485714zM142.628571 700.342857c-3.657143 0-7.314286-3.657143-9.142857-7.314286L122.514286 640c-1.828571-5.485714 1.828571-9.142857 7.314285-10.971429 5.485714-1.828571 9.142857 1.828571 10.971429 7.314286l10.971429 53.028572c1.828571 5.485714-1.828571 9.142857-9.142858 10.971428 1.828571 0 0 0 0 0z m1190.4-21.942857h-1.828571c-5.485714-1.828571-7.314286-7.314286-5.485714-10.971429l16.457143-53.028571c1.828571-5.485714 7.314286-7.314286 10.971428-5.485714 5.485714 1.828571 7.314286 7.314286 5.485714 10.971428l-16.457142 53.028572c-1.828571 1.828571-5.485714 5.485714-9.142858 5.485714zM120.685714 592.457143c-3.657143 0-7.314286-3.657143-9.142857-7.314286l-9.142857-54.857143c-1.828571-5.485714 1.828571-9.142857 7.314286-10.971428s9.142857 1.828571 10.971428 7.314285l10.971429 53.028572c0 7.314286-3.657143 10.971429-10.971429 12.8 1.828571 0 1.828571 0 0 0z m1243.428572-20.114286h-1.828572c-5.485714-1.828571-7.314286-7.314286-5.485714-10.971428l16.457143-53.028572c1.828571-5.485714 7.314286-7.314286 10.971428-5.485714 5.485714 1.828571 7.314286 7.314286 5.485715 10.971428l-16.457143 53.028572c-1.828571 3.657143-5.485714 5.485714-9.142857 5.485714zM100.571429 484.571429c-3.657143 0-7.314286-3.657143-9.142858-7.314286l-10.971428-53.028572c-1.828571-5.485714 1.828571-9.142857 7.314286-10.971428 5.485714-1.828571 9.142857 1.828571 10.971428 7.314286l10.971429 53.028571c0 5.485714-1.828571 9.142857-9.142857 10.971429 1.828571 0 0 0 0 0z m1294.628571-16.457143h-1.828571c-5.485714-1.828571-7.314286-7.314286-5.485715-10.971429l16.457143-53.028571c1.828571-5.485714 7.314286-7.314286 10.971429-5.485715 5.485714 1.828571 7.314286 7.314286 5.485714 10.971429l-16.457143 53.028571c-1.828571 1.828571-5.485714 5.485714-9.142857 5.485715z m-1316.571429-91.428572c-3.657143 0-7.314286-3.657143-9.142857-7.314285l-10.971428-53.028572c-1.828571-5.485714 1.828571-9.142857 7.314285-10.971428 5.485714-1.828571 9.142857 1.828571 10.971429 7.314285l10.971429 53.028572c1.828571 5.485714-1.828571 10.971429-9.142858 10.971428 1.828571 0 1.828571 0 0 0z m1347.657143-14.628571h-1.828571c-5.485714-1.828571-7.314286-7.314286-5.485714-10.971429l16.457142-53.028571c1.828571-5.485714 7.314286-7.314286 10.971429-5.485714 5.485714 1.828571 7.314286 7.314286 5.485714 10.971428l-16.457143 53.028572c-1.828571 3.657143-5.485714 5.485714-9.142857 5.485714zM56.685714 268.8c-3.657143 0-7.314286-1.828571-9.142857-7.314286v-1.828571c0-1.828571 0-5.485714 1.828572-7.314286s3.657143-3.657143 5.485714-3.657143l54.857143-7.314285c5.485714 0 9.142857 1.828571 10.971428 7.314285 0 5.485714-1.828571 9.142857-7.314285 10.971429l-49.371429 7.314286s-1.828571 1.828571-3.657143 1.828571h-3.657143z m1400.685715-10.971429h-1.828572c-5.485714-1.828571-7.314286-7.314286-5.485714-10.971428l16.457143-53.028572c1.828571-5.485714 7.314286-7.314286 10.971428-5.485714 5.485714 1.828571 7.314286 7.314286 5.485715 10.971429l-16.457143 53.028571c-1.828571 1.828571-5.485714 5.485714-9.142857 5.485714zM164.571429 252.342857c-3.657143 0-9.142857-3.657143-9.142858-7.314286 0-5.485714 1.828571-9.142857 7.314286-10.971428l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971429 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971428l-56.685714 7.314286c1.828571 0 0 0 0 0z m107.885714-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314285 0-5.485714 1.828571-9.142857 7.314285-10.971429l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971429 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971429l-56.685714 7.314285c1.828571 0 1.828571 0 0 0z m109.714286-16.457143c-3.657143 0-9.142857-3.657143-9.142858-7.314285 0-5.485714 1.828571-9.142857 7.314286-10.971429l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971429 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971429l-56.685714 7.314285z m107.885714-16.457142c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314285-10.971429l54.857143-7.314285c5.485714 0 9.142857 1.828571 10.971429 7.314285 0 5.485714-1.828571 9.142857-7.314286 10.971429l-56.685714 7.314286z m107.885714-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314286-10.971429l54.857143-7.314285c5.485714 0 9.142857 1.828571 10.971428 7.314285s-3.657143 9.142857-7.314286 9.142858l-56.685714 9.142857c1.828571 0 1.828571 0 0 0z m109.714286-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314285-10.971428l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971429 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971428l-56.685714 7.314286z m107.885714-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314286-10.971428l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971428 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971428l-56.685714 7.314286z m672.914286-1.828571h-1.828572c-5.485714-1.828571-7.314286-5.485714-5.485714-10.971429l16.457143-53.028571c1.828571-5.485714 7.314286-7.314286 10.971429-5.485715 5.485714 1.828571 7.314286 7.314286 5.485714 10.971429L1497.6 146.285714c-1.828571 3.657143-5.485714 5.485714-9.142857 5.485715z m-565.028572-14.628572c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314286-10.971428l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971428 7.314286s-3.657143 9.142857-7.314285 9.142857l-56.685715 9.142857c1.828571 0 1.828571 0 0 0z m109.714286-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314285 0-5.485714 1.828571-9.142857 7.314286-10.971429l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971428 7.314286 0 5.485714-1.828571 9.142857-7.314286 10.971429l-56.685714 7.314285z m107.885714-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314285 0-5.485714 1.828571-9.142857 7.314286-10.971429l54.857143-7.314286c5.485714 0 9.142857 1.828571 10.971428 7.314286s-1.828571 9.142857-7.314285 10.971429l-56.685715 7.314285z m107.885715-16.457142c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314285-10.971429l54.857143-7.314285c5.485714 0 9.142857 1.828571 10.971429 7.314285 0 5.485714-1.828571 9.142857-7.314286 10.971429l-56.685714 7.314286c1.828571 0 1.828571 0 0 0z m109.714285-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314286-10.971429l54.857143-7.314285c5.485714 0 9.142857 1.828571 10.971428 7.314285 0 5.485714-1.828571 9.142857-7.314285 10.971429l-56.685715 7.314286z m107.885715-16.457143c-3.657143 0-9.142857-3.657143-9.142857-7.314286 0-5.485714 1.828571-9.142857 7.314285-10.971428l54.857143-7.314286c3.657143 0 5.485714 0 9.142857 3.657143s3.657143 5.485714 1.828572 9.142857-5.485714 7.314286-9.142857 7.314286l-54.857143 5.485714z" fill="#4A90E2" p-id="7567"></path><path d="M911.506286 323.126857l106.569143-16.896 3.712 23.478857-106.550858 16.896zM873.6 372.406857l198.674286-31.451428 3.419428 21.668571-198.656 31.451429zM600.502857 557.348571l128.237714-20.297142 14.884572 93.915428-128.237714 20.297143z" fill="#4A90E2" p-id="7568"></path><path d="M111.542857 299.885714l91.428572 479.085715h610.742857L788.114286 932.571429l277.942857-153.6h190.171428L1464.685714 93.257143l-1353.142857 206.628571z m402.285714 373.028572c3.657143 23.771429-5.485714 36.571429-29.257142 40.228571l-36.571429 5.485714-10.971429-27.428571c10.971429-1.828571 21.942857-1.828571 32.914286-3.657143 10.971429-1.828571 14.628571-7.314286 12.8-18.285714l-14.628571-96.914286c-16.457143 9.142857-31.085714 18.285714-47.542857 27.428572l-12.8-29.257143c18.285714-7.314286 38.4-16.457143 54.857142-27.428572l-14.628571-89.6-51.2 7.314286-3.657143-27.428571 51.2-7.314286-10.971428-73.142857 29.257142-3.657143 10.971429 73.142857 47.542857-7.314286 3.657143 27.428572-47.542857 7.314285 12.8 78.628572c12.8-9.142857 27.428571-18.285714 40.228571-29.257143l5.485715 29.257143c-12.8 10.971429-25.6 20.114286-40.228572 29.257143l18.285714 115.2z m29.257143-171.885715c21.942857-18.285714 36.571429-38.4 45.714286-58.514285 7.314286-18.285714 10.971429-43.885714 12.8-71.314286l-67.657143 10.971429-3.657143-29.257143 197.485715-31.085715c10.971429 74.971429 14.628571 120.685714 9.142857 137.142858-7.314286 16.457143-20.114286 25.6-40.228572 29.257142-9.142857 1.828571-20.114286 1.828571-31.085714 3.657143l-10.971429-23.771428c12.8-1.828571 23.771429-1.828571 32.914286-3.657143 14.628571-3.657143 21.942857-10.971429 25.6-21.942857s0-40.228571-7.314286-87.771429l-76.8 10.971429c-1.828571 34.742857-5.485714 62.171429-14.628571 84.114285-10.971429 23.771429-27.428571 47.542857-53.028571 71.314286l-18.285715-20.114286zM749.714286 674.742857l-1.828572-16.457143-128 20.114286 1.828572 16.457143-27.428572 3.657143-25.6-164.571429 184.685715-29.257143 25.6 164.571429-29.257143 5.485714z m426.057143-148.114286c-23.771429-3.657143-43.885714-9.142857-62.171429-14.628571 7.314286 43.885714 7.314286 71.314286 0 85.942857-7.314286 12.8-21.942857 21.942857-43.885714 25.6-14.628571 1.828571-25.6 3.657143-34.742857 3.657143L1024 603.428571c14.628571 0 27.428571-1.828571 40.228571-3.657142 18.285714-3.657143 25.6-10.971429 27.428572-21.942858 0-12.8 0-25.6-1.828572-38.4l-89.6 14.628572c-5.485714 14.628571-10.971429 27.428571-20.114285 40.228571-16.457143 23.771429-49.371429 43.885714-96.914286 64l-14.628571-23.771428c42.057143-16.457143 71.314286-34.742857 87.771428-54.857143 5.485714-7.314286 9.142857-14.628571 12.8-21.942857l-82.285714 12.8-3.657143-20.114286c-14.628571 10.971429-32.914286 20.114286-51.2 31.085714l-16.457143-21.942857c42.057143-20.114286 73.142857-42.057143 93.257143-64l-89.6 14.628572-3.657143-23.771429 113.371429-18.285714c3.657143-7.314286 7.314286-14.628571 9.142857-23.771429l-78.628572 14.628572-16.457142-102.4 45.714285-7.314286-3.657143-21.942857-95.085714 14.628571-3.657143-23.771428 95.085715-14.628572-3.657143-23.771428 27.428571-3.657143 3.657143 23.771428 106.057143-16.457143-3.657143-23.771428 27.428571-3.657143 3.657143 23.771429 95.085715-14.628572 3.657142 23.771429-95.085714 14.628571 3.657143 21.942857 45.714286-7.314285 16.457143 102.4-146.285715 23.771428c-1.828571 7.314286-3.657143 16.457143-7.314285 21.942857l201.142857-31.085714 3.657143 23.771429-89.6 14.628571c25.6 16.457143 62.171429 27.428571 109.714285 31.085714l-7.314285 21.942857z" fill="#4A90E2" p-id="7569"></path><path d="M945.371429 490.057143c-12.8 20.114286-31.085714 38.4-53.028572 54.857143l85.942857-14.628572c1.828571-10.971429 1.828571-21.942857 1.828572-32.914285l27.428571-1.828572c0 10.971429 0 20.114286-1.828571 29.257143l104.228571-16.457143c-27.428571-9.142857-49.371429-21.942857-64-36.571428l-100.571428 18.285714zM879.085714 412.781714l198.656-31.451428 3.437715 21.650285-198.674286 31.451429z" fill="#4A90E2" p-id="7570"></path><path d="M217.6 91.428571L54.857143 162.742857 292.571429 201.142857z" fill="#4A90E2" fill-opacity=".6" p-id="7571"></path><path d="M1243.428571 650.971429l219.428572 111.542857-135.314286 36.571428z" fill="#4A90E2" fill-opacity=".4" p-id="7572"></path></svg>',lianxifangshi:'<svg t="1747048264026" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4900" width="200" height="200"><path d="M245.800036 0.153986c47.096917 1.228615 90.917526 19.207351 131.05229 80.474297l3.071538 4.709692 29.896304 47.915993c33.786918 55.901992 46.482609 97.388233 34.319318 147.843365l-1.801969 5.610676a173.521422 173.521422 0 0 1-69.908206 83.013434l-7.207876 4.668738a107.872416 107.872416 0 0 0-33.459287 38.414703l3.440122-6.061169-0.286677 9.951784c0.245723 18.01969 4.914461 35.711749 13.514768 51.519931l4.668738 7.740276 4.709691 6.552614 2.375323 3.522031a604.232963 604.232963 0 0 0 126.301644 146.491887c35.220303 29.036273 54.3867 39.356641 68.024329 36.57178 10.893722-2.252461 19.371167-9.009845 38.906149-30.633473l9.050799-9.992737c29.609627-31.78018 50.455132-46.154978 86.003065-51.642793 53.813346-8.31363 93.743341 10.852768 141.577427 52.830454 3.849661 3.399169 18.674951 16.791075 22.524612 20.067382l21.582674 18.593044 13.76049 12.245198c40.339533 37.267995 60.693592 70.440606 57.335377 114.670754l-0.819077 5.405907a138.546843 138.546843 0 0 1-59.874515 87.23168l3.685846-2.621046-11.057537 10.811814a692.119905 692.119905 0 0 1-14.29289 13.105229l-14.661475 12.695691-14.989106 12.286152-3.440122 2.45723a318.620879 318.620879 0 0 1-190.148682 49.677009 382.099332 382.099332 0 0 1-176.511053-54.181931 867.443297 867.443297 0 0 1-235.320768-200.550957 839.717546 839.717546 0 0 1-166.477361-274.145009A379.273517 379.273517 0 0 1 115.075377 91.890589l2.784862-3.276307c15.521506-16.299629 32.107811-31.45255 49.758916-45.376855l-2.866769 2.293415 3.931569-4.177292c9.009845-9.214614 19.125444-17.323475 30.305842-24.244674L206.48435 12.767769z m12.286153 78.836143l-3.153446 1.187662a81.293373 81.293373 0 0 0-31.002057 22.115074l-5.528769 5.201138a394.631207 394.631207 0 0 0-41.15861 37.595625l1.474339-1.515292-5.446861 7.412645a297.529652 297.529652 0 0 0-39.069964 266.937133l3.849661 10.77086a762.355742 762.355742 0 0 0 151.815887 249.408889 790.859615 790.859615 0 0 0 215.08957 183.555113c42.182456 25.432335 89.934634 40.134764 139.324966 42.837717a236.83606 236.83606 0 0 0 141.372658-36.858456l-1.679108 0.982892 11.467075-9.419383c8.723168-7.330737 17.241567-14.907198 25.555197-22.729382l12.286152-11.876614 6.552615-5.323999c12.572829-8.190768 21.377905-21.050274 24.490396-35.670795l-0.819077 2.907723 0.040954-0.655262c-0.737169-11.630891-10.361322-25.841873-31.534457-45.458763l-6.102122-5.487814c-4.423015-3.890615-23.179874-19.862613-27.480027-23.67132l-20.354059-18.183505-8.600307-7.453599c-27.684796-23.179874-46.523563-31.24778-68.515775-27.848612-13.719537 2.1296-23.097966 9.255568-44.598732 33.172611l-9.009845 9.828922c-26.783812 28.872458-45.294948 42.141502-76.297005 48.571254-48.079809 9.828922-81.539097-8.190768-136.949643-53.813346a686.673044 686.673044 0 0 1-143.74798-166.641177l1.023846 1.556246L286.753877 524.035515a192.892589 192.892589 0 0 1-33.090703-125.482568l1.187661-10.23846 0.941939-6.962153 3.276307-6.224984a189.001974 189.001974 0 0 1 70.80919-75.39602c16.463444-10.23846 29.241042-25.473289 36.448918-43.492979l-0.286677 0.655262-0.941938 2.047692 0.450492-2.211508c3.603938-22.360797-4.423015-45.868301-26.333319-81.989588l-5.283046-8.600307-20.067382-32.066857-10.074644-15.398644c-17.978736-26.12855-31.657319-38.087072-43.001533-39.520456L258.086189 78.990129z m371.123703 89.975588a348.353368 348.353368 0 0 1 139.365919 91.449926 350.442014 350.442014 0 0 1 72.324482 141.454565 40.953841 40.953841 0 0 1-79.45045 19.821659 267.22381 267.22381 0 0 0-54.018116-106.807616A264.930394 264.930394 0 0 0 602.098449 246.286568a40.953841 40.953841 0 1 1 27.111443-77.320851z m39.725225-166.764039a573.353768 573.353768 0 0 1 207.021664 120.486199l17.118705 16.913936a627.863329 627.863329 0 0 1 103.408448 217.464894 40.953841 40.953841 0 1 1-79.368543 20.313105 545.955648 545.955648 0 0 0-79.65522-174.750038l-8.190768-11.467075-10.074645-9.419384a491.446087 491.446087 0 0 0-159.597117-96.118663l-16.135813-5.610677a40.953841 40.953841 0 1 1 25.473289-77.812297z" fill="#008df0" p-id="4901"></path></svg>',zhidaolaoshi:'<svg t="1747048221793" class="icon" viewBox="0 0 1263 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3519" data-spm-anchor-id="a313x.search_index.0.i4.1b1c3a81aXXGBp" width="200" height="200"><path d="M528.299836 658.129008l0.981918 21.464723-12.683573 20.979375 38.897973 169.908252-54.953732 26.705359-54.953732-26.705359 38.892362-169.908252-12.683573-20.979375 0.976307-21.464723C496.985074 656.7936 504.085742 656.7936 528.299836 658.129008L528.299836 658.129008z" p-id="3520" fill="#1296db"></path><path d="M489.847934 67.581195l538.478115 0c16.810433 0 32.111518 6.873425 43.198773 17.960679 11.087255 11.045173 17.963485 26.346258 17.963485 43.198773l0 336.275989c0 16.768351-6.87623 32.06663-17.963485 43.159496l-0.047693 0.039277 0 0.047693c-11.134948 11.047978-26.38834 17.924208-43.153885 17.924208l-238.044932 0-84.223299 66.170038-30.024241 23.594082 5.76526-37.700033 7.005282-46.035112 29.895189 4.480351-1.240022 8.295803 138.06606-108.485085 18.715353 23.72594-45.415101 35.705337 199.486422 0c8.517436 0 16.232504-3.456351 21.821019-9.047671l0.047693-0.047693c5.549238-5.543627 9.008395-13.306389 9.008395-21.821019L1059.186323 128.743452c0-8.472548-3.459156-16.232504-9.056088-21.821019-5.633403-5.588515-13.351277-9.092559-21.821019-9.092559L489.847934 97.829874c-8.51463 0-16.277392 3.459156-21.865907 9.047671-5.588515 5.633403-9.047671 13.348471-9.047671 21.865907l0 21.997764-30.248679 0L428.685677 128.743452c0-16.810433 6.873425-32.06663 17.918597-43.153885l0.089775-0.044888C457.781304 74.457425 473.037501 67.581195 489.847934 67.581195L489.847934 67.581195z" p-id="3521" fill="#1296db"></path><path d="M676.039189 374.587616c10.374663-138.110948-9.092559-217.635068-174.660734-195.457753-56.190948 7.496241-117.221348-9.002784-152.037348 16.499025-43.776701 41.293852-46.879562 103.252866-34.995551 175.945644-2.623123 1.419573-5.277107 3.013085-7.891814 4.833841l-7.802038 5.277107-0.137468 9.359079c-0.401184 24.216899 2.623123 44.663233 9.140252 60.317808 5.9392 14.235003 14.678268 24.839715 26.385534 31.224986 13.9264 47.45749 33.935079 83.070247 58.95154 108.706718 27.274871 27.945381 60.096175 43.818784 97.212668 50.077808l3.33291 0.530236 3.327299-0.667704c41.114301-8.691375 73.935605-25.27737 100.107923-52.953425 24.256175-25.639277 42.357129-60.26731 55.663518-106.490389 11.266805-6.564822 19.694466-17.253699 25.414838-31.359649 6.253414-15.567605 9.134641-35.657644 8.736263-59.386389l-0.134663-9.359079-7.804844-5.277107C677.899222 375.740668 676.970608 375.165545 676.039189 374.587616L676.039189 374.587616z" p-id="3522" fill="#1296db"></path><path d="M273.629633 641.2288l-7.361578-0.044888-5.639014 4.878729c-39.652647 34.594367-62.890433 85.02286-76.412844 136.475353-13.037063 49.892647-16.94229 100.854181-17.702575 138.422356l-0.401184 19.918904 19.871211 0L802.17074 940.879255l17.475332 0 1.904921-17.475332c4.878729-45.238356-2.83634-102.545885-19.697271-155.058849-16.055759-50.161973-40.749589-96.730126-71.045962-125.343211l-5.942005-5.633403-8.026477 0.263715-94.603573 3.237523 0 38.984942 87.463627-2.976614c22.749633 24.306674 41.86617 62.130148 55.082784 103.390334 13.13806 40.889863 20.179814 84.621677 19.161425 121.519342-476.693041 0-90.072723 0-577.816548 0 1.593512-32.285458 5.807342-71.315288 15.834126-109.467003 11.087255-42.354323 29.314455-83.47143 59.03851-112.067682l79.299682 0.706981 0-38.94286L273.629633 641.2288z" p-id="3523" fill="#1296db"></path><path d="M873.662773 322.251397 873.662773 345.270356 999.760658 345.270356 999.760658 322.251397Z" p-id="3524" fill="#1296db"></path><path d="M740.570827 322.251397 740.570827 345.270356 853.66251 345.270356 853.66251 322.251397Z" p-id="3525" fill="#1296db"></path><path d="M936.199715 244.323595 936.199715 267.342553 999.760658 267.342553 999.760658 244.323595Z" p-id="3526" fill="#1296db"></path><path d="M885.156822 244.323595 885.156822 267.342553 910.700712 267.342553 910.700712 244.323595Z" p-id="3527" fill="#1296db"></path><path d="M811.086553 244.323595 811.086553 267.342553 862.179945 267.342553 862.179945 244.323595Z" p-id="3528" fill="#1296db"></path><path d="M740.570827 244.323595 740.570827 267.342553 791.574444 267.342553 791.574444 244.323595Z" p-id="3529" fill="#1296db"></path><path d="M740.570827 172.250827 740.570827 195.269786 999.763463 195.269786 999.763463 172.250827Z" p-id="3530" fill="#1296db"></path><path d="M335.100493 408.071014c0.799562 11.752153 2.794258 21.644274 6.034586 29.364953 3.234718 7.846926 7.670181 12.905205 13.303584 14.633381l9.577907 2.973808 2.620318 9.667682c12.332888 45.459989 30.069129 78.545008 52.296942 101.34514 20.712855 21.209425 45.63954 33.61806 73.935605 38.984942 32.1536-7.313885 57.700296-20.443529 77.835222-41.686619 21.332866-22.530805 37.253962-54.687211 49.146389-99.041841l2.48846-9.224416 9.047671-3.195441c5.501545-1.907726 9.847233-7.095058 13.039868-14.944789 3.060778-7.670181 5.007781-17.340668 5.804537-28.787025-5.279912 0.047693-10.643989 0.179551-16.765545 0.931419l-2.437962-8.203222-5.190137 0.311408-2.979419-15.747156c-2.30891-12.285195-5.857841-23.681052-10.461633-34.151101-13.842236 5.855036-29.364953-4.923616-43.375518-12.994981l-7.095058 22.264285-11.446356-1.506542 1.509348-13.57291-12.063562 19.383058-10.733764-2.129359 10.559825-28.739332 0 0c-59.122674 52.465271-128.269326 49.09589-166.811003 19.781436-1.240022 2.971003-2.395879 6.031781-3.45074 9.134641-2.6624 10.646795-5.639014 24.483419-8.295803 35.040438l-0.715397 3.857534-0.266521-0.044888c-0.575123 2.129359-1.108164 3.989392-1.641205 5.633403C353.731682 404.213479 343.884449 406.738411 335.100493 408.071014L335.100493 408.071014z" fill="#ffffff" p-id="3531" data-spm-anchor-id="a313x.search_index.0.i1.1b1c3a81aXXGBp" class="selected"></path></svg>',zhaomujiaose:'<svg t="1747048156363" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="123464" width="200" height="200"><path d="M711.111111 682.666667h-398.222222c-17.066667 0-28.444444-11.377778-28.444445-28.444445s11.377778-28.444444 28.444445-28.444444h398.222222c17.066667 0 28.444444 11.377778 28.444445 28.444444s-11.377778 28.444444-28.444445 28.444445z m0 113.777777h-398.222222c-17.066667 0-28.444444-11.320889-28.444445-28.387555s11.377778-28.444444 28.444445-28.444445h398.222222c17.066667 0 28.444444 11.377778 28.444445 28.444445s-11.377778 28.444444-28.444445 28.444444z" fill="#1296db" p-id="123465"></path><path d="M796.444444 170.666667c34.133333 0 56.888889 22.755556 56.888889 56.888889v568.888888c0 34.190222-22.755556 56.945778-56.888889 56.945778H227.498667c-34.133333 0-56.888889-22.755556-56.888889-56.888889V227.555556c0-34.133333 22.755556-56.888889 56.888889-56.888889h568.888889z m0-56.888889H227.498667c-62.577778 0-113.777778 51.2-113.777778 113.777778v568.888888c0 62.634667 51.2 113.834667 113.777778 113.834667h568.888889c62.577778 0 113.834667-51.2 113.834666-113.777778V227.555556C910.222222 164.977778 859.022222 113.777778 796.444444 113.777778z" fill="#1296db" p-id="123466"></path><path d="M512 449.422222c-62.577778 0-108.088889-51.2-108.088889-113.777778S449.422222 227.555556 512 227.555556c62.577778 0 108.088889 51.2 108.088889 108.088888 0 56.888889-45.511111 113.777778-108.088889 113.777778zM512 284.444444c-28.444444 0-51.2 22.755556-51.2 51.2s22.755556 51.2 51.2 51.2 51.2-22.755556 51.2-51.2S540.444444 284.444444 512 284.444444z" fill="#1296db" p-id="123467"></path><path d="M688.355556 568.888889h-56.888889c0-68.266667-56.888889-119.466667-119.466667-119.466667s-119.466667 51.2-119.466667 119.466667h-56.888889c0-96.711111 79.644444-176.355556 176.355556-176.355556 96.711111 0 176.355556 79.644444 176.355556 176.355556z" fill="#1296db" p-id="123468"></path></svg>',xialaxuanze:'<svg t="1747048600747" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10961" width="200" height="200"><path d="M490.666667 601.6L797.866667 298.666667l59.733333 59.733333-302.933333 302.933333-59.733334 64-59.733333-59.733333L128 358.4 187.733333 298.666667l302.933334 302.933333z" fill="#444444" p-id="10962"></path></svg>',rqi:'<svg t="1747048687363" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11999" width="200" height="200"><path d="M833 128c0-53-43-96-96-96h-16c-53 0-96 43-96 96H400c0-53-43-96-96-96h-16c-53 0-96 43-96 96H64c-35.3 0-64 28.7-64 64v736c0 35.3 28.7 64 64 64h896c35.3 0 64-28.7 64-64V192c0-35.3-28.7-64-64-64H833zM729 96c22.1 0 40 17.9 40 40v80c0 22.1-17.9 40-40 40s-40-17.9-40-40v-80c0-22.1 17.9-40 40-40z m-433 0c22.1 0 40 17.9 40 40v80c0 22.1-17.9 40-40 40s-40-17.9-40-40v-80c0-22.1 17.9-40 40-40z m632 832H96c-17.7 0-32-14.3-32-32V448h896v448c0 17.7-14.3 32-32 32z m32-544H64V224c0-17.7 14.3-32 32-32h96v32c0 53 43 96 96 96h16c53 0 96-43 96-96v-32h225v24c0 57.4 46.6 104 104 104s104-46.6 104-104v-24h95c17.7 0 32 14.3 32 32v160z" p-id="12000"></path><path d="M304 560v64H144v-64h160m48-48H96v160h256V512zM304 752v64H144v-64h160m48-48H96v160h256V704zM592 560v64H432v-64h160m48-48H384v160h256V512zM592 752v64H432v-64h160m48-48H384v160h256V704zM880 560v64H720v-64h160m48-48H672v160h256V512zM880 752v64H720v-64h160m48-48H672v160h256V704z" p-id="12001"></path></svg>',shuaxin:'<svg t="1747052156619" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14762" width="200" height="200"><path d="M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m0 819.2a307.2 307.2 0 0 1-307.2-307.2H153.6l102.4-102.4 102.4 102.4H307.2a204.8 204.8 0 0 0 204.8 204.8 204.8 204.8 0 0 0 163.84-81.92l81.92 61.44A307.2 307.2 0 0 1 512 819.2z m256-204.8l-102.4-102.4h51.2a204.8 204.8 0 0 0-204.8-204.8 204.8 204.8 0 0 0-163.84 81.92L266.24 327.68A307.2 307.2 0 0 1 819.2 512h51.2z" p-id="14763" fill="#1296db"></path></svg>'},T=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAADCgAwAEAAAAAQAAADAAAAAA9+0L2AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAAWlJREFUaAXtmLEOAiEQRFmNhYXGyt7Ozs7a3v//BL/EeJvsBh1Fkzi8xLAMbIC5eS+XK7fbzUopxUktpRT9/S5M/K5Kpafyn+J3lW8YJZUYsUDATkACCDigEAwBCSgg4IBCMASUU0C5/DYYl+86XyxWx7lXP9p0PqyjhW1XoPYC24X8GhJQQAEHFIIhIAEFBBxQCIaABAQEnB9fYi+Pq7FX/bjO51j2a3NfxvVnc+7H8UDXe/M0D+wDSEABBxxQCIaABBQQcEAhGAISUEDAAYVgCEhAAQEHFIIhIAEFBBxQCIaABJbzQAghhGD8uUZ88uvrNe73u3k8Hubxnlc3jDGaj1k/z6ZPyONt3ufPKlR/gdmlLZsUUEABBxSCISABBQQcUAiGgAQUEHBAIRgCElBAwAGFYAhIQAEBBxSCIbCcB+ov5Dbvaxuou5yl7UJ+FQkoIAEHFIIhIAEFBBxQCIaABBQQcODvhfyYXSZ9dCWDAAAAAElFTkSuQmCC",B=T({__name:"SvgIcon",props:{name:{type:String,required:!0},color:{type:String,default:""},size:{type:[Number,String],default:24}},setup(a){const l=a,n=e.ref(!1),i=e.ref(!1),o=e.ref("");function s(){try{const e=C[l.name];if(!e)return void t("error","at components/SvgIcon.vue:68","未找到图标:",l.name);let a=e;a=a.replace(/(width|height)=["']([^"']*)["']/g,""),l.color&&(a.includes("fill=")&&(a=a.replace(/fill="[^"]*"/g,`fill="${l.color}"`)),a=a.replace(/fill="currentColor"/g,`fill="${l.color}"`)),a.includes("preserveAspectRatio")||(a=a.replace("<svg ",'<svg preserveAspectRatio="xMidYMid meet" ')),o.value=a}catch(e){t("error","at components/SvgIcon.vue:97","初始化SVG内容失败:",e),n.value=!0}}e.ref(!1),e.onMounted((()=>{s()})),e.watchEffect((()=>{s()}));const c=e.computed((()=>{try{if(i.value)return S;const e=C[l.name];if(!e)return S;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`}catch(e){return t("error","at components/SvgIcon.vue:125","生成图标URL失败:",e),S}}));function r(){t("error","at components/SvgIcon.vue:132","图标加载失败:",l.name),i.value=!0}const d=e.computed((()=>{const e={};let t=l.size;if("number"!=typeof t&&isNaN(Number(t)))"string"==typeof t&&(t.includes("rpx")||t.includes("px")||t.includes("%")?(e.width=t,e.height=t):(e.width=`${t}px`,e.height=`${t}px`));else{const a=Number(t);e.width=`${a}px`,e.height=`${a}px`}return l.color&&(e.color=l.color),e}));return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"svg-icon-container",style:e.normalizeStyle(d.value)},[n.value?(e.openBlock(),e.createElementBlock("image",{key:0,src:c.value,mode:"aspectFit",class:"svg-image",onError:r},null,40,["src"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"svg-content",innerHTML:o.value},null,8,["innerHTML"]))],4))}},[["__scopeId","data-v-a06faf73"]]),D={__name:"login",setup(a){const l=e.ref(!1),n=e.ref(!0),i=e.ref(!1),o=e.ref([]),s=e.ref([[],[]]),c=e.ref([0,0]),r=e.ref([]),d=e.ref({}),m=e.computed((()=>{if(0===s.value[0].length||0===s.value[1].length)return"";const e=c.value[0],t=c.value[1];if(!s.value[0][e]||!s.value[1][t])return"";return`${s.value[0][e].name} - ${s.value[1][t].name}`})),u=e.reactive({phone:"",password:""}),p=e.reactive({phoneNumber:"",password:"",realName:"",schoolId:1,role:"student",major:"",studentTeacherId:""});function h(e){const{column:t,value:a}=e.detail;if(0===t){c.value[0]=a,c.value[1]=0;const e=s.value[0][a].name;s.value[1]=d.value[e]||[]}else c.value[1]=a}function g(e){const[t,a]=e.detail.value;c.value=[t,a],s.value[1]&&s.value[1][a]&&(p.schoolId=s.value[1][a].id)}function v(){i.value=!i.value}function f(){l.value=!l.value}function w(){n.value=!n.value}async function y(){if(u.phone&&u.password){uni.removeStorageSync("token"),uni.showLoading({title:"正在登录...",mask:!0});try{t("log","at pages/login/login.vue:362","正在连接登录服务器...");const e=await b.user.login({phone:u.phone,password:u.password});uni.hideLoading(),t("log","at pages/login/login.vue:371","登录响应:",e),e&&e.token?(uni.setStorageSync("token",e.token),function(){if(l.value){const e={phone:u.phone,password:u.password};uni.setStorageSync("loginInfo",JSON.stringify(e))}else uni.removeStorageSync("loginInfo")}(),uni.showToast({title:"登录成功",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/index/index"})}),1500)):uni.showToast({title:"登录失败，请检查账号密码",icon:"none"})}catch(e){t("error","at pages/login/login.vue:401","登录失败:",e),uni.hideLoading(),uni.showToast({title:e.message||"登录失败，请检查网络连接或服务器配置",icon:"none",duration:3e3})}}else uni.showToast({title:"请输入手机号和密码",icon:"none"})}async function k(){if(p.phoneNumber)if(p.password)if(p.realName)if(p.schoolId)if(p.major)if(p.studentTeacherId)try{uni.removeStorageSync("token"),t("log","at pages/login/login.vue:469","发送的注册数据:",JSON.stringify(p));await b.user.register(p);uni.showToast({title:"注册成功",icon:"success"}),i.value=!1}catch(e){uni.showToast({title:e.message||"注册失败",icon:"none",duration:3e3}),t("error","at pages/login/login.vue:486","注册失败:",e)}else uni.showToast({title:"请输入学号",icon:"none"});else uni.showToast({title:"请输入专业",icon:"none"});else uni.showToast({title:"请选择学校",icon:"none"});else uni.showToast({title:"请输入姓名",icon:"none"});else uni.showToast({title:"请输入密码",icon:"none"});else uni.showToast({title:"请输入手机号",icon:"none"})}function V(){uni.showToast({title:"忘记密码功能开发中",icon:"none"})}function N(e){uni.showToast({title:`${e}登录功能开发中`,icon:"none"})}function E(){uni.showToast({title:"服务条款",icon:"none"})}function x(){uni.showToast({title:"隐私政策",icon:"none"})}return e.onMounted((async()=>{try{const e=await b.user.getSchools();if(e&&e.data){o.value=e.data;const t={},a={};if(e.data.forEach((e=>{t[e.province]||(t[e.province]={id:e.province,name:e.province},a[e.province]=[]),a[e.province].push(e)})),r.value=Object.values(t),d.value=a,s.value[0]=r.value,r.value.length>0){const e=r.value[0].name;s.value[1]=d.value[e]||[]}if(p.schoolId){const e=o.value.find((e=>e.id===p.schoolId));if(e){const t=r.value.findIndex((t=>t.name===e.province));if(-1!==t){c.value[0]=t;const a=d.value[e.province]||[],l=a.findIndex((t=>t.id===e.id));-1!==l&&(s.value[1]=a,c.value[1]=l)}}}}}catch(n){t("error","at pages/login/login.vue:241","获取学校列表失败:",n),uni.showToast({title:"获取学校列表失败",icon:"none"})}const e=uni.getStorageSync("token"),a=uni.getStorageSync("loginInfo");if(e)try{return t("log","at pages/login/login.vue:256","检测到已有token，尝试自动登录"),void uni.switchTab({url:"/pages/index/index"})}catch(n){t("error","at pages/login/login.vue:263","自动登录失败，token可能已过期:",n),uni.removeStorageSync("token")}if(a)try{const e=JSON.parse(a);u.phone=e.phone||"",u.password=e.password||"",l.value=!0}catch(n){t("error","at pages/login/login.vue:277","解析保存的登录信息失败:",n)}})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"top-image"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",mode:"aspectFill",class:"campus-image"})]),e.createElementVNode("view",{class:"welcome-text"},[e.createElementVNode("text",{class:"welcome-title"},e.toDisplayString(i.value?"注册账号":"欢迎回来"),1),e.createElementVNode("text",{class:"welcome-subtitle"},e.toDisplayString(i.value?"创建您的校园平台账号":"登录您的校园平台账号，开启校园新体验"),1)]),i.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"login-form"},[e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"zhanghao",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"手机号",class:"form-input","onUpdate:modelValue":a[2]||(a[2]=e=>p.phoneNumber=e)},null,512),[[e.vModelText,p.phoneNumber]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"mima",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"密码",class:"form-input","onUpdate:modelValue":a[3]||(a[3]=e=>p.password=e),password:n.value},null,8,["password"]),[[e.vModelText,p.password]]),e.createElementVNode("text",{class:e.normalizeClass(["iconfont",n.value?"icon-eye-slash":"icon-eye"]),onClick:w},null,2)])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"mingzi",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"真实姓名",class:"form-input","onUpdate:modelValue":a[4]||(a[4]=e=>p.realName=e)},null,512),[[e.vModelText,p.realName]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"school",class:"input-icon"}),e.createElementVNode("picker",{mode:"multiSelector",onChange:g,onColumnchange:h,value:c.value,range:s.value,"range-key":"name",class:"school-picker"},[e.createElementVNode("view",{class:"picker-content"},[e.createElementVNode("text",{class:"picker-text"},e.toDisplayString(m.value||"请选择学校（省份-学校）"),1),e.createVNode(B,{name:"xiazhankai",class:"input-icon"})])],40,["value","range"])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"zhuanye",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"专业",class:"form-input","onUpdate:modelValue":a[5]||(a[5]=e=>p.major=e)},null,512),[[e.vModelText,p.major]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"studentuser",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"学号",class:"form-input","onUpdate:modelValue":a[6]||(a[6]=e=>p.studentTeacherId=e)},null,512),[[e.vModelText,p.studentTeacherId]])])]),e.createElementVNode("button",{class:"login-btn",onClick:k,"hover-class":"btn-hover"},"注册"),e.createElementVNode("button",{class:"register-btn",onClick:v,"hover-class":"register-btn-hover"},"返回登录")])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"login-form"},[e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"zhanghao",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"学号/手机号",class:"form-input","onUpdate:modelValue":a[0]||(a[0]=e=>u.phone=e)},null,512),[[e.vModelText,u.phone]])])]),e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("view",{class:"input-content"},[e.createVNode(B,{name:"mima",class:"input-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"密码",class:"form-input","onUpdate:modelValue":a[1]||(a[1]=e=>u.password=e),password:n.value},null,8,["password"]),[[e.vModelText,u.password]]),e.createElementVNode("text",{class:e.normalizeClass(["iconfont",n.value?"icon-eye-slash":"icon-eye"]),onClick:w},null,2)])]),e.createElementVNode("view",{class:"remember-row"},[e.createElementVNode("view",{class:"remember-me"},[e.createElementVNode("checkbox",{value:"1",checked:l.value,onClick:f,class:"remember-checkbox",color:"#4A90E2"},null,8,["checked"]),e.createElementVNode("text",{class:"remember-text"},"记住我")]),e.createElementVNode("text",{class:"forgot-password",onClick:V},"忘记密码?")]),e.createElementVNode("button",{class:"login-btn",onClick:y,"hover-class":"btn-hover"},"登录"),e.createElementVNode("button",{class:"register-btn",onClick:v,"hover-class":"register-btn-hover"},"注册新账号")])),i.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"other-login"},[e.createElementVNode("view",{class:"divider"},[e.createElementVNode("view",{class:"divider-line"}),e.createElementVNode("text",{class:"divider-text"},"其他登录方式"),e.createElementVNode("view",{class:"divider-line"})]),e.createElementVNode("view",{class:"social-buttons"},[e.createElementVNode("view",{class:"social-btn",onClick:a[7]||(a[7]=e=>N("wechat")),"hover-class":"social-btn-hover"},[e.createElementVNode("image",{src:"/static/image/Lianxi/weixin.png",mode:"aspectFit",class:"social-icon"})]),e.createElementVNode("view",{class:"social-btn",onClick:a[8]||(a[8]=e=>N("qq")),"hover-class":"social-btn-hover"},[e.createElementVNode("image",{src:"/static/image/Lianxi/qq.png",mode:"aspectFit",class:"social-icon"})]),e.createElementVNode("view",{class:"social-btn",onClick:a[9]||(a[9]=e=>N("phone")),"hover-class":"social-btn-hover"},[e.createElementVNode("image",{src:"/static/image/Lianxi/Shouji.png",mode:"aspectFit",class:"social-icon"})])])])),e.createElementVNode("view",{class:"footer-text"},[e.createElementVNode("text",{class:"agreement-text"},e.toDisplayString(i.value?"注册即表示您同意我们的":"登录即表示您同意我们的"),1),e.createElementVNode("text",{class:"link-text",onClick:E},"服务条款"),e.createElementVNode("text",{class:"agreement-text"},"和"),e.createElementVNode("text",{class:"link-text",onClick:x},"隐私政策")])])]))}};class M{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let a=this.currentStepAnimates[this.next],l={};if(l=a||{styles:{},config:{}},z.includes(e)){l.styles.transform||(l.styles.transform="");let a="";"rotate"===e&&(a="deg"),l.styles.transform+=`${e}(${t+a}) `}else l.styles[e]=`${t}`;this.currentStepAnimates[this.next]=l}_animateRun(e={},t={}){let a=this.$.$refs.ani.ref;if(a)return new Promise(((l,n)=>{nvueAnimation.transition(a,{styles:e,...t},(e=>{l()}))}))}_nvueNextAnimate(e,t=0,a){let l=e[t];if(l){let{styles:n,config:i}=l;this._animateRun(n,i).then((()=>{t+=1,this._nvueNextAnimate(e,t,a)}))}else this.currentStepAnimates={},"function"==typeof a&&a(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const z=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function _(e,t){if(t)return clearTimeout(t.timer),new M(e,t)}z.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{M.prototype[e]=function(...t){return this.animation[e](...t),this}}));const A=T({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let a in e){t+=this.toLine(a)+":"+e[a]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=_(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,a={}){if(this.animation){for(let a in e)try{"object"==typeof e[a]?this.animation[a](...e[a]):this.animation[a](e[a])}catch(l){t("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148",`方法 ${a} 不存在`)}return this.animation.step(a),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=_(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},a=(e,a)=>{"fade"===a?t.opacity=this.animationType(e)[a]:t.transform+=this.animationType(e)[a]+" "};return"string"==typeof this.modeClass?a(e,this.modeClass):this.modeClass.forEach((t=>{a(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let a=null;"fade"===t?a=e?0:1:(a=e?"-100%":"0","zoom-in"===t&&(a=e?.8:1),"zoom-out"===t&&(a=e?1.2:1),"slide-right"===t&&(a=e?"100%":"0"),"slide-bottom"===t&&(a=e?"100%":"0")),this.animation[this.animationMode()[t]](a)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((a=>{t(e,a)})),this.animation},animationType:e=>({fade:e?0:1,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,a,l,n,i,o){return e.withDirectives((e.openBlock(),e.createElementBlock("view",{ref:"ani",animation:i.animationData,class:e.normalizeClass(l.customClass),style:e.normalizeStyle(o.transformStyles),onClick:a[0]||(a[0]=(...e)=>o.onClick&&o.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,i.isShow]])}]]);const I=T({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:a,safeArea:l,screenHeight:n,safeAreaInsets:i}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(a||0),l&&this.safeArea?this.safeAreaInsets=i.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(e=!0){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):t("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:298","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,l,n,i,o,s){const c=a(e.resolveDynamicComponent("uni-transition"),A);return o.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[o.popupstyle,s.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:l[1]||(l[1]=(...e)=>s.touchstart&&s.touchstart(...e))},[o.maskShow?(e.openBlock(),e.createBlock(c,{key:"1",name:"mask","mode-class":"fade",styles:o.maskClass,duration:o.duration,show:o.showTrans,onClick:s.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(c,{key:"2","mode-class":o.ani,name:"content",styles:o.transClass,duration:o.duration,show:o.showTrans,onClick:s.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[o.popupstyle]]),style:e.normalizeStyle(s.getStyles),onClick:l[0]||(l[0]=(...e)=>s.clear&&s.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-ee521468"]]),j=T({__name:"TeamCard",props:{team:{type:Object,required:!0},index:{type:Number,default:0},showMatch:{type:Boolean,default:!1}},emits:["detail","apply"],setup(t,{emit:a}){const l=t,n=a,i=e.computed((()=>.1*l.index+"s")),o=e.computed((()=>l.team.viewCount&&l.team.viewCount>100)),s=e.computed((()=>"0"===l.team.status||"招募中"===l.team.statusText)),c=e.computed((()=>{const e=l.team.status,t=l.team.statusText;return"0"===e||"招募中"===t?"status-recruiting":"1"===e||"进行中"===t?"status-ongoing":"2"===e||"已完成"===t?"status-completed":"3"===e||"已截止"===t?"status-ended":"status-default"})),r=e.computed((()=>l.team.positions||l.team.roles||[])),d=e.computed((()=>{if(l.team.avatars)return l.team.avatars;if(l.team.teamMemberAvatars){if("string"==typeof l.team.teamMemberAvatars)return l.team.teamMemberAvatars.split(",").filter((e=>e&&!e.includes(".pdf")));if(Array.isArray(l.team.teamMemberAvatars))return l.team.teamMemberAvatars.filter((e=>e&&!e.includes(".pdf")))}return[]})),m=e.computed((()=>v()>0&&d.value.length>0)),u=e.computed((()=>"0"===l.team.status||"招募中"===l.team.statusText));function p(e){return h(e)>=g(e)}function h(e){return e.current||e.currentCount||0}function g(e){return e.total||e.requiredCount||0}function v(){return l.team.memberCount||l.team.currentMemberCount||0}function f(){n("detail",l.team.id)}function w(){f()}return e.computed((()=>"number"==typeof l.team.teamProgress)),e.computed((()=>null!==l.team.maxMemberCount&&l.team.maxMemberCount>0)),(a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"team-item card-hover animate__animated animate__fadeInUp",style:e.normalizeStyle({"animation-delay":i.value}),onClick:f},[e.createElementVNode("view",{class:"team-top"},[e.createElementVNode("view",{class:"flex-between"},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"title-with-icon"},[e.createElementVNode("text",{class:"team-title"},e.toDisplayString(t.team.title||t.team.name),1),o.value?(e.openBlock(),e.createBlock(B,{key:0,name:"remen",size:"20",class:"hot-icon"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"view-count"},[e.createElementVNode("text",{class:"view-text"},e.toDisplayString(t.team.viewCount),1)])]),e.createElementVNode("view",{class:"tag-row"},[e.createElementVNode("text",{class:"tag orange-tag"},e.toDisplayString(t.team.competitionName),1)])]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:e.normalizeClass(["status-tag",[{pulse:s.value},c.value]])},e.toDisplayString(t.team.statusText),3),e.createElementVNode("view",{class:"date-info"},"截止: "+e.toDisplayString(t.team.deadline||t.team.recruitmentDeadlineFormatted),1)])])]),t.showMatch&&t.team.matchScore?(e.openBlock(),e.createElementBlock("view",{key:0,class:"match-info"},[e.createElementVNode("view",{class:"match-score"},[e.createElementVNode("view",{class:"score-bar"},[e.createElementVNode("view",{class:"score-fill",style:e.normalizeStyle({width:`${t.team.matchScore}%`})},null,4)]),e.createElementVNode("text",{class:"score-text"},"匹配度 "+e.toDisplayString(t.team.matchScore)+"%",1)]),t.team.recommendedRole?(e.openBlock(),e.createElementBlock("view",{key:0,class:"recommend-role"},[e.createElementVNode("text",{class:"role-label"},"推荐角色: "),e.createElementVNode("text",{class:"role-text"},e.toDisplayString(t.team.recommendedRole),1)])):e.createCommentVNode("",!0),t.team.matchReason||t.team.recommendReason?(e.openBlock(),e.createElementBlock("view",{key:1,class:"match-reason"},[e.createElementVNode("text",{class:"reason-label"},"匹配理由: "),e.createElementVNode("text",{class:"reason-text"},e.toDisplayString(t.team.recommendReason),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),r.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"role-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"role-tag"},[e.createElementVNode("text",{class:"role-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:e.normalizeClass(["role-count",{success:p(t),warning:!p(t)}])},e.toDisplayString(h(t))+"/"+e.toDisplayString(g(t)),3)])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"team-desc"},e.toDisplayString(t.team.description),1),e.createElementVNode("view",{class:"team-bottom"},[e.createElementVNode("view",{class:"flex-center"},[m.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value.slice(0,3),((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,src:t,class:"team-avatar"},null,8,["src"])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-team-state"},[e.createElementVNode("view",{class:"empty-avatar"},[e.createVNode(B,{name:"Baominrenshu",size:"20",class:"avatar-icon"})]),e.createElementVNode("text",{class:"empty-text"},"暂无成员")])),m.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"member-count-wrapper"},[e.createElementVNode("text",{class:"member-count"},e.toDisplayString(v())+"人已加入",1)])):e.createCommentVNode("",!0)]),u.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"join-btn blue-join",onClick:e.withModifiers(w,["stop"])}," 招募中 ")):(e.openBlock(),e.createElementBlock("view",{key:1,class:"join-btn gray-join"}," 已组满 "))])],4))}},[["__scopeId","data-v-67795e44"]]),L=T({__name:"TabBar",props:{activeTab:{type:String,default:"home",validator:e=>["home","competition","schedule","team","profile"].includes(e)}},emits:["tab-change","publish"],setup(a,{emit:l}){const n=a,i=e.ref("");e.onMounted((()=>{uni.getStorageSync("token")&&async function(){try{const e=await p.getUserRole();200===e.code&&e.data&&(i.value=e.data,t("log","at components/TabBar.vue:74","当前用户角色:",i.value))}catch(e){t("error","at components/TabBar.vue:77","获取用户角色失败:",e)}}()}));const o=e.computed((()=>!1)),s=l;function c(e){if(e!==n.activeTab){const a={home:"/pages/index/index",competition:"/pages/competition/index",schedule:"/pages/schedule/index",team:"/pages/team/list",profile:"/pages/profile/index"};uni.switchTab({url:a[e],fail:a=>{t("error","at components/TabBar.vue:111","切换Tab失败:",a),s("tab-change",e)}})}}function r(){const e=uni.getStorageSync("token");e?(t("log","at components/TabBar.vue:139","当前token:",e),i.value?(t("log","at components/TabBar.vue:161","使用缓存角色信息:",i.value),d()):(t("log","at components/TabBar.vue:143","开始获取用户角色..."),p.getUserRole(e).then((e=>{t("log","at components/TabBar.vue:145","获取角色成功, 完整响应:",e),200===e.code&&e.data?(i.value=e.data,t("log","at components/TabBar.vue:148","设置当前用户角色:",i.value),d()):(t("warn","at components/TabBar.vue:151","获取角色返回异常:",e),d())})).catch((e=>{t("error","at components/TabBar.vue:155","获取用户角色失败:",e),t("error","at components/TabBar.vue:156","错误详情:",JSON.stringify(e)),d()})))):uni.showModal({title:"提示",content:"请先登录后再操作",confirmText:"去登录",success:function(e){e.confirm&&uni.navigateTo({url:"/pages/login/login"})}})}function d(){const e=[];"admin"===i.value&&e.push({text:"创建竞赛",action:()=>{uni.navigateTo({url:"/pages/competition/create"})}}),e.push({text:"创建队伍",action:()=>{uni.navigateTo({url:"/pages/team/create"})}},{text:"发布任务",action:()=>{uni.navigateTo({url:"/pages/task-square/create"})}},{text:"添加日程",action:()=>{uni.navigateTo({url:"/pages/schedule/index?action=add"})}});const t=e.map((e=>e.text));uni.showActionSheet({itemList:t,success:function(t){const a=t.tapIndex;a>=0&&a<e.length&&e[a].action()}})}return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["tab-bar",{"dark-mode":o.value}])},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"home"===a.activeTab}]),onClick:l[0]||(l[0]=e=>c("home"))},[e.createVNode(B,{name:"home"===a.activeTab?"Shouyexuanzhong":"Shouye"},null,8,["name"]),e.createElementVNode("text",{class:e.normalizeClass(["tab-text",{"active-text":"home"===a.activeTab}])},"首页",2),"home"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"competition"===a.activeTab}]),onClick:l[1]||(l[1]=e=>c("competition"))},[e.createVNode(B,{name:"competition"===a.activeTab?"jingshaixuanzhong":"jingshai"},null,8,["name"]),e.createElementVNode("text",{class:e.normalizeClass(["tab-text",{"active-text":"competition"===a.activeTab}])},"竞赛",2),"competition"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:"publish-btn-container"},[e.createElementVNode("view",{class:"publish-btn pulse",onClick:r},[e.createVNode(B,{name:(a.activeTab,"chuangjiantubiao")},null,8,["name"])])]),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"team"===a.activeTab}]),onClick:l[2]||(l[2]=e=>c("team"))},[e.createVNode(B,{name:"team"===a.activeTab?"duiwutubiaoxuanzhong":"duiwutubiao"},null,8,["name"]),e.createElementVNode("text",{class:e.normalizeClass(["tab-text",{"active-text":"team"===a.activeTab}])},"队伍",2),"team"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"profile"===a.activeTab}]),onClick:l[3]||(l[3]=e=>c("profile"))},[e.createVNode(B,{name:"profile"===a.activeTab?"wodexuanzhong":"wode"},null,8,["name"]),e.createElementVNode("text",{class:e.normalizeClass(["tab-text",{"active-text":"profile"===a.activeTab}])},"我的",2),"profile"===a.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"active-indicator"})):e.createCommentVNode("",!0)],2)],2))}},[["__scopeId","data-v-688efb41"]]);const R={getNotificationList:function(e={}){return u({url:"/notifications",method:"GET",params:{pageNum:e.pageNum||1,pageSize:e.pageSize||10,onlyUnread:e.onlyUnread||!1}})},getUnreadCount:function(){return u({url:"/notifications/unread/count",method:"GET"})},markAsRead:function(e){return u({url:`/notifications/${e}/read`,method:"PUT"})},markAllAsRead:function(){return u({url:"/notifications/read/all",method:"PUT"})},deleteNotification:function(e){return u({url:`/notifications/${e}`,method:"DELETE"})},batchDeleteNotifications:function(e){return u({url:"/notifications/batch",method:"DELETE",data:e})}},F=T({__name:"HeaderBar",props:{title:{type:String,default:"页面标题"},showSearch:{type:Boolean,default:!0},showFilter:{type:Boolean,default:!0},showAiRecommend:{type:Boolean,default:!1},categories:{type:Array,default:()=>[]},defaultCategory:{type:Number,default:0}},emits:["search","filter","category-change","ai-recommend","back"],setup(a,{expose:l,emit:n}){const i=["pages/index/index","pages/competition/index","pages/team/list","pages/profile/index"],o=a,s=e.ref(o.defaultCategory),c=e.ref(0),r=e.ref(0),d=e.computed((()=>{const e=getCurrentPages();if(0===e.length)return!0;const t=e[e.length-1].route||"";return i.includes(t)})),m=e.computed((()=>{let e=140;return o.categories&&o.categories.length>0&&(e+=70),e+=r.value,e})),u=n;function p(){u("search")}function h(){uni.navigateTo({url:"/pages/Xiaoxi/Xiaoxi"})}function g(){u("back"),setTimeout((()=>{const e=getCurrentPages(),a=e[e.length-1],l=getCurrentPages();l.length===e.length&&l[l.length-1]===a&&(e.length>1?uni.navigateBack({delta:1,fail:()=>{t("log","at components/HeaderBar.vue:162","返回失败，尝试回到首页"),uni.switchTab({url:"/pages/index/index"})}}):uni.switchTab({url:"/pages/index/index"}))}),100)}async function v(){try{const a=await R.getUnreadCount();if(200===a.code&&void 0!==a.data){c.value=a.data;const l=getApp();if(l&&l.globalData){l.globalData.unreadNotificationCount=a.data;try{l.updateMessageBadge&&l.updateMessageBadge()}catch(e){t("log","at components/HeaderBar.vue:195","HeaderBar: 更新TabBar徽标失败",e)}}}}catch(e){t("error","at components/HeaderBar.vue:201","获取未读消息数量失败:",e)}}l({headerHeight:m,unreadCount:c,fetchUnreadCount:v,isTabBarPage:d});let f=null;return e.onMounted((()=>{uni.getSystemInfo({success:e=>{if(e.safeArea&&e.safeArea.top){const a=e.screenWidth;r.value=Math.round(750*e.safeArea.top/a),t("log","at components/HeaderBar.vue:237","安全区高度(rpx):",r.value)}}}),v(),f=setInterval((()=>{v()}),3e4)})),e.onUnmounted((()=>{f&&(clearInterval(f),f=null)})),(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"header-title"},[d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"back-btn",onClick:g},[e.createVNode(B,{name:"back",size:"25"})])),e.createElementVNode("text",{class:"section-title"},e.toDisplayString(a.title),1),e.createElementVNode("view",{class:"header-actions"},[a.showSearch?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action-btn",onClick:p},[e.createVNode(B,{name:"sousuo",size:"25"})])):e.createCommentVNode("",!0),a.showFilter?(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-btn message-btn",onClick:h},[e.createVNode(B,{name:"xiaoxi",size:"34"}),c.value>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge"},e.toDisplayString(c.value>99?"99+":c.value),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"actions",{},void 0,!0)])]),a.categories&&a.categories.length>0?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.categories,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["category-item",s.value===a?"active-category":""]),onClick:e=>function(e){s.value!==e&&(s.value=e,u("category-change",e))}(a)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))])])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0)]))}},[["__scopeId","data-v-e60ff942"]]),U=e=>{try{uni.setStorageSync("userInteractionState",JSON.stringify(e))}catch(a){t("error","at store/index.js:20","存储状态失败",a)}},H=(()=>{try{const e=uni.getStorageSync("userInteractionState");return e?JSON.parse(e):null}catch(e){return t("error","at store/index.js:10","读取本地存储失败",e),null}})()||{hasClickedAiRecommend:!1},P=e.reactive(H),$={state:P,updateState:(e,t)=>{e in P&&(P[e]=t,U(P))},getState:e=>e in P?P[e]:null,clearState:()=>{Object.keys(P).forEach((e=>{P[e]=H[e]})),uni.removeStorageSync("userInteractionState")},resetAiRecommendState:()=>{P.hasClickedAiRecommend=!1,U(P),t("log","at store/index.js:59","已重置AI推荐状态，下次将显示分析动画")}},q={__name:"index",setup(l){const n=e.ref(null);e.computed((()=>n.value&&n.value.headerHeight?n.value.headerHeight+"rpx":"120rpx"));const i=e.ref([]),o=e.ref([]),s=e.ref([]),c=e.ref(""),r=e.ref(!1),d=e.ref(null),m=e.ref("希望加入您的团队，请审核"),u=e.ref(null),p=e.ref([]),v=e.ref(!1),f=e.ref(!1),w=["正在分析您的个人资料...","正在匹配与您技能相符的队伍...","正在计算兴趣匹配度...","正在生成个性化推荐..."];let y=null;const k=e.ref(0);async function V(){try{const e=await g.getCompetitionsList({isHot:!0,pageSize:3});200===e.code&&e.data&&e.data.list&&(o.value=e.data.list,t("log","at pages/index/index.vue:277","获取到热门竞赛数据:",o.value))}catch(e){t("error","at pages/index/index.vue:280","获取竞赛数据失败:",e)}}async function N(){try{const e=await h.getTeamList();200===e.code&&e.data&&e.data.list&&(i.value=e.data.list.slice(0,10),t("log","at pages/index/index.vue:290","获取到队伍列表数据:",i.value))}catch(e){t("error","at pages/index/index.vue:294","获取队伍数据失败:",e)}}async function E(){try{if(s.value&&s.value.length>0)return void t("log","at pages/index/index.vue:303","使用缓存的AI推荐队伍数据:",s.value);try{const e=uni.getStorageSync("ai_recommend_cache_time"),a=uni.getStorageSync("ai_recommended_teams"),l=uni.getStorageSync("ai_summary");if(e&&a){const n=Date.now(),i=108e5;if(!(n-Number(e)>i))return s.value=JSON.parse(a),c.value=l||"",void t("log","at pages/index/index.vue:323","主页加载未过期的AI推荐缓存数据",s.value.length,"个队伍");t("log","at pages/index/index.vue:326","AI推荐缓存已过期，需要重新请求")}}catch(e){t("error","at pages/index/index.vue:330","检查AI推荐缓存状态失败:",e)}const a=await h.getRecommendedTeams();if(200===a.code&&a.data){const l=a.data.recommendedTeams||[];s.value=l.map((e=>({...e,matchScore:e.matchScore||Math.floor(30*Math.random())+70,matchReason:e.matchReason||e.recommendReason||"根据您的技能和兴趣推荐",recommendedRole:e.recommendedRole||""}))),c.value=a.data.aiSummary||"根据您的专业、技能和兴趣，我们为您推荐了以下最匹配的团队",t("log","at pages/index/index.vue:347","获取到AI推荐队伍数据:",s.value);try{uni.setStorageSync("ai_recommended_teams",JSON.stringify(s.value)),uni.setStorageSync("ai_summary",c.value);const e=Date.now();uni.setStorageSync("ai_recommend_cache_time",e.toString()),t("log","at pages/index/index.vue:358","主页保存AI推荐数据缓存成功，缓存时间:",new Date(e).toLocaleString())}catch(e){t("error","at pages/index/index.vue:360","缓存AI推荐数据失败:",e)}}}catch(a){t("error","at pages/index/index.vue:364","获取AI推荐队伍失败:",a);try{const e=uni.getStorageSync("ai_recommended_teams"),a=uni.getStorageSync("ai_summary");e&&(s.value=JSON.parse(e),c.value=a||"",t("log","at pages/index/index.vue:372","从缓存加载AI推荐队伍数据:",s.value))}catch(e){t("error","at pages/index/index.vue:375","读取缓存AI推荐数据失败:",e)}}}function x(e){"findPartner"===e?uni.switchTab({url:"/pages/team/list"}):"task-square"===e?uni.switchTab({url:"/pages/task-square/index"}):"project"===e?uni.navigateTo({url:"/pages/project/project-showcase"}):"schedule"===e?uni.navigateTo({url:"/pages/schedule/index"}):uni.showToast({title:`导航到${e}页面`,icon:"none"})}function b(){uni.navigateTo({url:"/pages/team/recommended"})}function T(e,t){"competition"===e?uni.navigateTo({url:`/pages/competition/detail?id=${t}`}):uni.navigateTo({url:`/pages/team/detail?id=${t}`})}async function S(e){try{v.value=!0,d.value=e;const t=await h.checkTeamStatus(e);if(200===t.code&&t.data){if(t.data.isApplied)return void uni.showToast({title:"您已经申请过该队伍",icon:"none"});if(t.data.isMember)return void uni.showToast({title:"您已经是该队伍成员",icon:"none"})}const a=await h.getTeamDetail(e);if(200!==a.code||!a.data)return void uni.showToast({title:"获取队伍信息失败",icon:"none"});if(p.value=a.data.roles||[],0===p.value.length)return void uni.showToast({title:"该队伍暂无可申请的角色",icon:"none"});p.value[0]&&(u.value=p.value[0].id),r.value=!0}catch(a){uni.showToast({title:"操作失败，请稍后重试",icon:"none"}),t("error","at pages/index/index.vue:506","获取队伍角色失败:",a)}finally{v.value=!1}}async function D(){if(u.value)if(m.value.trim())try{uni.showLoading({title:"提交中..."});const e=p.value.find((e=>e.id===u.value));if(e&&e.count<=e.filled)return uni.hideLoading(),void uni.showToast({title:"该角色已满员",icon:"none"});const a={teamId:Number(d.value),roleId:Number(u.value),message:m.value.trim()};t("log","at pages/index/index.vue:554","申请加入队伍:",a);const l=await h.applyTeam(a);uni.hideLoading(),200===l.code?(uni.showToast({title:"申请已发送",icon:"success"}),M(),r.value=!1):uni.showToast({title:l.message||"申请失败",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/index/index.vue:577","申请加入队伍失败:",e),uni.showToast({title:e.message||"申请提交失败，请稍后重试",icon:"none"})}else uni.showToast({title:"请输入申请留言",icon:"none"});else uni.showToast({title:"请选择申请角色",icon:"none"})}function M(){r.value=!1,d.value=null,u.value=null,m.value="希望加入您的团队，请审核",p.value=[]}function z(){uni.navigateTo({url:"/pages/search/index"})}function _(e){switch(e){case"0":return"status-not-started";case"1":return"status-recruiting";case"2":return"status-ongoing";case"3":return"status-ended";default:return""}}function A(){if(!uni.getStorageSync("token"))return t("log","at pages/index/index.vue:642","用户未登录，无法使用AI推荐功能"),void uni.showModal({title:"需要登录",content:"使用AI推荐功能需要先登录账号",confirmText:"去登录",success:e=>{e.confirm&&uni.navigateTo({url:"/pages/login/login"})}});if($.getState("hasClickedAiRecommend"))return t("log","at pages/index/index.vue:663","用户已点击过AI推荐，直接跳转到推荐页面"),void b();t("log","at pages/index/index.vue:668","用户首次点击AI推荐，显示分析动画"),f.value=!0,k.value=0,uni.showLoading({title:w[k.value],mask:!0}),y&&(clearInterval(y),y=null),y=setInterval((()=>{k.value=(k.value+1)%w.length,uni.showLoading({title:w[k.value],mask:!0}),k.value===w.length-1&&setTimeout((()=>{clearInterval(y),y=null,uni.hideLoading(),$.updateState("hasClickedAiRecommend",!0),uni.showToast({title:"分析完成",icon:"success",duration:1e3}),setTimeout((()=>{b()}),1e3)}),1500)}),1500)}function R(){t("log","at pages/index/index.vue:750","重置AI推荐状态（开发测试用）"),$.resetAiRecommendState(),f.value=!1,k.value=0,y&&(clearInterval(y),y=null),uni.showToast({title:"已重置AI推荐状态",icon:"success",duration:1500})}return e.watch(r,(t=>{const a=uni.createSelectorQuery().in(e.getCurrentInstance()).select(".uni-popup");a&&setTimeout((()=>{a.node((e=>{e&&e.node&&(t?e.node.open&&e.node.open():e.node.close&&e.node.close())})).exec()}),0)})),e.onMounted((()=>{t("log","at pages/index/index.vue:775","状态栏高度:",uni.getSystemInfoSync().statusBarHeight);const e=$.getState("hasClickedAiRecommend");t("log","at pages/index/index.vue:779","用户是否已点击过AI推荐:",e?"是":"否"),e||(f.value=!1,k.value=0,y&&(clearInterval(y),y=null)),Promise.all([N(),V(),E()]).then((()=>{t("log","at pages/index/index.vue:797","所有数据加载完成")})).catch((e=>{t("error","at pages/index/index.vue:799","数据加载出错:",e)}))})),(t,l)=>{const s=a(e.resolveDynamicComponent("uni-popup"),I);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{ref_key:"headerBarRef",ref:n,title:"校园任务与组队平台","show-ai-recommend":!0,onSearch:z,onAiRecommend:b},null,512),e.createElementVNode("scroll-view",{"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"swiper-container"},[e.createElementVNode("swiper",{class:"swiper animate__animated animate__fadeIn",circular:"",autoplay:"",interval:"3000",duration:"500","indicator-dots":"","indicator-active-color":"#247ae4","indicator-color":"rgba(0, 0, 0, 0.2)"},[e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"中国大学生计算机设计大赛(第18届)"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("image",{src:e.unref(C).baoming,class:"date-icon"},null,8,["src"]),e.createElementVNode("text",{class:"date-text"},"报名截止：5月15日")])])])]),e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"挑战杯创业计划大赛"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("image",{src:e.unref(C).baoming,class:"date-icon"},null,8,["src"]),e.createElementVNode("text",{class:"date-text"},"报名截止：6月10日")])])])]),e.createElementVNode("swiper-item",null,[e.createElementVNode("view",{class:"swiper-item"},[e.createElementVNode("image",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800",mode:"aspectFill"}),e.createElementVNode("view",{class:"swiper-overlay"},[e.createElementVNode("text",{class:"swiper-title"},"创青春创业大赛"),e.createElementVNode("view",{class:"swiper-date"},[e.createElementVNode("image",{src:e.unref(C).baoming,class:"date-icon"},null,8,["src"]),e.createElementVNode("text",{class:"date-text"},"报名截止：7月5日")])])])])])]),e.createElementVNode("view",{class:"menu-container"},[e.createElementVNode("view",{class:"menu-grid"},[e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.1s"},onClick:l[0]||(l[0]=e=>x("task-square"))},[e.createElementVNode("view",{class:"menu-icon blue"},[e.createVNode(B,{name:"weituo",size:"40"})]),e.createElementVNode("text",{class:"menu-text"},"校园委托")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.2s"},onClick:l[1]||(l[1]=e=>x("findPartner"))},[e.createElementVNode("view",{class:"menu-icon green"},[e.createVNode(B,{name:"xunzhaoduiyou",size:"40"})]),e.createElementVNode("text",{class:"menu-text"},"寻找队友")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.3s"},onClick:l[2]||(l[2]=e=>x("project"))},[e.createElementVNode("view",{class:"menu-icon purple"},[e.createVNode(B,{name:"xiangmuzhanshi",size:"30"})]),e.createElementVNode("text",{class:"menu-text"},"项目展示")]),e.createElementVNode("view",{class:"menu-item animate__animated animate__fadeInUp",style:{"animation-delay":"0.4s"},onClick:l[3]||(l[3]=e=>x("schedule"))},[e.createElementVNode("view",{class:"menu-icon orange"},[e.createVNode(B,{name:"rchenganpan",size:"30"})]),e.createElementVNode("text",{class:"menu-text"},"日程安排")])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("view",{class:"title-with-icon"},[e.createElementVNode("text",{class:"section-title animate__animated animate__fadeInLeft"},"热门竞赛"),e.createVNode(B,{name:"remen",class:"title-hot-icon"})]),e.createElementVNode("text",{class:"view-all animate__animated animate__fadeInRight",onClick:l[4]||(l[4]=e=>{var t;"competition"===(t="competition")?uni.navigateTo({url:"/pages/competition/index"}):"recommend"===t?uni.navigateTo({url:"/pages/team/recommended"}):"schedule"===t?uni.navigateTo({url:"/pages/schedule/index"}):uni.navigateTo({url:"/pages/team/list"})})},"查看全部")]),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(a=>(e.openBlock(),e.createElementBlock("view",{class:"competition-item card-hover animate__animated animate__fadeInUp",style:{"animation-delay":"0.1s"},onClick:e=>T("competition",a.id),key:a.id},[e.createElementVNode("view",{class:"competition-flex"},[e.createElementVNode("view",{class:"competition-image-container"},[e.createElementVNode("image",{class:"competition-image",src:t.coverImageUrl||"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"competition-content"},[e.createElementVNode("view",{class:"flex-between"},[e.createElementVNode("text",{class:"competition-title"},e.toDisplayString(a.title),1),e.createElementVNode("view",{class:"status-wrapper"},[e.createElementVNode("text",{class:e.normalizeClass(["status-tag pulse",_(a.status)])},e.toDisplayString(a.statusText),3)])]),e.createElementVNode("view",{class:"tag-row"},[a.categoryNames&&a.categoryNames.length>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"tag green-tag"},e.toDisplayString(a.categoryNames[0]),1)):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"tag gray-tag"},e.toDisplayString(a.level),1)]),e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("view",{class:"info-item"},[e.createVNode(B,{name:"baoming",class:"info-icon"}),e.createElementVNode("text",{class:"info-text"},"报名截止: "+e.toDisplayString(a.registrationDeadlineFormatted),1)]),e.createElementVNode("view",{class:"info-item"},[e.createVNode(B,{name:"Baominrenshu",class:"info-icon"}),e.createElementVNode("text",{class:"info-text"},e.toDisplayString(a.teamSize)+"-"+e.toDisplayString(a.teamMax)+"人/队",1)])])])])],8,["onClick"])))),128))])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("view",{class:"title-with-icon"},[e.createElementVNode("text",{class:"section-title animate__animated animate__fadeInLeft"},"热门队伍"),e.createVNode(B,{name:"remen",class:"title-hot-icon"})]),e.createElementVNode("view",{class:"ai-recommend-btn",onClick:A,onLongpress:R},[e.createVNode(B,{name:"zhinnegtuijzudui",class:"ai-icon"}),e.createElementVNode("text",{class:"ai-text"},"AI智能推荐")],32)]),e.createElementVNode("view",{class:"team-list"},[i.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(i.value,((t,a)=>(e.openBlock(),e.createBlock(j,{key:t.id,team:t,index:a,onDetail:l[5]||(l[5]=e=>T("team",e)),onApply:S},null,8,["team","index"])))),128)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"加载中...")]))])])]),e.createVNode(L,{activeTab:"home"}),e.createVNode(s,{ref:"applyPopup",type:"center",show:r.value,onChange:l[9]||(l[9]=e=>{e.show||M()})},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"apply-popup"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"申请加入团队"),e.createElementVNode("text",{class:"close-icon",onClick:l[6]||(l[6]=e=>r.value=!1)},"×")]),e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"申请角色"),e.createElementVNode("view",{class:"role-select"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["role-option",u.value===t.id?"role-selected":""]),onClick:e=>u.value=t.id},[e.createElementVNode("text",{class:"role-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"role-count"},e.toDisplayString(t.filled)+"/"+e.toDisplayString(t.count)+"人",1)],10,["onClick"])))),128))])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("申请留言 "),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{class:"message-input","onUpdate:modelValue":l[7]||(l[7]=e=>m.value=e),placeholder:"请输入申请留言",maxlength:"100"},null,512),[[e.vModelText,m.value]]),e.createElementVNode("text",{class:"char-count"},e.toDisplayString(m.value.length)+"/100",1)])]),e.createElementVNode("view",{class:"popup-footer"},[e.createElementVNode("button",{class:"cancel-btn",onClick:l[8]||(l[8]=e=>r.value=!1)},"取消"),e.createElementVNode("button",{class:"submit-btn",onClick:D,disabled:!m.value},"提交申请",8,["disabled"])])])])),_:1},8,["show"])])}}},O={__name:"project-showcase",setup(t){const a=["全部项目","创新创业","科技竞赛","研究项目","设计作品"],l=e.ref(0),n=[{id:1,title:"智能校园导航系统",description:"基于AR技术的校园导航系统，提供实时路线规划和校园信息查询功能，帮助新生和访客快速熟悉校园环境。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"创新创业项目",startDate:"2025-04-15",teamSize:5,progress:"原型开发阶段",category:"创新创业",tags:[{text:"技术创新",type:"blue"},{text:"AR应用",type:"purple"}],description_full:"基于AR技术的校园导航系统，提供实时路线规划和校园信息查询功能，帮助新生和访客快速熟悉校园环境。该项目结合了AR增强现实技术与校园地图数据，可以为用户提供沉浸式的导航体验。\n\n系统主要功能包括：实时导航、校园地标识别、信息查询、AR实景引导等。项目已获得学校创新创业基金支持，计划在2025年第三季度完成MVP版本，并在下学期进行校内测试。",achievements:"1. 完成了基础地图数据的收集和整理\n2. 开发了AR导航的核心算法\n3. 设计了用户友好的界面原型\n4. 获得了校级创新项目立项",teamMembers:[{name:"张三",role:"项目负责人",avatar:"https://iknow-pic.cdn.bcebos.com/71cf3bc79f3df8dc4684a310df11728b461028f1"},{name:"李四",role:"AR开发工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王五",role:"UI设计师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"赵六",role:"后端开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"钱七",role:"产品经理",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:2,title:"校园二手交易平台",description:"面向在校学生的二手物品交易平台，支持物品发布、搜索、交易和评价，促进校园资源循环利用。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"创业项目",startDate:"2025-02-20",teamSize:4,progress:"已上线运营",category:"创新创业",tags:[{text:"创业项目",type:"green"},{text:"微信小程序",type:"yellow"}],description_full:"面向在校学生的二手物品交易平台，支持物品发布、搜索、交易和评价，促进校园资源循环利用。平台包括微信小程序和网页版，实现了校内闲置物品的高效流通。\n\n该项目在2025年初获得了校园创业大赛一等奖，目前已在3所高校试运行，月活跃用户超过5000人，累计完成交易1.2万笔，交易总额超过30万元。",achievements:"1. 获得校园创业大赛一等奖\n2. 三个月内完成产品从0到1的开发\n3. 平台月活跃用户超过5000人\n4. 获得天使轮投资20万元",teamMembers:[{name:"赵明",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"钱亮",role:"前端开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"孙芳",role:"产品设计",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李强",role:"市场运营",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:3,title:"智慧教室管理系统",description:"结合物联网技术的智能教室管理系统，实现教室设备远程控制、使用情况监控和智能预约功能。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"智能硬件",startDate:"2025-03-01",teamSize:6,progress:"系统测试阶段",category:"研究项目",tags:[{text:"物联网",type:"blue"},{text:"智能硬件",type:"red"}],description_full:"结合物联网技术的智能教室管理系统，实现教室设备远程控制、使用情况监控和智能预约功能。该系统使用了最新的5G物联网技术和边缘计算架构，可以实现教室环境的智能化管理。\n\n系统包括硬件控制模块、数据采集分析模块和用户交互界面，实现了教室照明、空调、多媒体设备的远程控制和自动化调节，并提供了教室使用数据的可视化分析功能。",achievements:"1. 完成了系统架构设计和原型开发\n2. 在5个教室进行了试点安装\n3. 开发了移动端和Web端控制界面\n4. 获得了学校信息化建设专项资金支持",teamMembers:[{name:"周华",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"吴杰",role:"硬件工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"郑阳",role:"软件开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王梅",role:"界面设计",avatar:"/static/image/avatar-placeholder.jpg"},{name:"刘星",role:"系统架构师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"陈亮",role:"测试工程师",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:4,title:"校园文化数字展示平台",description:"结合VR技术的校园文化数字展示平台，让用户能够沉浸式体验校园历史、文化景点和重要活动。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"数字文创",startDate:"2025-01-10",teamSize:5,progress:"功能开发阶段",category:"设计作品",tags:[{text:"VR技术",type:"purple"},{text:"文化创意",type:"green"}],description_full:"结合VR技术的校园文化数字展示平台，让用户能够沉浸式体验校园历史、文化景点和重要活动。该项目采用了最新的Unity引擎和WebXR技术，可以在网页端和VR设备上运行。\n\n平台内容包括校史馆数字复刻、校园全景漫游、文化活动数字化展示等模块，为校友、新生和访客提供了全新的校园文化体验方式。",achievements:"1. 完成了校史馆数字化建模\n2. 开发了VR交互系统\n3. 获得了校园文化建设专项资金\n4. 与校史馆达成合作意向",teamMembers:[{name:"林小燕",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张文轩",role:"3D建模师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王丽丽",role:"Unity开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李明明",role:"UI设计师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"赵天成",role:"内容策划",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:5,title:"智能化学实验助手",description:"基于计算机视觉的智能化学实验助手，通过摄像头实时识别实验操作，提供步骤提示和安全警告。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"科研项目",startDate:"2024-11-05",teamSize:4,progress:"已投入使用",category:"科技竞赛",tags:[{text:"人工智能",type:"blue"},{text:"教育科技",type:"green"}],description_full:"基于计算机视觉的智能化学实验助手，通过摄像头实时识别实验操作，提供步骤提示和安全警告。该系统采用最新的深度学习算法，能够识别超过50种常见化学实验操作和100种试剂。\n\n系统包括实验识别模块、实验指导模块和安全监控模块，可以为学生提供实时的实验指导，同时监测危险操作并发出警告，大幅提高了实验的安全性和教学效果。",achievements:"1. 获得全国大学生人工智能创新大赛特等奖\n2. 实现了对50+种化学实验操作的精准识别\n3. 在学校3个化学实验室完成部署\n4. 申请专利2项，软件著作权1项",teamMembers:[{name:"刘博",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张丽丽",role:"算法工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王明",role:"软件开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李华",role:"化学顾问",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:6,title:"校园碳排放监测系统",description:"基于物联网的校园碳排放监测系统，通过传感器网络实时收集和分析校园各区域的能源消耗和碳排放数据。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"可持续发展",startDate:"2025-02-28",teamSize:7,progress:"数据分析阶段",category:"研究项目",tags:[{text:"环保科技",type:"green"},{text:"大数据",type:"blue"}],description_full:'基于物联网的校园碳排放监测系统，通过传感器网络实时收集和分析校园各区域的能源消耗和碳排放数据。系统采用了低功耗广域网技术(LoRaWAN)和边缘计算架构，建立了覆盖全校区的监测网络。\n\n项目目标是构建校园碳排放数据地图，通过数据分析发现节能减排的潜力点，为学校实现"双碳"目标提供数据支持和技术方案。',achievements:"1. 完成了全校20个重点区域的传感器部署\n2. 建立了碳排放数据分析模型\n3. 开发了实时监测平台和可视化界面\n4. 获得了省级绿色校园建设专项资金",teamMembers:[{name:"李江",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张雨",role:"硬件工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王磊",role:"数据分析师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"刘芳",role:"软件开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"赵明",role:"环境工程顾问",avatar:"/static/image/avatar-placeholder.jpg"},{name:"钱亮",role:"系统架构师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"孙华",role:"前端开发",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:7,title:"校园智能健康助手",description:"结合可穿戴设备的校园智能健康助手，为学生提供运动追踪、健康监测和个性化健康建议。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"健康科技",startDate:"2025-04-01",teamSize:5,progress:"用户测试阶段",category:"创新创业",tags:[{text:"健康医疗",type:"red"},{text:"移动应用",type:"blue"}],description_full:"结合可穿戴设备的校园智能健康助手，为学生提供运动追踪、健康监测和个性化健康建议。项目包括移动应用和云平台两部分，支持主流智能手环和手表的数据接入。\n\n系统结合了运动科学和营养学知识，针对大学生群体特点，提供科学的运动计划和饮食建议，同时通过社交功能激励学生养成健康的生活习惯。",achievements:"1. 完成了移动应用开发和云平台搭建\n2. 对接了5种主流可穿戴设备的数据\n3. 招募了200名学生进行封闭测试\n4. 获得了校医院的专业支持和合作",teamMembers:[{name:"陈健",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李明",role:"移动开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王芳",role:"产品经理",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张强",role:"后端开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"刘伟",role:"健康顾问",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:8,title:"智能垃圾分类系统",description:"基于计算机视觉和机器学习的智能垃圾分类系统，能自动识别垃圾类型并引导用户进行正确分类。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"环保科技",startDate:"2024-09-15",teamSize:4,progress:"已投入使用",category:"科技竞赛",tags:[{text:"人工智能",type:"blue"},{text:"环保项目",type:"green"}],description_full:"基于计算机视觉和机器学习的智能垃圾分类系统，能自动识别垃圾类型并引导用户进行正确分类。系统采用了轻量级深度学习模型，可在普通智能手机上运行，识别准确率达95%以上。\n\n项目开发了移动应用和智能垃圾桶两种应用形式，已在校园内部署了20个智能垃圾分类点，显著提高了校园垃圾分类的准确率和参与度。",achievements:"1. 获得全国大学生环保创新大赛一等奖\n2. 垃圾识别准确率超过95%\n3. 校园内部署20个智能垃圾分类点\n4. 申请专利1项，软件著作权2项",teamMembers:[{name:"李环",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王晓",role:"算法工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张鑫",role:"硬件开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"刘芳",role:"软件开发",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:9,title:"校园文创IP设计",description:"基于校园文化元素的创意设计项目，包括吉祥物、插画、表情包等系列文创产品设计。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"文化创意",startDate:"2025-01-20",teamSize:3,progress:"成果展示阶段",category:"设计作品",tags:[{text:"文创设计",type:"purple"},{text:"品牌IP",type:"yellow"}],description_full:'基于校园文化元素的创意设计项目，包括吉祥物、插画、表情包等系列文创产品设计。项目以学校的历史、建筑、文化符号为创作灵感，设计了一系列具有校园特色的文创IP。\n\n成果包括校园吉祥物"知园宝"及其延伸表情包、校园建筑插画集、纪念品设计等，已在校内文创店上架销售，并在校庆期间推出限定系列。',achievements:"1. 设计了校园吉祥物及40款表情包\n2. 完成12幅校园建筑插画创作\n3. 开发了20款文创产品并投入生产\n4. 校庆期间销售额突破5万元",teamMembers:[{name:"王艺",role:"项目负责人/设计师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李梦",role:"插画师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"张晓",role:"产品设计",avatar:"/static/image/avatar-placeholder.jpg"}]},{id:10,title:"智能课程推荐系统",description:"基于大数据和深度学习的个性化课程推荐系统，根据学生的学习历史、兴趣偏好和发展规划推荐适合的课程。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"教育科技",startDate:"2025-03-10",teamSize:5,progress:"算法优化阶段",category:"研究项目",tags:[{text:"机器学习",type:"blue"},{text:"教育科技",type:"green"}],description_full:"基于大数据和深度学习的个性化课程推荐系统，根据学生的学习历史、兴趣偏好和发展规划推荐适合的课程。系统采用了最新的深度学习和协同过滤算法，整合了学校5年的选课数据和课程评价数据。\n\n项目目标是解决学生选课难、选课盲目等问题，提供个性化的课程推荐和学习路径规划，帮助学生更科学地规划学业。",achievements:"1. 完成了课程数据库的构建和清洗\n2. 开发了基础推荐算法和用户界面\n3. 在部分学院进行了试点测试\n4. 收集了超过1万条用户反馈数据",teamMembers:[{name:"张智",role:"项目负责人",avatar:"/static/image/avatar-placeholder.jpg"},{name:"李数",role:"算法工程师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"王研",role:"数据分析师",avatar:"/static/image/avatar-placeholder.jpg"},{name:"刘程",role:"全栈开发",avatar:"/static/image/avatar-placeholder.jpg"},{name:"赵美",role:"产品经理",avatar:"/static/image/avatar-placeholder.jpg"}]}],i=e.computed((()=>{if(0===l.value)return n;{const e=a[l.value];return n.filter((t=>t.category===e))}}));function o(){uni.showToast({title:"搜索功能",icon:"none"})}return(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{title:"项目展示","show-search":!0,"show-filter":!0,onSearch:o}),e.createElementVNode("scroll-view",{"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"filter-categories"},[e.createElementVNode("scroll-view",{"scroll-x":"",class:"category-scroll","show-scrollbar":"false"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(a,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["category-item",{active:l.value===a}]),onClick:e=>function(e){l.value=e}(a)},e.toDisplayString(t),11,["onClick"]))),64))])])]),e.createElementVNode("view",{class:"project-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"project-card",onClick:e=>{return a=t.id,void uni.navigateTo({url:`/pages/project/detail?id=${a}`});var a}},[e.createElementVNode("view",{class:"project-image-container"},[e.createElementVNode("image",{src:t.coverImage,mode:"aspectFill",class:"project-image"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",`status-${t.statusClass}`])},e.toDisplayString(t.statusText),3)]),e.createElementVNode("view",{class:"project-content"},[e.createElementVNode("text",{class:"project-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"project-description"},e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"project-info"},[e.createElementVNode("view",{class:"info-item"},[e.createVNode(B,{name:"renshu",size:"28",color:"#6b7280"}),e.createElementVNode("text",{class:"info-text"},e.toDisplayString(t.teamSize)+"人团队",1)]),e.createElementVNode("view",{class:"info-item"},[e.createVNode(B,{name:"shijian",size:"28",color:"#6b7280"}),e.createElementVNode("text",{class:"info-text"},e.toDisplayString(t.startDate),1)])]),e.createElementVNode("view",{class:"project-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["tag",`tag-${t.type}`])},e.toDisplayString(t.text),3)))),128))])])],8,["onClick"])))),128))])]),e.createVNode(L,{activeTab:"projects"})]))}},W={__name:"detail",setup(t){const a=e.ref({}),l=e.ref(!0),n=e.ref(null);function i(){uni.navigateBack({delta:1})}function o(){uni.showToast({title:"分享功能暂未开放",icon:"none"})}return e.onMounted((()=>{var e;const t=getCurrentPages(),i=null==(e=t[t.length-1].$page)?void 0:e.options;i&&i.id?(n.value=i.id,function(e){const t=[{id:1,title:"智能校园导航系统",description:"基于AR技术的校园导航系统，提供实时路线规划和校园信息查询功能，帮助新生和访客快速熟悉校园环境。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"创新创业项目",startDate:"2025-04-15",teamSize:5,progress:"原型开发阶段",category:"创新创业",tags:[{text:"技术创新",type:"blue"},{text:"AR应用",type:"purple"}],description_full:"基于AR技术的校园导航系统，提供实时路线规划和校园信息查询功能，帮助新生和访客快速熟悉校园环境。该项目结合了AR增强现实技术与校园地图数据，可以为用户提供沉浸式的导航体验。\n\n系统主要功能包括：实时导航、校园地标识别、信息查询、AR实景引导等。项目已获得学校创新创业基金支持，计划在2025年第三季度完成MVP版本，并在下学期进行校内测试。",achievements:"1. 完成了基础地图数据的收集和整理\n2. 开发了AR导航的核心算法\n3. 设计了用户友好的界面原型\n4. 获得了校级创新项目立项",teamMembers:[{name:"张三",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/f3cdb7f93475495b8eff87a7657acad4.png"},{name:"李四",role:"AR开发工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/d7e2c603cc9b4c0186d2b58b7814f209.png"},{name:"赵六",role:"后端开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/63dd5c18e6bc4e2ab9fc7a4355da0837.png"},{name:"钱七",role:"产品经理",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/2e30989de7514893a2f0a8cf9df14b70.png"}]},{id:2,title:"校园二手交易平台",description:"面向在校学生的二手物品交易平台，支持物品发布、搜索、交易和评价，促进校园资源循环利用。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"创业项目",startDate:"2025-02-20",teamSize:4,progress:"已上线运营",category:"创新创业",tags:[{text:"创业项目",type:"green"},{text:"微信小程序",type:"yellow"}],description_full:"面向在校学生的二手物品交易平台，支持物品发布、搜索、交易和评价，促进校园资源循环利用。平台包括微信小程序和网页版，实现了校内闲置物品的高效流通。\n\n该项目在2025年初获得了校园创业大赛一等奖，目前已在3所高校试运行，月活跃用户超过5000人，累计完成交易1.2万笔，交易总额超过30万元。",achievements:"1. 获得校园创业大赛一等奖\n2. 三个月内完成产品从0到1的开发\n3. 平台月活跃用户超过5000人\n4. 获得天使轮投资20万元",teamMembers:[{name:"赵明",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/0f2e6dd7500744f9adab3c0370c4b7ff.jpg"},{name:"钱亮",role:"前端开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/4fc4474eb7e944d4a037abf33653d2bb.png"},{name:"孙芳",role:"产品设计",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/b0bb4cf070944d25b38c5163aab6e0d7.png"},{name:"李强",role:"市场运营",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/2c0c6cd9d4c44711864f8dd5dac9bd03.png"}]},{id:3,title:"智慧教室管理系统",description:"结合物联网技术的智能教室管理系统，实现教室设备远程控制、使用情况监控和智能预约功能。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"智能硬件",startDate:"2025-03-01",teamSize:6,progress:"系统测试阶段",category:"研究项目",tags:[{text:"物联网",type:"blue"},{text:"智能硬件",type:"red"}],description_full:"结合物联网技术的智能教室管理系统，实现教室设备远程控制、使用情况监控和智能预约功能。该系统使用了最新的5G物联网技术和边缘计算架构，可以实现教室环境的智能化管理。\n\n系统包括硬件控制模块、数据采集分析模块和用户交互界面，实现了教室照明、空调、多媒体设备的远程控制和自动化调节，并提供了教室使用数据的可视化分析功能。",achievements:"1. 完成了系统架构设计和原型开发\n2. 在5个教室进行了试点安装\n3. 开发了移动端和Web端控制界面\n4. 获得了学校信息化建设专项资金支持",teamMembers:[{name:"周华",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/783a43969651464986b06537792a3474.png"},{name:"吴杰",role:"硬件工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/5eab6092472f48559c5f97d0c5f056f2.png"},{name:"郑阳",role:"软件开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/6d94aa83cfc8475d8bb0aa3d8dba9928.png"},{name:"王梅",role:"界面设计",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/9b41dba52a4440aab8520f6ecf2b5ba7.png"},{name:"刘星",role:"系统架构师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/313cf10c0f0e4949b29d0c6981a9b72b.png"},{name:"陈亮",role:"测试工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/9ca105ebe429473faebca9c81b8e6f78.png"}]},{id:4,title:"校园文化数字展示平台",description:"结合VR技术的校园文化数字展示平台，让用户能够沉浸式体验校园历史、文化景点和重要活动。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"数字文创",startDate:"2025-01-10",teamSize:5,progress:"功能开发阶段",category:"设计作品",tags:[{text:"VR技术",type:"purple"},{text:"文化创意",type:"green"}],description_full:"结合VR技术的校园文化数字展示平台，让用户能够沉浸式体验校园历史、文化景点和重要活动。该项目采用了最新的Unity引擎和WebXR技术，可以在网页端和VR设备上运行。\n\n平台内容包括校史馆数字复刻、校园全景漫游、文化活动数字化展示等模块，为校友、新生和访客提供了全新的校园文化体验方式。",achievements:"1. 完成了校史馆数字化建模\n2. 开发了VR交互系统\n3. 获得了校园文化建设专项资金\n4. 与校史馆达成合作意向",teamMembers:[{name:"林小燕",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/8d03efc18b60458f81d70790db65dfb2.jpg"},{name:"张文轩",role:"3D建模师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/0a8bb3eb0b144eb1bf027e44dcffd85c.png"},{name:"王丽丽",role:"Unity开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/e71bf50a98ec42079b9746bbd982e405.png"},{name:"李明明",role:"UI设计师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/f105b7539d5a4dd6a4b3c0bbd3124057.jpeg"},{name:"赵天成",role:"内容策划",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/056214c9ae354676a40a0b965dd39acc.jpeg"}]},{id:5,title:"智能化学实验助手",description:"基于计算机视觉的智能化学实验助手，通过摄像头实时识别实验操作，提供步骤提示和安全警告。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"科研项目",startDate:"2024-11-05",teamSize:4,progress:"已投入使用",category:"科技竞赛",tags:[{text:"人工智能",type:"blue"},{text:"教育科技",type:"green"}],description_full:"基于计算机视觉的智能化学实验助手，通过摄像头实时识别实验操作，提供步骤提示和安全警告。该系统采用最新的深度学习算法，能够识别超过50种常见化学实验操作和100种试剂。\n\n系统包括实验识别模块、实验指导模块和安全监控模块，可以为学生提供实时的实验指导，同时监测危险操作并发出警告，大幅提高了实验的安全性和教学效果。",achievements:"1. 获得全国大学生人工智能创新大赛特等奖\n2. 实现了对50+种化学实验操作的精准识别\n3. 在学校3个化学实验室完成部署\n4. 申请专利2项，软件著作权1项",teamMembers:[{name:"刘博",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/fa539323f8304e5885a7a454ef468849.jpeg"},{name:"张丽丽",role:"算法工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/6a89448ba5f04d67b2d753f6bcdddef8.jpeg"},{name:"王明",role:"软件开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/3900eb55be7c4cb3b17c0b02d07a18bc.png"},{name:"李华",role:"化学顾问",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/f3cdb7f93475495b8eff87a7657acad4.png"}]},{id:6,title:"校园碳排放监测系统",description:"基于物联网的校园碳排放监测系统，通过传感器网络实时收集和分析校园各区域的能源消耗和碳排放数据。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"可持续发展",startDate:"2025-02-28",teamSize:7,progress:"数据分析阶段",category:"研究项目",tags:[{text:"环保科技",type:"green"},{text:"大数据",type:"blue"}],description_full:'基于物联网的校园碳排放监测系统，通过传感器网络实时收集和分析校园各区域的能源消耗和碳排放数据。系统采用了低功耗广域网技术(LoRaWAN)和边缘计算架构，建立了覆盖全校区的监测网络。\n\n项目目标是构建校园碳排放数据地图，通过数据分析发现节能减排的潜力点，为学校实现"双碳"目标提供数据支持和技术方案。',achievements:"1. 完成了全校20个重点区域的传感器部署\n2. 建立了碳排放数据分析模型\n3. 开发了实时监测平台和可视化界面\n4. 获得了省级绿色校园建设专项资金",teamMembers:[{name:"李江",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/d7e2c603cc9b4c0186d2b58b7814f209.png"},{name:"张雨",role:"硬件工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/63dd5c18e6bc4e2ab9fc7a4355da0837.png"},{name:"王磊",role:"数据分析师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/2e30989de7514893a2f0a8cf9df14b70.png"},{name:"刘芳",role:"软件开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/0f2e6dd7500744f9adab3c0370c4b7ff.jpg"},{name:"赵明",role:"环境工程顾问",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/4fc4474eb7e944d4a037abf33653d2bb.png"},{name:"钱亮",role:"系统架构师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/b0bb4cf070944d25b38c5163aab6e0d7.png"},{name:"孙华",role:"前端开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/2c0c6cd9d4c44711864f8dd5dac9bd03.png"}]},{id:7,title:"校园智能健康助手",description:"结合可穿戴设备的校园智能健康助手，为学生提供运动追踪、健康监测和个性化健康建议。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"健康科技",startDate:"2025-04-01",teamSize:5,progress:"用户测试阶段",category:"创新创业",tags:[{text:"健康医疗",type:"red"},{text:"移动应用",type:"blue"}],description_full:"结合可穿戴设备的校园智能健康助手，为学生提供运动追踪、健康监测和个性化健康建议。项目包括移动应用和云平台两部分，支持主流智能手环和手表的数据接入。\n\n系统结合了运动科学和营养学知识，针对大学生群体特点，提供科学的运动计划和饮食建议，同时通过社交功能激励学生养成健康的生活习惯。",achievements:"1. 完成了移动应用开发和云平台搭建\n2. 对接了5种主流可穿戴设备的数据\n3. 招募了200名学生进行封闭测试\n4. 获得了校医院的专业支持和合作",teamMembers:[{name:"陈健",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/783a43969651464986b06537792a3474.png"},{name:"李明",role:"移动开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/5eab6092472f48559c5f97d0c5f056f2.png"},{name:"王芳",role:"产品经理",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/6d94aa83cfc8475d8bb0aa3d8dba9928.png"},{name:"张强",role:"后端开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/9b41dba52a4440aab8520f6ecf2b5ba7.png"},{name:"刘伟",role:"健康顾问",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/313cf10c0f0e4949b29d0c6981a9b72b.png"}]},{id:8,title:"智能垃圾分类系统",description:"基于计算机视觉和机器学习的智能垃圾分类系统，能自动识别垃圾类型并引导用户进行正确分类。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"环保科技",startDate:"2024-09-15",teamSize:4,progress:"已投入使用",category:"科技竞赛",tags:[{text:"人工智能",type:"blue"},{text:"环保项目",type:"green"}],description_full:"基于计算机视觉和机器学习的智能垃圾分类系统，能自动识别垃圾类型并引导用户进行正确分类。系统采用了轻量级深度学习模型，可在普通智能手机上运行，识别准确率达95%以上。\n\n项目开发了移动应用和智能垃圾桶两种应用形式，已在校园内部署了20个智能垃圾分类点，显著提高了校园垃圾分类的准确率和参与度。",achievements:"1. 获得全国大学生环保创新大赛一等奖\n2. 垃圾识别准确率超过95%\n3. 校园内部署20个智能垃圾分类点\n4. 申请专利1项，软件著作权2项",teamMembers:[{name:"李环",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/9ca105ebe429473faebca9c81b8e6f78.png"},{name:"王晓",role:"算法工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/8d03efc18b60458f81d70790db65dfb2.jpg"},{name:"张鑫",role:"硬件开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/0a8bb3eb0b144eb1bf027e44dcffd85c.png"},{name:"刘芳",role:"软件开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/e71bf50a98ec42079b9746bbd982e405.png"}]},{id:9,title:"校园文创IP设计",description:"基于校园文化元素的创意设计项目，包括吉祥物、插画、表情包等系列文创产品设计。",coverImage:"/static/image/placeholder.jpg",statusText:"已完成",statusClass:"completed",type:"文化创意",startDate:"2025-01-20",teamSize:3,progress:"成果展示阶段",category:"设计作品",tags:[{text:"文创设计",type:"purple"},{text:"品牌IP",type:"yellow"}],description_full:'基于校园文化元素的创意设计项目，包括吉祥物、插画、表情包等系列文创产品设计。项目以学校的历史、建筑、文化符号为创作灵感，设计了一系列具有校园特色的文创IP。\n\n成果包括校园吉祥物"知园宝"及其延伸表情包、校园建筑插画集、纪念品设计等，已在校内文创店上架销售，并在校庆期间推出限定系列。',achievements:"1. 设计了校园吉祥物及40款表情包\n2. 完成12幅校园建筑插画创作\n3. 开发了20款文创产品并投入生产\n4. 校庆期间销售额突破5万元",teamMembers:[{name:"王艺",role:"项目负责人/设计师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/f105b7539d5a4dd6a4b3c0bbd3124057.jpeg"},{name:"李梦",role:"插画师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/056214c9ae354676a40a0b965dd39acc.jpeg"},{name:"张晓",role:"产品设计",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/fa539323f8304e5885a7a454ef468849.jpeg"}]},{id:10,title:"智能课程推荐系统",description:"基于大数据和深度学习的个性化课程推荐系统，根据学生的学习历史、兴趣偏好和发展规划推荐适合的课程。",coverImage:"/static/image/placeholder.jpg",statusText:"进行中",statusClass:"ongoing",type:"教育科技",startDate:"2025-03-10",teamSize:5,progress:"算法优化阶段",category:"研究项目",tags:[{text:"机器学习",type:"blue"},{text:"教育科技",type:"green"}],description_full:"基于大数据和深度学习的个性化课程推荐系统，根据学生的学习历史、兴趣偏好和发展规划推荐适合的课程。系统采用了最新的深度学习和协同过滤算法，整合了学校5年的选课数据和课程评价数据。\n\n项目目标是解决学生选课难、选课盲目等问题，提供个性化的课程推荐和学习路径规划，帮助学生更科学地规划学业。",achievements:"1. 完成了课程数据库的构建和清洗\n2. 开发了基础推荐算法和用户界面\n3. 在部分学院进行了试点测试\n4. 收集了超过1万条用户反馈数据",teamMembers:[{name:"张智",role:"项目负责人",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/6a89448ba5f04d67b2d753f6bcdddef8.jpeg"},{name:"李数",role:"算法工程师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/3900eb55be7c4cb3b17c0b02d07a18bc.png"},{name:"王研",role:"数据分析师",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/f3cdb7f93475495b8eff87a7657acad4.png"},{name:"刘程",role:"全栈开发",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/d7e2c603cc9b4c0186d2b58b7814f209.png"},{name:"赵美",role:"产品经理",avatar:"https://saichuang.oss-cn-beijing.aliyuncs.com/task_attachment/63dd5c18e6bc4e2ab9fc7a4355da0837.png"}]}].find((t=>t.id===Number(e)));t?(a.value=t,l.value=!1):uni.showToast({title:"项目不存在",icon:"none"})}(i.id)):uni.showToast({title:"项目ID不存在",icon:"none"})})),(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{title:"项目详情","show-search":!1,onBack:i}),e.createElementVNode("scroll-view",{"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"project-cover"},[e.createElementVNode("image",{src:"/static/image/placeholder.jpg",mode:"aspectFill",class:"cover-image"}),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",`status-${a.value.statusClass}`])},e.toDisplayString(a.value.statusText),3)]),e.createElementVNode("view",{class:"project-info-card"},[e.createElementVNode("text",{class:"project-title"},e.toDisplayString(a.value.title),1),e.createElementVNode("view",{class:"project-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value.tags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["tag",`tag-${t.type}`])},e.toDisplayString(t.text),3)))),128))]),e.createElementVNode("view",{class:"info-grid"},[e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"项目类型"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.value.type),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"开始日期"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.value.startDate),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"团队规模"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.value.teamSize)+"人",1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"进度"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.value.progress),1)])])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("view",{class:"section-title"},"项目简介"),e.createElementVNode("text",{class:"section-content"},e.toDisplayString(a.value.description),1)]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("view",{class:"section-title"},"项目成果"),e.createElementVNode("text",{class:"section-content"},e.toDisplayString(a.value.achievements),1),e.createElementVNode("view",{class:"image-gallery"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value.images,((a,l)=>(e.openBlock(),e.createElementBlock("image",{key:l,src:a,mode:"aspectFill",class:"gallery-image",onClick:e=>t.previewImage(l)},null,8,["src","onClick"])))),128))])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("view",{class:"section-title"},"团队成员"),e.createElementVNode("view",{class:"team-members"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value.teamMembers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"member-item"},[e.createElementVNode("image",{src:t.avatar,class:"member-avatar"},null,8,["src"]),e.createElementVNode("view",{class:"member-info"},[e.createElementVNode("text",{class:"member-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"member-role"},e.toDisplayString(t.role),1)])])))),128))])])]),e.createElementVNode("view",{class:"bottom-actions"},[e.createElementVNode("view",{class:"share-btn",onClick:o},[e.createVNode(B,{name:"fenxiang",size:"32",color:"#666"}),e.createElementVNode("text",null,"分享项目")]),e.createElementVNode("button",{class:"primary-btn",onClick:l[0]||(l[0]=(...e)=>t.contactTeam&&t.contactTeam(...e))},"联系团队")])]))}},G=["{","}"];const Y=/^(?:\d)+/,J=/^(?:\w)+/;const X="zh-Hans",Q="zh-Hant",Z="en",K=Object.prototype.hasOwnProperty,ee=(e,t)=>K.call(e,t),te=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,a=G){if(!t)return[e];let l=this._caches[e];return l||(l=function(e,[t,a]){const l=[];let n=0,i="";for(;n<e.length;){let o=e[n++];if(o===t){i&&l.push({type:"text",value:i}),i="";let t="";for(o=e[n++];void 0!==o&&o!==a;)t+=o,o=e[n++];const s=o===a,c=Y.test(t)?"list":s&&J.test(t)?"named":"unknown";l.push({value:t,type:c})}else i+=o}return i&&l.push({type:"text",value:i}),l}(e,a),this._caches[e]=l),function(e,t){const a=[];let l=0;const n=Array.isArray(t)?"list":(i=t,null!==i&&"object"==typeof i?"named":"unknown");var i;if("unknown"===n)return a;for(;l<e.length;){const i=e[l];switch(i.type){case"text":a.push(i.value);break;case"list":a.push(t[parseInt(i.value,10)]);break;case"named":"named"===n&&a.push(t[i.value])}l++}return a}(l,t)}};function ae(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return X;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?X:e.indexOf("-hant")>-1?Q:(a=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==a.indexOf(e)))?Q:X);var a;let l=[Z,"fr","es"];t&&Object.keys(t).length>0&&(l=Object.keys(t));const n=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,l);return n||void 0}class le{constructor({locale:e,fallbackLocale:t,messages:a,watcher:l,formater:n}){this.locale=Z,this.fallbackLocale=Z,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=n||te,this.messages=a||{},this.setLocale(e||Z),l&&this.watchLocale(l)}setLocale(e){const t=this.locale;this.locale=ae(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,a=!0){const l=this.messages[e];l?a?Object.assign(l,t):Object.keys(t).forEach((e=>{ee(l,e)||(l[e]=t[e])})):this.messages[e]=t}f(e,t,a){return this.formater.interpolate(e,t,a).join("")}t(e,t,a){let l=this.message;return"string"==typeof t?(t=ae(t,this.messages))&&(l=this.messages[t]):a=t,ee(l,e)?this.formater.interpolate(l[e],a).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}function ne(e,t={},a,l){if("string"!=typeof e){const a=[t,e];e=a[0],t=a[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():Z),"string"!=typeof a&&(a="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||Z);const n=new le({locale:e,fallbackLocale:a,messages:t,watcher:l});let i=(e,t)=>{if("function"!=typeof getApp)i=function(e,t){return n.t(e,t)};else{let e=!1;i=function(t,a){const l=getApp().$vm;return l&&(l.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(l,n))),n.t(t,a)}}return i(e,t)};return{i18n:n,f:(e,t,a)=>n.f(e,t,a),t:(e,t)=>i(e,t),add:(e,t,a=!0)=>n.add(e,t,a),watch:e=>n.watchLocale(e),getLocale:()=>n.getLocale(),setLocale:e=>n.setLocale(e)}}const ie={en:{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},"zh-Hans":{"uni-load-more.contentdown":"上拉显示更多","uni-load-more.contentrefresh":"正在加载...","uni-load-more.contentnomore":"没有更多数据了"},"zh-Hant":{"uni-load-more.contentdown":"上拉顯示更多","uni-load-more.contentrefresh":"正在加載...","uni-load-more.contentnomore":"沒有更多數據了"}};let oe;setTimeout((()=>{oe=uni.getSystemInfoSync().platform}),16);const{t:se}=ne(ie);const ce=T({name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:()=>({contentdown:"",contentrefresh:"",contentnomore:""})},showText:{type:Boolean,default:!0}},data:()=>({webviewHide:!1,platform:oe,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}),computed:{iconSnowWidth(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText(){return this.contentText.contentdown||se("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||se("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||se("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:"uni-load-more",onClick:a[0]||(a[0]=(...e)=>o.onClick&&o.onClick(...e))},[!i.webviewHide&&("circle"===l.iconType||"auto"===l.iconType&&"android"===i.platform)&&"loading"===l.status&&l.showIcon?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle({width:l.iconSize+"px",height:l.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--android-MP"},[e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:l.color,borderTopWidth:l.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:l.color,borderTopWidth:l.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:l.color,borderTopWidth:l.iconSize/12})},null,4)],4)):!i.webviewHide&&"loading"===l.status&&l.showIcon?(e.openBlock(),e.createElementBlock("view",{key:1,style:e.normalizeStyle({width:l.iconSize+"px",height:l.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--ios-H5"},[e.createElementVNode("image",{src:i.imgBase64,mode:"widthFix"},null,8,["src"])],4)):e.createCommentVNode("",!0),l.showText?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uni-load-more__text",style:e.normalizeStyle({color:l.color})},e.toDisplayString("more"===l.status?o.contentdownText:"loading"===l.status?o.contentrefreshText:o.contentnomoreText),5)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-b9147751"]]),re={__name:"index",setup(l){const n=e.ref([{id:0,name:"全部"}]),i=[{label:"全部",value:""},{label:"招募中",value:"recruiting"},{label:"进行中",value:"ongoing"},{label:"已完成",value:"completed"},{label:"已取消",value:"canceled"}],o=e.ref(0),s=e.ref(""),c=e.ref([]),r=e.ref(1),d=e.ref(10),m=e.ref(!1),p=e.ref(!1),h=e.ref({contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"已经到底啦"}),g=e.ref(!1),v=e.ref(!1),f=e.ref(0),w=e.computed((()=>{let e=340+f.value;if(g.value){const t=z().length;e+=80*Math.ceil(t/4)+30}return e+"rpx"}));async function y(){m.value=!0;try{const e={pageNum:r.value,pageSize:d.value};0!==o.value&&(e.categoryId=o.value),s.value&&(e.status=s.value);const a=await u({url:"/tasks/list",method:"GET",params:e});200===a.code&&a.data?(1===r.value?c.value=a.data.records||[]:(c.value=[...c.value,...a.data.records||[]],a.data.records&&a.data.records.length>0&&uni.showToast({title:`加载了${a.data.records.length}条新数据`,icon:"none",duration:1500})),a.data.current>=a.data.pages||!a.data.records||0===a.data.records.length?p.value=!0:p.value=!1):(t("error","at pages/task-square/index.vue:322","获取任务列表失败:",a),uni.showToast({title:"获取任务列表失败",icon:"none"}))}catch(e){t("error","at pages/task-square/index.vue:329","获取任务列表异常:",e),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{m.value=!1}}function k(e){if(!e)return"";try{const t=new Date(e);return`${t.getMonth()+1}月${t.getDate()}日`}catch(t){return e}}function V(e){o.value!==e&&(o.value=e,r.value=1,p.value=!1,c.value=[],y())}function N(){m.value||v.value||p.value||(uni.showToast({title:"加载更多数据...",icon:"none",duration:800}),r.value++,y())}function E(e){switch(e){case"问卷调查":case"技术支持":default:return"tag-blue";case"数据收集":case"志愿服务":return"tag-green";case"实验参与":return"tag-purple";case"校园活动":return"tag-orange";case"学术研究":return"tag-pink";case"竞赛协助":return"tag-yellow"}}function x(e){switch(e){case"recruiting":default:return"status-recruiting";case"ongoing":return"status-ongoing";case"completed":return"status-ended";case"canceled":return"status-canceled"}}function b(e){switch(e){case"现金":return"reward-orange";case"学分":return"reward-blue";case"志愿服务":return"reward-green";case"证书":return"reward-yellow";case"礼品":return"reward-purple";default:return"reward-gray"}}function C(){uni.navigateTo({url:"/pages/task-square/create"})}function T(){uni.navigateTo({url:"/pages/task-square/search"})}function S(){uni.navigateTo({url:"/pages/notification/index"})}function D(){getCurrentPages().length>1?uni.navigateBack():uni.switchTab({url:"/pages/index/index"})}function M(){g.value=!g.value}function z(){return n.value.slice(4)}return e.onMounted((()=>{h.value={contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"已经到底啦"},uni.getSystemInfo({success:e=>{if(e.safeArea&&e.safeArea.top){const a=e.screenWidth;f.value=Math.round(750*e.safeArea.top/a),t("log","at pages/task-square/index.vue:240","安全区高度(rpx):",f.value)}}}),async function(){try{const e=await u({url:"/taskCategories",method:"GET"});if(200===e.code&&e.data&&Array.isArray(e.data)){const t=[{id:0,name:"全部"},...e.data];n.value=t}else t("error","at pages/task-square/index.vue:259","获取任务分类失败:",e)}catch(e){t("error","at pages/task-square/index.vue:262","获取任务分类异常:",e),uni.showToast({title:"获取分类失败",icon:"none"})}}(),y()})),(t,l)=>{const d=a(e.resolveDynamicComponent("uni-load-more"),ce);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header-fixed",style:e.normalizeStyle({height:w.value})},[e.createElementVNode("view",{class:"header-bar"},[e.createElementVNode("view",{class:"back-btn",onClick:D},[e.createVNode(B,{name:"back",size:"25"})]),e.createElementVNode("view",{class:"header-title"},"任务广场"),e.createElementVNode("view",{class:"header-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:T},[e.createVNode(B,{name:"sousuo",size:"20"})]),e.createElementVNode("view",{class:"action-btn",onClick:S},[e.createVNode(B,{name:"xiaoxi",size:"20"})])])]),e.createElementVNode("view",{class:"filter-container"},[e.createElementVNode("view",{class:"category-section"},[e.createElementVNode("view",{class:"main-categories"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value.slice(0,4),(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["category-tag",o.value===t.id?"category-tag-active":""]),onClick:e=>V(t.id)},e.toDisplayString(t.name),11,["onClick"])))),128)),n.value.length>4?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-btn",onClick:M},[e.createTextVNode(e.toDisplayString(g.value?"收起":"更多")+" ",1),e.createElementVNode("text",{class:e.normalizeClass(["iconfont",g.value?"icon-arrow-up":"icon-arrow-down"])},null,2)])):e.createCommentVNode("",!0)]),g.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-categories-container"},[e.createElementVNode("view",{class:"more-categories"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z(),(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["category-tag",o.value===t.id?"category-tag-active":""]),onClick:e=>V(t.id)},e.toDisplayString(t.name),11,["onClick"])))),128))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("scroll-view",{"scroll-x":"",class:"status-scroll","show-scrollbar":"false"},[e.createElementVNode("view",{class:"status-container"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(i,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["status-filter-tag",s.value===t.value?"status-filter-active":""]),onClick:e=>{return a=t.value,void(s.value!==a&&(s.value=a,r.value=1,p.value=!1,c.value=[],y()));var a}},e.toDisplayString(t.label),11,["onClick"]))),64))])])])],4),e.createElementVNode("scroll-view",{"scroll-y":"",class:"tasks-scroll",style:e.normalizeStyle({"padding-top":w.value}),onScrolltolower:N},[e.createElementVNode("view",{class:"tasks-container"},[m.value&&1===r.value.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"refresh-tip"},[e.createElementVNode("text",{class:"refresh-text"},"正在加载数据...")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"task-card",key:t.id,onClick:e=>{return a=t.id,void uni.navigateTo({url:`/pages/task-square/detail?id=${a}`});var a}},[e.createElementVNode("view",{class:"task-header"},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"task-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"task-tags"},[e.createElementVNode("text",{class:e.normalizeClass(["task-tag",E(t.categoryName)])},e.toDisplayString(t.categoryName),3),e.createElementVNode("text",{class:e.normalizeClass(["task-status-tag",x(t.status)])},e.toDisplayString(t.statusText),3),e.createElementVNode("text",{class:"task-deadline"},"截止: "+e.toDisplayString(k(t.deadline)),1)])]),e.createElementVNode("view",{class:e.normalizeClass(["task-reward",b(t.rewardTypeName)])},["现金"===t.rewardTypeName?(e.openBlock(),e.createElementBlock("text",{key:0},"¥"+e.toDisplayString(t.rewardAmount),1)):"学分"===t.rewardTypeName?(e.openBlock(),e.createElementBlock("text",{key:1},e.toDisplayString(t.rewardAmount)+"学分",1)):(e.openBlock(),e.createElementBlock("text",{key:2},e.toDisplayString(t.rewardTypeName),1))],2)]),e.createElementVNode("view",{class:"task-desc"},e.toDisplayString(t.shortDescription),1),t.location?(e.openBlock(),e.createElementBlock("view",{key:0,class:"task-location"},[e.createVNode(B,{name:"weizhi",size:"20",class:"location-icon"}),e.createElementVNode("text",{class:"location-text"},e.toDisplayString(t.location),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"task-footer"},[e.createElementVNode("view",{class:"task-publisher"},[e.createElementVNode("image",{class:"publisher-avatar",src:t.creatorAvatarUrl||"https://via.placeholder.com/100",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("text",{class:"publisher-info"},e.toDisplayString(t.creatorName)+" · "+e.toDisplayString(t.creatorMajor),1)]),e.createElementVNode("view",{class:"task-stats"},[e.createElementVNode("text",{class:"stat-item"},[e.createVNode(B,{name:"liulan",size:"20",class:"stat-icon"}),e.createTextVNode(" "+e.toDisplayString(t.viewCount),1)]),e.createElementVNode("text",{class:"stat-item"},[e.createVNode(B,{name:"Baominrenshu",size:"20",class:"stat-icon"}),e.createTextVNode(" "+e.toDisplayString(t.currentParticipants)+"/"+e.toDisplayString(t.maxParticipants),1)])])])],8,["onClick"])))),128)),0!==c.value.length||m.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/empty-task.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无任务数据")])),m.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"loading-more"},[e.createVNode(d,{status:"loading",contentText:h.value},null,8,["contentText"])])):e.createCommentVNode("",!0),p.value&&!m.value&&c.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"no-more"},[e.createVNode(d,{status:"noMore",contentText:h.value},null,8,["contentText"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"safe-area-bottom"})])],36),e.createElementVNode("view",{class:"float-btn",onClick:C},[e.createVNode(B,{name:"chuangjianrenwu",size:"30",color:"#ffffff"})])])}}},de={__name:"detail",setup(a,{expose:l}){const n=e.ref(null),i=e.ref(!1);e.ref(!1),e.ref(0);const o=e.ref(!1),s=e.ref({id:0,title:"",description:"",requirements:"",contactInfo:"",categoryId:0,categoryName:"",creatorId:0,creatorName:"",creatorAvatarUrl:"",creatorMajor:"",rewardTypeId:0,rewardTypeName:"",rewardAmount:0,createdAt:"",deadline:"",status:"recruiting",maxParticipants:0,currentParticipants:0,viewCount:0,location:""}),c=e.computed((()=>{if(!s.value.contactInfo)return null;try{let e;return e="string"==typeof s.value.contactInfo?JSON.parse(s.value.contactInfo):s.value.contactInfo,e}catch(e){return t("error","at pages/task-square/detail.vue:182","解析联系方式失败:",e),null}})),r=e.computed((()=>c.value?Object.entries(c.value).filter((([e,t])=>t&&""!==t.toString().trim())).map((([e,t])=>({key:e,value:t}))):[])),d=e.computed((()=>!!o.value||("recruiting"!==s.value.status||s.value.currentParticipants>=s.value.maxParticipants)));function m(e){switch(e){case"现金":default:return"xianjin";case"学分":return"xuefen";case"志愿服务":return"zhiyaunshichang";case"证书":return"zhengshu";case"实习机会":return"shixijihui";case"礼品":return"liping"}}function p(e){switch(e){case"现金":return"#FF6B6B";case"学分":default:return"#4A90E2";case"志愿服务":return"#7ED321";case"证书":return"#FFC107"}}function h(e){switch(e){case"phone":return"dianhua";case"wechat":return"weixintubiao";case"qq":return"qqtubiao";default:return"youxiang"}}async function g(e){if(e)try{uni.showLoading({title:"加载中..."});const a=await u({url:`/tasks/${e}`,method:"GET"});200===a.code&&a.data?(s.value=a.data,async function(e){try{const t=await b.taskApplications.checkTaskApplication(e);200===t.code&&t.data&&(o.value=t.data.participated||!1)}catch(a){t("error","at pages/task-square/detail.vue:645","检查申请状态失败:",a),o.value=!1}}(e),s.value.title&&uni.setNavigationBarTitle({title:"任务详情"})):(t("error","at pages/task-square/detail.vue:381","获取任务详情失败:",a),uni.showToast({title:"获取任务详情失败",icon:"none"}))}catch(a){t("error","at pages/task-square/detail.vue:390","获取任务详情异常:",a)}finally{uni.hideLoading()}else uni.showToast({title:"任务ID无效",icon:"none"})}function v(e){if(!e)return"";try{const t=new Date(e),a=new Date,l=["日","一","二","三","四","五","六"],n=t.getHours().toString().padStart(2,"0"),i=`${n}:${t.getMinutes().toString().padStart(2,"0")}`;if(t.getFullYear()===a.getFullYear()){const e=t.getMonth()+1,a=t.getDate();return`${e}月${a}日 周${l[t.getDay()]} ${i}`}return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${i}`}catch(t){return e}}function f(e){if(!e)return"";try{const t=new Date(e),a=(new Date).getTime()-t.getTime(),l=6e4,n=60*l,i=24*n,o=7*i,s=30*i;return a<l?"刚刚":a<n?Math.floor(a/l)+"分钟前":a<i?Math.floor(a/n)+"小时前":a<o?Math.floor(a/i)+"天前":a<s?Math.floor(a/o)+"周前":Math.floor(a/s)+"个月前"}catch(t){return e}}function w(e){switch(e){case"recruiting":return"status-recruiting";case"ongoing":return"status-ongoing";case"completed":return"status-completed";case"ended":return"status-ended";case"canceled":return"status-canceled";default:return""}}function y(e){switch(e){case"现金":return"报酬";case"学分":return"学分奖励";case"志愿服务":return"志愿时长";case"证书":return"证书奖励";default:return"奖励"}}function k(e){switch(e){case"现金":return"reward-orange";case"学分":return"reward-blue";case"志愿服务":return"reward-green";case"证书":return"reward-yellow";default:return""}}function V(e){switch(e){case"phone":return"电话";case"wechat":return"微信";case"qq":return"QQ";case"email":return"邮箱";default:return e}}function N(){return getCurrentPages().length>1?uni.navigateBack({delta:1,success:()=>{t("log","at pages/task-square/detail.vue:595","成功返回上一页")},fail:e=>{t("error","at pages/task-square/detail.vue:598","返回失败",e),uni.redirectTo({url:"/pages/task-square/index"})}}):uni.switchTab({url:"/pages/index/index"}),!0}async function E(){n.value}async function x(){d.value||uni.showModal({title:"申请任务",content:"确定要申请该任务吗？",editable:!0,placeholderText:"可选择填写申请理由（如有特长、经验等）",success:async e=>{if(e.confirm)try{uni.showLoading({title:"提交申请中..."});const t=await b.taskApplications.createTaskApplication({taskId:n.value,message:e.content||"我对这个任务很感兴趣，希望能参与。",status:"pending"});uni.hideLoading(),200===t.code?(uni.showToast({title:"申请成功，等待审核",icon:"success"}),o.value=!0,setTimeout((()=>{uni.navigateTo({url:"/pages/application/application"})}),1500)):uni.showToast({title:t.message||"申请失败",icon:"none"})}catch(a){uni.hideLoading(),t("error","at pages/task-square/detail.vue:699","申请任务失败:",a),uni.showToast({title:"申请失败，请稍后重试",icon:"none"})}}})}return e.onMounted((()=>{!function(){try{let e=null;const t=getCurrentPages();if(t&&t.length>0){const a=t[t.length-1];if(a.options&&a.options.id)e=a.options.id;else if(a.$page&&a.$page.fullPath){const t=a.$page.fullPath,l=t.indexOf("?");if(l>-1){const a=t.substring(l+1).split("&");for(let t of a){const[a,l]=t.split("=");if("id"===a&&l){e=l;break}}}}else a.__displayReporter&&a.__displayReporter.query&&(e=a.__displayReporter.query.id)}e?(n.value=e,g(e)):(uni.showToast({title:"无法获取任务信息",icon:"none"}),setTimeout((()=>{uni.navigateBack()}),1500))}catch(e){t("error","at pages/task-square/detail.vue:329","获取任务ID出错:",e),uni.showToast({title:"加载任务详情失败",icon:"none"})}}()})),l({onLoad(e){e&&e.id&&(n.value=e.id,g(e.id))}}),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{title:"任务详情","show-search":!1,"show-filter":!0,onBack:N}),e.createElementVNode("scroll-view",{"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"top-info-card"},[e.createElementVNode("view",{class:"title-status-row"},[e.createElementVNode("text",{class:"task-title"},e.toDisplayString(s.value.title),1),e.createElementVNode("text",{class:e.normalizeClass(["task-status-tag",w(s.value.status)])},e.toDisplayString(s.value.statusText),3)]),e.createElementVNode("view",{class:"publisher-info-row"},[e.createElementVNode("image",{class:"publisher-avatar",src:s.value.creatorAvatarUrl||"https://via.placeholder.com/100",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"publisher-text"},[e.createElementVNode("text",{class:"publisher-name"},e.toDisplayString(s.value.creatorName),1),e.createElementVNode("text",{class:"publisher-extra"},e.toDisplayString(s.value.creatorMajor)+" · "+e.toDisplayString(f(s.value.createdAt))+"发布",1)])])]),e.createElementVNode("view",{class:"detail-card"},[e.createElementVNode("view",{class:"card-title"},"任务详情"),e.createElementVNode("view",{class:"card-content description-content"},[e.createElementVNode("text",{class:"description-text"},e.toDisplayString(s.value.description),1)])]),s.value.requirements?(e.openBlock(),e.createElementBlock("view",{key:0,class:"detail-card"},[e.createElementVNode("view",{class:"card-title"},"任务要求"),e.createElementVNode("view",{class:"card-content description-content"},[e.createElementVNode("text",{class:"description-text"},e.toDisplayString(s.value.requirements),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"info-grid"},[e.createElementVNode("view",{class:"info-grid-item"},[e.createElementVNode("text",{class:"grid-item-label"},"时间"),e.createElementVNode("view",{class:"grid-item-content"},[e.createVNode(B,{name:"shijian",color:"#4A90E2"}),e.createElementVNode("text",{class:"grid-item-value"},e.toDisplayString(v(s.value.deadline)),1)])]),s.value.location?(e.openBlock(),e.createElementBlock("view",{key:0,class:"info-grid-item"},[e.createElementVNode("text",{class:"grid-item-label"},"地点"),e.createElementVNode("view",{class:"grid-item-content"},[e.createVNode(B,{name:"weizhi",color:"#4A90E2"}),e.createElementVNode("text",{class:"grid-item-value"},e.toDisplayString(s.value.location),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"info-grid-item"},[e.createElementVNode("text",{class:"grid-item-label"},e.toDisplayString(y(s.value.rewardTypeName)),1),e.createElementVNode("view",{class:"grid-item-content"},[e.createVNode(B,{name:m(s.value.rewardTypeName),color:p(s.value.rewardTypeName),size:"28"},null,8,["name","color"]),e.createElementVNode("text",{class:e.normalizeClass(["grid-item-value reward-text",k(s.value.rewardTypeName)])},["现金"===s.value.rewardTypeName?(e.openBlock(),e.createElementBlock("text",{key:0},"¥"+e.toDisplayString(s.value.rewardAmount),1)):"学分"===s.value.rewardTypeName?(e.openBlock(),e.createElementBlock("text",{key:1},e.toDisplayString(s.value.rewardAmount)+" 学分",1)):(e.openBlock(),e.createElementBlock("text",{key:2},e.toDisplayString(s.value.rewardTypeName),1))],2)])]),e.createElementVNode("view",{class:"info-grid-item"},[e.createElementVNode("text",{class:"grid-item-label"},"参与人数"),e.createElementVNode("view",{class:"grid-item-content"},[e.createVNode(B,{name:"renshu",color:"#4A90E2"}),e.createElementVNode("text",{class:"grid-item-value"},e.toDisplayString(s.value.currentParticipants)+"/"+e.toDisplayString(s.value.maxParticipants)+" 人",1)])])]),r.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"detail-card"},[e.createElementVNode("view",{class:"card-title"},"联系方式"),e.createElementVNode("view",{class:"contact-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"contact-item",key:t.key,onClick:e=>{return a=t.value,void uni.setClipboardData({data:a,success:()=>{uni.showToast({title:"复制成功",icon:"success"})}});var a}},[e.createElementVNode("view",{class:"contact-type-container"},[e.createVNode(B,{name:h(t.key),color:"#4A90E2"},null,8,["name"]),e.createElementVNode("text",{class:"contact-type"},e.toDisplayString(V(t.key)),1)]),e.createElementVNode("view",{class:"contact-value-container"},[e.createElementVNode("text",{class:"contact-value"},e.toDisplayString(t.value),1),e.createElementVNode("text",{class:"copy-hint"},"点击复制")])],8,["onClick"])))),128))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"bottom-actions"},[e.createElementVNode("view",{class:"action-btn favorite",onClick:E},[e.createVNode(B,{name:i.value?"souchang":"weishouchang",size:"36",color:i.value?"#FFC107":"#666666"},null,8,["name","color"]),e.createElementVNode("text",null,e.toDisplayString(i.value?"已收藏":"收藏"),1)]),e.createElementVNode("button",{class:e.normalizeClass(["apply-btn",{"disabled-btn":d.value}]),disabled:d.value,onClick:x},e.toDisplayString(o.value?"已申请":"recruiting"===s.value.status?s.value.currentParticipants>=s.value.maxParticipants?"名额已满":"立即申请":"ongoing"===s.value.status?"进行中":"completed"===s.value.status?"已完成":"ended"===s.value.status?"已结束":"canceled"===s.value.status?"已取消":"立即申请"),11,["disabled"])])]))}},me=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const ue=T({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:me}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(o.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+l.type,l.customPrefix,l.customPrefix?l.type:""]]),onClick:a[0]||(a[0]=(...e)=>o._onClick&&o._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-1320ff52"]]);function pe(e){let t="";for(let a in e){t+=`${a}:${e[a]};`}return t}const he=T({name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:()=>({color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""}},data:()=>({focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}),computed:{isVal(){const e=this.val;return!(!e&&0!==e)},msg(){return this.localMsg||this.errorMessage},inputMaxlength(){return Number(this.maxlength)},boxStyle(){return`color:${this.inputBorder&&this.msg?"#e43d33":this.styles.color};`},inputContentClass(){return function(e){let t="";for(let a in e)e[a]&&(t+=`${a} `);return t}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle(){const e=this.focusShow?this.primaryColor:this.styles.borderColor;return pe({"border-color":(this.inputBorder&&this.msg?"#dd524d":e)||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle(){return pe({"padding-right":"password"===this.type||this.clearable||this.prefixIcon?"":"10px","padding-left":this.prefixIcon?"":"10px"})}},watch:{value(e){this.val=e},modelValue(e){this.val=e},focus(e){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))}},created(){this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(e=>{this.localMsg=e}))},mounted(){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))},methods:{init(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon(e){this.$emit("iconClick",e)},onEyes(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput(e){let t=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(t=this.trimStr(t)),"string"==typeof this.trim&&(t=this.trimStr(t,this.trim))),this.errMsg&&(this.errMsg=""),this.val=t,this.$emit("input",t),this.$emit("update:modelValue",t)},onFocus(){this.$nextTick((()=>{this.focused=!0})),this.$emit("focus",null)},_Focus(e){this.focusShow=!0,this.$emit("focus",e)},onBlur(){this.focused=!1,this.$emit("blur",null)},_Blur(e){if(e.detail.value,this.focusShow=!1,this.$emit("blur",e),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){const{validateTrigger:e}=this.form;"blur"===e&&this.formItem.onFieldChange()}},onConfirm(e){this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((()=>{this.isEnter=!1}))},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},trimStr:(e,t="both")=>"both"===t?e.trim():"left"===t?e.trimLeft():"right"===t?e.trimRight():"start"===t?e.trimStart():"end"===t?e.trimEnd():"all"===t?e.replace(/\s+/g,""):e}},[["render",function(t,l,n,i,o,s){const c=a(e.resolveDynamicComponent("uni-icons"),ue);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-easyinput",{"uni-easyinput-error":s.msg}]),style:e.normalizeStyle(s.boxStyle)},[e.createElementVNode("view",{class:e.normalizeClass(["uni-easyinput__content",s.inputContentClass]),style:e.normalizeStyle(s.inputContentStyle)},[n.prefixIcon?(e.openBlock(),e.createBlock(c,{key:0,class:"content-clear-icon",type:n.prefixIcon,color:"#c0c4cc",onClick:l[0]||(l[0]=e=>s.onClickIcon("prefix")),size:"22"},null,8,["type"])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"left",{},void 0,!0),"textarea"===n.type?(e.openBlock(),e.createElementBlock("textarea",{key:1,class:e.normalizeClass(["uni-easyinput__content-textarea",{"input-padding":n.inputBorder}]),name:n.name,value:o.val,placeholder:n.placeholder,placeholderStyle:n.placeholderStyle,disabled:n.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:s.inputMaxlength,focus:o.focused,autoHeight:n.autoHeight,"cursor-spacing":n.cursorSpacing,"adjust-position":n.adjustPosition,onInput:l[1]||(l[1]=(...e)=>s.onInput&&s.onInput(...e)),onBlur:l[2]||(l[2]=(...e)=>s._Blur&&s._Blur(...e)),onFocus:l[3]||(l[3]=(...e)=>s._Focus&&s._Focus(...e)),onConfirm:l[4]||(l[4]=(...e)=>s.onConfirm&&s.onConfirm(...e)),onKeyboardheightchange:l[5]||(l[5]=(...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))},null,42,["name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","cursor-spacing","adjust-position"])):(e.openBlock(),e.createElementBlock("input",{key:2,type:"password"===n.type?"text":n.type,class:"uni-easyinput__content-input",style:e.normalizeStyle(s.inputStyle),name:n.name,value:o.val,password:!o.showPassword&&"password"===n.type,placeholder:n.placeholder,placeholderStyle:n.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:n.disabled,maxlength:s.inputMaxlength,focus:o.focused,confirmType:n.confirmType,"cursor-spacing":n.cursorSpacing,"adjust-position":n.adjustPosition,onFocus:l[6]||(l[6]=(...e)=>s._Focus&&s._Focus(...e)),onBlur:l[7]||(l[7]=(...e)=>s._Blur&&s._Blur(...e)),onInput:l[8]||(l[8]=(...e)=>s.onInput&&s.onInput(...e)),onConfirm:l[9]||(l[9]=(...e)=>s.onConfirm&&s.onConfirm(...e)),onKeyboardheightchange:l[10]||(l[10]=(...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))},null,44,["type","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","cursor-spacing","adjust-position"])),"password"===n.type&&n.passwordIcon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[s.isVal?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass(["content-clear-icon",{"is-textarea-icon":"textarea"===n.type}]),type:o.showPassword?"eye-slash-filled":"eye-filled",size:22,color:o.focusShow?n.primaryColor:"#c0c4cc",onClick:s.onEyes},null,8,["class","type","color","onClick"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),n.suffixIcon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[n.suffixIcon?(e.openBlock(),e.createBlock(c,{key:0,class:"content-clear-icon",type:n.suffixIcon,color:"#c0c4cc",onClick:l[11]||(l[11]=e=>s.onClickIcon("suffix")),size:"22"},null,8,["type"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[n.clearable&&s.isVal&&!n.disabled&&"textarea"!==n.type?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass(["content-clear-icon",{"is-textarea-icon":"textarea"===n.type}]),type:"clear",size:n.clearSize,color:s.msg?"#dd524d":o.focusShow?n.primaryColor:"#c0c4cc",onClick:s.onClear},null,8,["class","size","color","onClick"])):e.createCommentVNode("",!0)],64)),e.renderSlot(t.$slots,"right",{},void 0,!0)],6)],6)}],["__scopeId","data-v-63e7b685"]]);const ge=T({name:"uniFormsItem",options:{virtualHost:!0},provide(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:()=>null},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:()=>({errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"70px",localLabelPos:"left",border:!1,isFirstBorder:!1}),computed:{msg(){return this.errorMessage||this.errMsg}},watch:{"form.formRules"(e){this.init()},"form.labelWidth"(e){this.localLabelWidth=this._labelWidthUnit(e)},"form.labelPosition"(e){this.localLabelPos=this._labelPosition()},"form.labelAlign"(e){}},created(){this.init(!0),this.name&&this.form&&this.$watch((()=>this.form._getDataValue(this.name,this.form.localData)),((e,t)=>{if(!this.form._isEqual(e,t)){const t=this.itemSetValue(e);this.onFieldChange(t,!1)}}),{immediate:!1})},unmounted(){this.__isUnmounted=!0,this.unInit()},methods:{setRules(e=null){this.userRules=e,this.init(!1)},setValue(){},async onFieldChange(e,t=!0){const{formData:a,localData:l,errShowType:n,validateCheck:i,validateTrigger:o,_isRequiredField:s,_realName:c}=this.form,r=c(this.name);e||(e=this.form.formData[r]);const d=this.itemRules.rules&&this.itemRules.rules.length;if(!this.validator||!d||0===d)return;const m=s(this.itemRules.rules||[]);let u=null;return"bind"===o||t?(u=await this.validator.validateUpdate({[r]:e},a),m||void 0!==e&&""!==e||(u=null),u&&u.errorMessage?("undertext"===n&&(this.errMsg=u?u.errorMessage:""),"toast"===n&&uni.showToast({title:u.errorMessage||"校验错误",icon:"none"}),"modal"===n&&uni.showModal({title:"提示",content:u.errorMessage||"校验错误"})):this.errMsg="",i(u||null)):this.errMsg="",u||null},init(e=!1){const{validator:t,formRules:a,childrens:l,formData:n,localData:i,_realName:o,labelWidth:s,_getDataValue:c,_setDataValue:r}=this.form||{};if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(s),this.localLabelPos=this._labelPosition(),this.form&&e&&l.push(this),!t||!a)return;this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;const d=o(this.name),m=this.userRules||this.rules;"object"==typeof a&&m&&(a[d]={rules:m},t.updateSchema(a));const u=a[d]||{};this.itemRules=u,this.validator=t,this.itemSetValue(c(this.name,i))},unInit(){if(this.form){const{childrens:e,formData:t,_realName:a}=this.form;e.forEach(((e,l)=>{e===this&&(this.form.childrens.splice(l,1),delete t[a(e.name)])}))}},itemSetValue(e){const t=this.form._realName(this.name),a=this.itemRules.rules||[],l=this.form._getValue(t,e,a);return this.form._setDataValue(t,this.form.formData,l),l},clearValidate(){this.errMsg=""},_isRequired(){return this.required},_justifyContent(){if(this.form){const{labelAlign:e}=this.form;let t=this.labelAlign?this.labelAlign:e;if("left"===t)return"flex-start";if("center"===t)return"center";if("right"===t)return"flex-end"}return"flex-start"},_labelWidthUnit(e){return this.num2px(this.labelWidth?this.labelWidth:e||(this.label?70:"auto"))},_labelPosition(){return this.form&&this.form.labelPosition||"left"},isTrigger:(e,t,a)=>"submit"!==e&&e?"bind":void 0===e?"bind"!==t?t?"submit":""===a?"bind":"submit":"bind":"submit",num2px:e=>"number"==typeof e?`${e}px`:e}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-forms-item",["is-direction-"+i.localLabelPos,i.border?"uni-forms-item--border":"",i.border&&i.isFirstBorder?"is-first-border":""]])},[e.renderSlot(t.$slots,"label",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__label",{"no-label":!l.label&&!l.required}]),style:e.normalizeStyle({width:i.localLabelWidth,justifyContent:i.localLabelAlign})},[l.required?(e.openBlock(),e.createElementBlock("text",{key:0,class:"is-required"},"*")):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(l.label),1)],6)]),!0),e.createElementVNode("view",{class:"uni-forms-item__content"},[e.renderSlot(t.$slots,"default",{},void 0,!0),e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__error",{"msg--active":o.msg}])},[e.createElementVNode("text",null,e.toDisplayString(o.msg),1)],2)])],2)}],["__scopeId","data-v-d42c39e1"]]);function ve(e,t){return`${fe(e)} ${we(e,t)}`}function fe(e){e=xe(e);const t=(e=new Date(e)).getFullYear(),a=e.getMonth()+1,l=e.getDate();return`${t}-${ye(a)}-${ye(l)}`}function we(e,t){e=xe(e);const a=(e=new Date(e)).getHours(),l=e.getMinutes(),n=e.getSeconds();return t?`${ye(a)}:${ye(l)}`:`${ye(a)}:${ye(l)}:${ye(n)}`}function ye(e){return e<10&&(e=`0${e}`),e}function ke(e){return e?"00:00":"00:00:00"}function Ve(e,t){return(e=new Date(xe(e)))<=(t=new Date(xe(t)))}function Ne(e){return e.match(/((19|20)\d{2})(-|\/)\d{1,2}(-|\/)\d{1,2}/g)}const Ee=/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])( [0-5]?[0-9]:[0-5]?[0-9](:[0-5]?[0-9])?)?$/;function xe(e){return"string"==typeof e&&Ee.test(e)&&(e=e.replace(/-/g,"/")),e}const be=T({props:{weeks:{type:Object,default:()=>({})},calendar:{type:Object,default:()=>({})},selected:{type:Array,default:()=>[]},checkHover:{type:Boolean,default:!1}},methods:{choiceDate(e){this.$emit("change",e)},handleMousemove(e){this.$emit("handleMouse",e)}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-calendar-item__weeks-box",{"uni-calendar-item--disable":l.weeks.disable,"uni-calendar-item--before-checked-x":l.weeks.beforeMultiple,"uni-calendar-item--multiple":l.weeks.multiple,"uni-calendar-item--after-checked-x":l.weeks.afterMultiple}]),onClick:a[0]||(a[0]=e=>o.choiceDate(l.weeks)),onMouseenter:a[1]||(a[1]=e=>o.handleMousemove(l.weeks))},[e.createElementVNode("view",{class:e.normalizeClass(["uni-calendar-item__weeks-box-item",{"uni-calendar-item--checked":l.calendar.fullDate===l.weeks.fullDate&&(l.calendar.userChecked||!l.checkHover),"uni-calendar-item--checked-range-text":l.checkHover,"uni-calendar-item--before-checked":l.weeks.beforeMultiple,"uni-calendar-item--multiple":l.weeks.multiple,"uni-calendar-item--after-checked":l.weeks.afterMultiple,"uni-calendar-item--disable":l.weeks.disable}])},[l.selected&&l.weeks.extraInfo?(e.openBlock(),e.createElementBlock("text",{key:0,class:"uni-calendar-item__weeks-box-circle"})):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"uni-calendar-item__weeks-box-text uni-calendar-item__weeks-box-text-disable uni-calendar-item--checked-text"},e.toDisplayString(l.weeks.date),1)],2),e.createElementVNode("view",{class:e.normalizeClass({"uni-calendar-item--today":l.weeks.isToday})},null,2)],34)}],["__scopeId","data-v-cf8cb4f2"]]),Ce={en:{"uni-datetime-picker.selectDate":"select date","uni-datetime-picker.selectTime":"select time","uni-datetime-picker.selectDateTime":"select date and time","uni-datetime-picker.startDate":"start date","uni-datetime-picker.endDate":"end date","uni-datetime-picker.startTime":"start time","uni-datetime-picker.endTime":"end time","uni-datetime-picker.ok":"ok","uni-datetime-picker.clear":"clear","uni-datetime-picker.cancel":"cancel","uni-datetime-picker.year":"-","uni-datetime-picker.month":"","uni-calender.MON":"MON","uni-calender.TUE":"TUE","uni-calender.WED":"WED","uni-calender.THU":"THU","uni-calender.FRI":"FRI","uni-calender.SAT":"SAT","uni-calender.SUN":"SUN","uni-calender.confirm":"confirm"},"zh-Hans":{"uni-datetime-picker.selectDate":"选择日期","uni-datetime-picker.selectTime":"选择时间","uni-datetime-picker.selectDateTime":"选择日期时间","uni-datetime-picker.startDate":"开始日期","uni-datetime-picker.endDate":"结束日期","uni-datetime-picker.startTime":"开始时间","uni-datetime-picker.endTime":"结束时间","uni-datetime-picker.ok":"确定","uni-datetime-picker.clear":"清除","uni-datetime-picker.cancel":"取消","uni-datetime-picker.year":"年","uni-datetime-picker.month":"月","uni-calender.SUN":"日","uni-calender.MON":"一","uni-calender.TUE":"二","uni-calender.WED":"三","uni-calender.THU":"四","uni-calender.FRI":"五","uni-calender.SAT":"六","uni-calender.confirm":"确认"},"zh-Hant":{"uni-datetime-picker.selectDate":"選擇日期","uni-datetime-picker.selectTime":"選擇時間","uni-datetime-picker.selectDateTime":"選擇日期時間","uni-datetime-picker.startDate":"開始日期","uni-datetime-picker.endDate":"結束日期","uni-datetime-picker.startTime":"開始时间","uni-datetime-picker.endTime":"結束时间","uni-datetime-picker.ok":"確定","uni-datetime-picker.clear":"清除","uni-datetime-picker.cancel":"取消","uni-datetime-picker.year":"年","uni-datetime-picker.month":"月","uni-calender.SUN":"日","uni-calender.MON":"一","uni-calender.TUE":"二","uni-calender.WED":"三","uni-calender.THU":"四","uni-calender.FRI":"五","uni-calender.SAT":"六","uni-calender.confirm":"確認"}},{t:Te}=ne(Ce);const Se=T({name:"UniDatetimePicker",data:()=>({indicatorStyle:"height: 50px;",visible:!1,fixNvueBug:{},dateShow:!0,timeShow:!0,title:"日期和时间",time:"",year:1920,month:0,day:0,hour:0,minute:0,second:0,startYear:1920,startMonth:1,startDay:1,startHour:0,startMinute:0,startSecond:0,endYear:2120,endMonth:12,endDay:31,endHour:23,endMinute:59,endSecond:59}),options:{virtualHost:!0},props:{type:{type:String,default:"datetime"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},disabled:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},hideSecond:{type:[Boolean,String],default:!1}},watch:{modelValue:{handler(e){e?(this.parseValue(xe(e)),this.initTime(!1)):(this.time="",this.parseValue(Date.now()))},immediate:!0},type:{handler(e){"date"===e?(this.dateShow=!0,this.timeShow=!1,this.title="日期"):"time"===e?(this.dateShow=!1,this.timeShow=!0,this.title="时间"):(this.dateShow=!0,this.timeShow=!0,this.title="日期和时间")},immediate:!0},start:{handler(e){this.parseDatetimeRange(xe(e),"start")},immediate:!0},end:{handler(e){this.parseDatetimeRange(xe(e),"end")},immediate:!0},months(e){this.checkValue("month",this.month,e)},days(e){this.checkValue("day",this.day,e)},hours(e){this.checkValue("hour",this.hour,e)},minutes(e){this.checkValue("minute",this.minute,e)},seconds(e){this.checkValue("second",this.second,e)}},computed:{years(){return this.getCurrentRange("year")},months(){return this.getCurrentRange("month")},days(){return this.getCurrentRange("day")},hours(){return this.getCurrentRange("hour")},minutes(){return this.getCurrentRange("minute")},seconds(){return this.getCurrentRange("second")},ymd(){return[this.year-this.minYear,this.month-this.minMonth,this.day-this.minDay]},hms(){return[this.hour-this.minHour,this.minute-this.minMinute,this.second-this.minSecond]},currentDateIsStart(){return this.year===this.startYear&&this.month===this.startMonth&&this.day===this.startDay},currentDateIsEnd(){return this.year===this.endYear&&this.month===this.endMonth&&this.day===this.endDay},minYear(){return this.startYear},maxYear(){return this.endYear},minMonth(){return this.year===this.startYear?this.startMonth:1},maxMonth(){return this.year===this.endYear?this.endMonth:12},minDay(){return this.year===this.startYear&&this.month===this.startMonth?this.startDay:1},maxDay(){return this.year===this.endYear&&this.month===this.endMonth?this.endDay:this.daysInMonth(this.year,this.month)},minHour(){return"datetime"===this.type?this.currentDateIsStart?this.startHour:0:"time"===this.type?this.startHour:void 0},maxHour(){return"datetime"===this.type?this.currentDateIsEnd?this.endHour:23:"time"===this.type?this.endHour:void 0},minMinute(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour?this.startMinute:0:"time"===this.type?this.hour===this.startHour?this.startMinute:0:void 0},maxMinute(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour?this.endMinute:59:"time"===this.type?this.hour===this.endHour?this.endMinute:59:void 0},minSecond(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:"time"===this.type?this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:void 0},maxSecond(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:"time"===this.type?this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:void 0},selectTimeText:()=>Te("uni-datetime-picker.selectTime"),okText:()=>Te("uni-datetime-picker.ok"),clearText:()=>Te("uni-datetime-picker.clear"),cancelText:()=>Te("uni-datetime-picker.cancel")},mounted(){},methods:{lessThanTen:e=>e<10?"0"+e:e,parseTimeType(e){if(e){let t=e.split(":");this.hour=Number(t[0]),this.minute=Number(t[1]),this.second=Number(t[2])}},initPickerValue(e){let t=null;e?t=this.compareValueWithStartAndEnd(e,this.start,this.end):(t=Date.now(),t=this.compareValueWithStartAndEnd(t,this.start,this.end)),this.parseValue(t)},compareValueWithStartAndEnd(e,t,a){let l=null;return e=this.superTimeStamp(e),t=this.superTimeStamp(t),a=this.superTimeStamp(a),l=t&&a?e<t?new Date(t):e>a?new Date(a):new Date(e):t&&!a?t<=e?new Date(e):new Date(t):!t&&a?e<=a?new Date(e):new Date(a):new Date(e),l},superTimeStamp(e){let t="";if("time"===this.type&&e&&"string"==typeof e){const e=new Date;t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "}return Number(e)&&(e=parseInt(e),t=0),this.createTimeStamp(t+e)},parseValue(e){if(e){if("time"===this.type&&"string"==typeof e)this.parseTimeType(e);else{let t=null;t=new Date(e),"time"!==this.type&&(this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate()),"date"!==this.type&&(this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds())}this.hideSecond&&(this.second=0)}},parseDatetimeRange(e,t){if(!e)return"start"===t&&(this.startYear=1920,this.startMonth=1,this.startDay=1,this.startHour=0,this.startMinute=0,this.startSecond=0),void("end"===t&&(this.endYear=2120,this.endMonth=12,this.endDay=31,this.endHour=23,this.endMinute=59,this.endSecond=59));if("time"===this.type){const a=e.split(":");this[t+"Hour"]=Number(a[0]),this[t+"Minute"]=Number(a[1]),this[t+"Second"]=Number(a[2])}else{if(!e)return void("start"===t?this.startYear=this.year-60:this.endYear=this.year+60);Number(e)&&(e=parseInt(e));const a=/[0-9]:[0-9]/;"datetime"!==this.type||"end"!==t||"string"!=typeof e||a.test(e)||(e+=" 23:59:59");const l=new Date(e);this[t+"Year"]=l.getFullYear(),this[t+"Month"]=l.getMonth()+1,this[t+"Day"]=l.getDate(),"datetime"===this.type&&(this[t+"Hour"]=l.getHours(),this[t+"Minute"]=l.getMinutes(),this[t+"Second"]=l.getSeconds())}},getCurrentRange(e){const t=[];for(let a=this["min"+this.capitalize(e)];a<=this["max"+this.capitalize(e)];a++)t.push(a);return t},capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),checkValue(e,t,a){-1===a.indexOf(t)&&(this[e]=a[0])},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),createTimeStamp(e){if(e)return"number"==typeof e?e:(e=e.replace(/-/g,"/"),"date"===this.type&&(e+=" 00:00:00"),Date.parse(e))},createDomSting(){const e=this.year+"-"+this.lessThanTen(this.month)+"-"+this.lessThanTen(this.day);let t=this.lessThanTen(this.hour)+":"+this.lessThanTen(this.minute);return this.hideSecond||(t=t+":"+this.lessThanTen(this.second)),"date"===this.type?e:"time"===this.type?t:e+" "+t},initTime(e=!0){this.time=this.createDomSting(),e&&("timestamp"===this.returnType&&"time"!==this.type?(this.$emit("change",this.createTimeStamp(this.time)),this.$emit("input",this.createTimeStamp(this.time)),this.$emit("update:modelValue",this.createTimeStamp(this.time))):(this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time)))},bindDateChange(e){const t=e.detail.value;this.year=this.years[t[0]],this.month=this.months[t[1]],this.day=this.days[t[2]]},bindTimeChange(e){const t=e.detail.value;this.hour=this.hours[t[0]],this.minute=this.minutes[t[1]],this.second=this.seconds[t[2]]},initTimePicker(){if(this.disabled)return;const e=xe(this.time);this.initPickerValue(e),this.visible=!this.visible},tiggerTimePicker(e){this.visible=!this.visible},clearTime(){this.time="",this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time),this.tiggerTimePicker()},setTime(){this.initTime(),this.tiggerTimePicker()}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker"},[e.createElementVNode("view",{onClick:a[0]||(a[0]=(...e)=>o.initTimePicker&&o.initTimePicker(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-datetime-picker-timebox-pointer",{"uni-datetime-picker-disabled":l.disabled,"uni-datetime-picker-timebox":l.border}])},[e.createElementVNode("text",{class:"uni-datetime-picker-text"},e.toDisplayString(i.time),1),i.time?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-datetime-picker-time"},[e.createElementVNode("text",{class:"uni-datetime-picker-text"},e.toDisplayString(o.selectTimeText),1)]))],2)]),!0)]),i.visible?(e.openBlock(),e.createElementBlock("view",{key:0,id:"mask",class:"uni-datetime-picker-mask",onClick:a[1]||(a[1]=(...e)=>o.tiggerTimePicker&&o.tiggerTimePicker(...e))})):e.createCommentVNode("",!0),i.visible?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["uni-datetime-picker-popup",[i.dateShow&&i.timeShow?"":"fix-nvue-height"]]),style:e.normalizeStyle(i.fixNvueBug)},[e.createElementVNode("view",{class:"uni-title"},[e.createElementVNode("text",{class:"uni-datetime-picker-text"},e.toDisplayString(o.selectTimeText),1)]),i.dateShow?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-datetime-picker__container-box"},[e.createElementVNode("picker-view",{class:"uni-datetime-picker-view","indicator-style":i.indicatorStyle,value:o.ymd,onChange:a[2]||(a[2]=(...e)=>o.bindDateChange&&o.bindDateChange(...e))},[e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.years,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.months,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.days,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))])],40,["indicator-style","value"]),e.createElementVNode("text",{class:"uni-datetime-picker-sign sign-left"},"-"),e.createElementVNode("text",{class:"uni-datetime-picker-sign sign-right"},"-")])):e.createCommentVNode("",!0),i.timeShow?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-datetime-picker__container-box"},[e.createElementVNode("picker-view",{class:e.normalizeClass(["uni-datetime-picker-view",[l.hideSecond?"time-hide-second":""]]),"indicator-style":i.indicatorStyle,value:o.hms,onChange:a[3]||(a[3]=(...e)=>o.bindTimeChange&&o.bindTimeChange(...e))},[e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.hours,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.minutes,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))]),l.hideSecond?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("picker-view-column",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.seconds,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-datetime-picker-item",key:a},[e.createElementVNode("text",{class:"uni-datetime-picker-item"},e.toDisplayString(o.lessThanTen(t)),1)])))),128))]))],42,["indicator-style","value"]),e.createElementVNode("text",{class:e.normalizeClass(["uni-datetime-picker-sign",[l.hideSecond?"sign-center":"sign-left"]])},":",2),l.hideSecond?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:0,class:"uni-datetime-picker-sign sign-right"},":"))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-datetime-picker-btn"},[e.createElementVNode("view",{onClick:a[4]||(a[4]=(...e)=>o.clearTime&&o.clearTime(...e))},[e.createElementVNode("text",{class:"uni-datetime-picker-btn-text"},e.toDisplayString(o.clearText),1)]),e.createElementVNode("view",{class:"uni-datetime-picker-btn-group"},[e.createElementVNode("view",{class:"uni-datetime-picker-cancel",onClick:a[5]||(a[5]=(...e)=>o.tiggerTimePicker&&o.tiggerTimePicker(...e))},[e.createElementVNode("text",{class:"uni-datetime-picker-btn-text"},e.toDisplayString(o.cancelText),1)]),e.createElementVNode("view",{onClick:a[6]||(a[6]=(...e)=>o.setTime&&o.setTime(...e))},[e.createElementVNode("text",{class:"uni-datetime-picker-btn-text"},e.toDisplayString(o.okText),1)])])])],6)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-4032e438"]]),{t:Be}=ne(Ce);const De=T({name:"UniDatetimePicker",options:{virtualHost:!0},components:{Calendar:T({components:{calendarItem:be,timePicker:Se},options:{virtualHost:!0},props:{date:{type:String,default:""},defTime:{type:[String,Object],default:""},selectableTimes:{type:[Object],default:()=>({})},selected:{type:Array,default:()=>[]},startDate:{type:String,default:""},endDate:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},range:{type:Boolean,default:!1},hasTime:{type:Boolean,default:!1},insert:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},clearDate:{type:Boolean,default:!0},checkHover:{type:Boolean,default:!0},hideSecond:{type:[Boolean],default:!1},pleStatus:{type:Object,default:()=>({before:"",after:"",data:[],fulldate:""})},defaultValue:{type:[String,Object,Array],default:""}},data:()=>({show:!1,weeks:[],calendar:{},nowDate:{},aniMaskShow:!1,firstEnter:!0,time:"",timeRange:{startTime:"",endTime:""},tempSingleDate:"",tempRange:{before:"",after:""}}),watch:{date:{immediate:!0,handler(e){this.range||(this.tempSingleDate=e,setTimeout((()=>{this.init(e)}),100))}},defTime:{immediate:!0,handler(e){this.range?(this.timeRange.startTime=e.start,this.timeRange.endTime=e.end):this.time=e}},startDate(e){this.cale&&(this.cale.setStartDate(e),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks)},endDate(e){this.cale&&(this.cale.setEndDate(e),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks)},selected(e){this.cale&&(this.cale.setSelectInfo(this.nowDate.fullDate,e),this.weeks=this.cale.weeks)},pleStatus:{immediate:!0,handler(e){const{before:t,after:a,fulldate:l,which:n}=e;this.tempRange.before=t,this.tempRange.after=a,setTimeout((()=>{if(l)if(this.cale.setHoverMultiple(l),t&&a){if(this.cale.lastHover=!0,this.rangeWithinMonth(a,t))return;this.setDate(t)}else this.cale.setMultiple(l),this.setDate(this.nowDate.fullDate),this.calendar.fullDate="",this.cale.lastHover=!1;else{if(!this.cale)return;this.cale.setDefaultMultiple(t,a),"left"===n&&t?(this.setDate(t),this.weeks=this.cale.weeks):a&&(this.setDate(a),this.weeks=this.cale.weeks),this.cale.lastHover=!0}}),16)}}},computed:{timepickerStartTime(){return(this.range?this.tempRange.before:this.calendar.fullDate)===this.startDate?this.selectableTimes.start:""},timepickerEndTime(){return(this.range?this.tempRange.after:this.calendar.fullDate)===this.endDate?this.selectableTimes.end:""},selectDateText:()=>Be("uni-datetime-picker.selectDate"),startDateText(){return this.startPlaceholder||Be("uni-datetime-picker.startDate")},endDateText(){return this.endPlaceholder||Be("uni-datetime-picker.endDate")},okText:()=>Be("uni-datetime-picker.ok"),yearText:()=>Be("uni-datetime-picker.year"),monthText:()=>Be("uni-datetime-picker.month"),MONText:()=>Be("uni-calender.MON"),TUEText:()=>Be("uni-calender.TUE"),WEDText:()=>Be("uni-calender.WED"),THUText:()=>Be("uni-calender.THU"),FRIText:()=>Be("uni-calender.FRI"),SATText:()=>Be("uni-calender.SAT"),SUNText:()=>Be("uni-calender.SUN"),confirmText:()=>Be("uni-calender.confirm")},created(){this.cale=new class{constructor({selected:e,startDate:t,endDate:a,range:l}={}){this.date=this.getDateObj(new Date),this.selected=e||[],this.startDate=t,this.endDate=a,this.range=l,this.cleanMultipleStatus(),this.weeks={},this.lastHover=!1}setDate(e){const t=this.getDateObj(e);this.getWeeks(t.fullDate)}cleanMultipleStatus(){this.multipleStatus={before:"",after:"",data:[]}}setStartDate(e){this.startDate=e}setEndDate(e){this.endDate=e}getPreMonthObj(e){e=xe(e);const t=(e=new Date(e)).getMonth();e.setMonth(t-1);const a=e.getMonth();return 0!==t&&a-t==0&&e.setMonth(a-1),this.getDateObj(e)}getNextMonthObj(e){e=xe(e);const t=(e=new Date(e)).getMonth();e.setMonth(t+1);const a=e.getMonth();return a-t>1&&e.setMonth(a-1),this.getDateObj(e)}getDateObj(e){return e=xe(e),{fullDate:fe(e=new Date(e)),year:e.getFullYear(),month:ye(e.getMonth()+1),date:ye(e.getDate()),day:e.getDay()}}getPreMonthDays(e,t){const a=[];for(let l=e-1;l>=0;l--){const e=t.month-1;a.push({date:new Date(t.year,e,-l).getDate(),month:e,disable:!0})}return a}getCurrentMonthDays(e,t){const a=[],l=this.date.fullDate;for(let n=1;n<=e;n++){const e=`${t.year}-${t.month}-${ye(n)}`,i=l===e,o=this.selected&&this.selected.find((t=>{if(this.dateEqual(e,t.date))return t}));this.startDate&&Ve(this.startDate,e),this.endDate&&Ve(e,this.endDate);let s=this.multipleStatus.data,c=-1;this.range&&s&&(c=s.findIndex((t=>this.dateEqual(t,e))));const r=-1!==c;a.push({fullDate:e,year:t.year,date:n,multiple:!!this.range&&r,beforeMultiple:this.isLogicBefore(e,this.multipleStatus.before,this.multipleStatus.after),afterMultiple:this.isLogicAfter(e,this.multipleStatus.before,this.multipleStatus.after),month:t.month,disable:this.startDate&&!Ve(this.startDate,e)||this.endDate&&!Ve(e,this.endDate),isToday:i,userChecked:!1,extraInfo:o})}return a}_getNextMonthDays(e,t){const a=[],l=t.month+1;for(let n=1;n<=e;n++)a.push({date:n,month:l,disable:!0});return a}getInfo(e){return e||(e=new Date),this.calendar.find((t=>t.fullDate===this.getDateObj(e).fullDate))}dateEqual(e,t){return e=new Date(xe(e)),t=new Date(xe(t)),e.valueOf()===t.valueOf()}isLogicBefore(e,t,a){let l=t;return t&&a&&(l=Ve(t,a)?t:a),this.dateEqual(l,e)}isLogicAfter(e,t,a){let l=a;return t&&a&&(l=Ve(t,a)?a:t),this.dateEqual(l,e)}geDateAll(e,t){var a=[],l=e.split("-"),n=t.split("-"),i=new Date;i.setFullYear(l[0],l[1]-1,l[2]);var o=new Date;o.setFullYear(n[0],n[1]-1,n[2]);for(var s=i.getTime()-864e5,c=o.getTime()-864e5,r=s;r<=c;)r+=864e5,a.push(this.getDateObj(new Date(parseInt(r))).fullDate);return a}setMultiple(e){if(!this.range)return;let{before:t,after:a}=this.multipleStatus;if(t&&a){if(!this.lastHover)return void(this.lastHover=!0);this.multipleStatus.before=e,this.multipleStatus.after="",this.multipleStatus.data=[],this.multipleStatus.fulldate="",this.lastHover=!1}else t?(this.multipleStatus.after=e,Ve(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before),this.lastHover=!0):(this.multipleStatus.before=e,this.multipleStatus.after=void 0,this.lastHover=!1);this.getWeeks(e)}setHoverMultiple(e){if(!this.range||this.lastHover)return;const{before:t}=this.multipleStatus;t?(this.multipleStatus.after=e,Ve(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=e,this.getWeeks(e)}setDefaultMultiple(e,t){this.multipleStatus.before=e,this.multipleStatus.after=t,e&&t&&(Ve(e,t)?(this.multipleStatus.data=this.geDateAll(e,t),this.getWeeks(t)):(this.multipleStatus.data=this.geDateAll(t,e),this.getWeeks(e)))}getWeeks(e){const{year:t,month:a}=this.getDateObj(e),l=new Date(t,a-1,1).getDay(),n=this.getPreMonthDays(l,this.getDateObj(e)),i=new Date(t,a,0).getDate(),o=42-l-i,s=[...n,...this.getCurrentMonthDays(i,this.getDateObj(e)),...this._getNextMonthDays(o,this.getDateObj(e))],c=new Array(6);for(let r=0;r<s.length;r++){const e=Math.floor(r/7);c[e]||(c[e]=new Array(7)),c[e][r%7]=s[r]}this.calendar=s,this.weeks=c}}({selected:this.selected,startDate:this.startDate,endDate:this.endDate,range:this.range}),this.init(this.date)},methods:{leaveCale(){this.firstEnter=!0},handleMouse(e){if(e.disable)return;if(this.cale.lastHover)return;let{before:t,after:a}=this.cale.multipleStatus;t&&(this.calendar=e,this.cale.setHoverMultiple(this.calendar.fullDate),this.weeks=this.cale.weeks,this.firstEnter&&(this.$emit("firstEnterCale",this.cale.multipleStatus),this.firstEnter=!1))},rangeWithinMonth(e,t){const[a,l]=e.split("-"),[n,i]=t.split("-");return a===n&&l===i},maskClick(){this.close(),this.$emit("maskClose")},clearCalender(){this.range?(this.timeRange.startTime="",this.timeRange.endTime="",this.tempRange.before="",this.tempRange.after="",this.cale.multipleStatus.before="",this.cale.multipleStatus.after="",this.cale.multipleStatus.data=[],this.cale.lastHover=!1):(this.time="",this.tempSingleDate=""),this.calendar.fullDate="",this.setDate(new Date)},bindDateChange(e){const t=e.detail.value+"-1";this.setDate(t)},init(e){if(this.cale&&(this.cale.setDate(e||new Date),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(e),this.calendar={...this.nowDate},!e&&(this.calendar.fullDate="",this.defaultValue&&!this.range))){const e=new Date(this.defaultValue),t=fe(e),a=e.getFullYear(),l=e.getMonth()+1,n=e.getDate(),i=e.getDay();this.calendar={fullDate:t,year:a,month:l,date:n,day:i},this.tempSingleDate=t,this.time=we(e,this.hideSecond)}},open(){this.clearDate&&!this.insert&&(this.cale.cleanMultipleStatus(),this.init(this.date)),this.show=!0,this.$nextTick((()=>{setTimeout((()=>{this.aniMaskShow=!0}),50)}))},close(){this.aniMaskShow=!1,this.$nextTick((()=>{setTimeout((()=>{this.show=!1,this.$emit("close")}),300)}))},confirm(){this.setEmit("confirm"),this.close()},change(e){(this.insert||e)&&this.setEmit("change")},monthSwitch(){let{year:e,month:t}=this.nowDate;this.$emit("monthSwitch",{year:e,month:Number(t)})},setEmit(e){this.range||(this.calendar.fullDate||(this.calendar=this.cale.getInfo(new Date),this.tempSingleDate=this.calendar.fullDate),this.hasTime&&!this.time&&(this.time=we(new Date,this.hideSecond)));let{year:t,month:a,date:l,fullDate:n,extraInfo:i}=this.calendar;this.$emit(e,{range:this.cale.multipleStatus,year:t,month:a,date:l,time:this.time,timeRange:this.timeRange,fulldate:n,extraInfo:i||{}})},choiceDate(e){if(e.disable)return;this.calendar=e,this.calendar.userChecked=!0,this.cale.setMultiple(this.calendar.fullDate,!0),this.weeks=this.cale.weeks,this.tempSingleDate=this.calendar.fullDate;const t=new Date(this.cale.multipleStatus.before).getTime(),a=new Date(this.cale.multipleStatus.after).getTime();t>a&&a?(this.tempRange.before=this.cale.multipleStatus.after,this.tempRange.after=this.cale.multipleStatus.before):(this.tempRange.before=this.cale.multipleStatus.before,this.tempRange.after=this.cale.multipleStatus.after),this.change(!0)},changeMonth(e){let t;"pre"===e?t=this.cale.getPreMonthObj(this.nowDate.fullDate).fullDate:"next"===e&&(t=this.cale.getNextMonthObj(this.nowDate.fullDate).fullDate),this.setDate(t),this.monthSwitch()},setDate(e){this.cale.setDate(e),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(e)}}},[["render",function(t,l,n,i,o,s){const c=e.resolveComponent("calendar-item"),r=e.resolveComponent("time-picker"),d=a(e.resolveDynamicComponent("uni-icons"),ue);return e.openBlock(),e.createElementBlock("view",{class:"uni-calendar",onMouseleave:l[9]||(l[9]=(...e)=>s.leaveCale&&s.leaveCale(...e))},[!n.insert&&o.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-calendar__mask",{"uni-calendar--mask-show":o.aniMaskShow}]),onClick:l[0]||(l[0]=(...e)=>s.maskClick&&s.maskClick(...e))},null,2)):e.createCommentVNode("",!0),n.insert||o.show?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["uni-calendar__content",{"uni-calendar--fixed":!n.insert,"uni-calendar--ani-show":o.aniMaskShow,"uni-calendar__content-mobile":o.aniMaskShow}])},[e.createElementVNode("view",{class:e.normalizeClass(["uni-calendar__header",{"uni-calendar__header-mobile":!n.insert}])},[e.createElementVNode("view",{class:"uni-calendar__header-btn-box",onClick:l[1]||(l[1]=e.withModifiers((e=>s.changeMonth("pre")),["stop"]))},[e.createElementVNode("view",{class:"uni-calendar__header-btn uni-calendar--left"})]),e.createElementVNode("picker",{mode:"date",value:n.date,fields:"month",onChange:l[2]||(l[2]=(...e)=>s.bindDateChange&&s.bindDateChange(...e))},[e.createElementVNode("text",{class:"uni-calendar__header-text"},e.toDisplayString((o.nowDate.year||"")+s.yearText+(o.nowDate.month||"")+s.monthText),1)],40,["value"]),e.createElementVNode("view",{class:"uni-calendar__header-btn-box",onClick:l[3]||(l[3]=e.withModifiers((e=>s.changeMonth("next")),["stop"]))},[e.createElementVNode("view",{class:"uni-calendar__header-btn uni-calendar--right"})]),n.insert?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"dialog-close",onClick:l[4]||(l[4]=(...e)=>s.maskClick&&s.maskClick(...e))},[e.createElementVNode("view",{class:"dialog-close-plus","data-id":"close"}),e.createElementVNode("view",{class:"dialog-close-plus dialog-close-rotate","data-id":"close"})]))],2),e.createElementVNode("view",{class:"uni-calendar__box"},[n.showMonth?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-calendar__box-bg"},[e.createElementVNode("text",{class:"uni-calendar__box-bg-text"},e.toDisplayString(o.nowDate.month),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-calendar__weeks",style:{"padding-bottom":"7px"}},[e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.SUNText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.MONText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.TUEText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.WEDText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.THUText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.FRIText),1)]),e.createElementVNode("view",{class:"uni-calendar__weeks-day"},[e.createElementVNode("text",{class:"uni-calendar__weeks-day-text"},e.toDisplayString(s.SATText),1)])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.weeks,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-calendar__weeks",key:a},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"uni-calendar__weeks-item",key:a},[e.createVNode(c,{class:"uni-calendar-item--hook",weeks:t,calendar:o.calendar,selected:n.selected,checkHover:n.range,onChange:s.choiceDate,onHandleMouse:s.handleMouse},null,8,["weeks","calendar","selected","checkHover","onChange","onHandleMouse"])])))),128))])))),128))]),n.insert||n.range||!n.hasTime?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-date-changed uni-calendar--fixed-top",style:{padding:"0 80px"}},[e.createElementVNode("view",{class:"uni-date-changed--time-date"},e.toDisplayString(o.tempSingleDate?o.tempSingleDate:s.selectDateText),1),e.createVNode(r,{type:"time",start:s.timepickerStartTime,end:s.timepickerEndTime,modelValue:o.time,"onUpdate:modelValue":l[5]||(l[5]=e=>o.time=e),disabled:!o.tempSingleDate,border:!1,"hide-second":n.hideSecond,class:"time-picker-style"},null,8,["start","end","modelValue","disabled","hide-second"])])),!n.insert&&n.range&&n.hasTime?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-date-changed uni-calendar--fixed-top"},[e.createElementVNode("view",{class:"uni-date-changed--time-start"},[e.createElementVNode("view",{class:"uni-date-changed--time-date"},e.toDisplayString(o.tempRange.before?o.tempRange.before:s.startDateText),1),e.createVNode(r,{type:"time",start:s.timepickerStartTime,modelValue:o.timeRange.startTime,"onUpdate:modelValue":l[6]||(l[6]=e=>o.timeRange.startTime=e),border:!1,"hide-second":n.hideSecond,disabled:!o.tempRange.before,class:"time-picker-style"},null,8,["start","modelValue","hide-second","disabled"])]),e.createElementVNode("view",{style:{"line-height":"50px"}},[e.createVNode(d,{type:"arrowthinright",color:"#999"})]),e.createElementVNode("view",{class:"uni-date-changed--time-end"},[e.createElementVNode("view",{class:"uni-date-changed--time-date"},e.toDisplayString(o.tempRange.after?o.tempRange.after:s.endDateText),1),e.createVNode(r,{type:"time",end:s.timepickerEndTime,modelValue:o.timeRange.endTime,"onUpdate:modelValue":l[7]||(l[7]=e=>o.timeRange.endTime=e),border:!1,"hide-second":n.hideSecond,disabled:!o.tempRange.after,class:"time-picker-style"},null,8,["end","modelValue","hide-second","disabled"])])])):e.createCommentVNode("",!0),n.insert?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-date-changed uni-date-btn--ok"},[e.createElementVNode("view",{class:"uni-datetime-picker--btn",onClick:l[8]||(l[8]=(...e)=>s.confirm&&s.confirm(...e))},e.toDisplayString(s.confirmText),1)]))],2)):e.createCommentVNode("",!0)],32)}],["__scopeId","data-v-f219fc6e"]]),TimePicker:Se},data:()=>({isRange:!1,hasTime:!1,displayValue:"",inputDate:"",calendarDate:"",pickerTime:"",calendarRange:{startDate:"",startTime:"",endDate:"",endTime:""},displayRangeValue:{startDate:"",endDate:""},tempRange:{startDate:"",startTime:"",endDate:"",endTime:""},startMultipleStatus:{before:"",after:"",data:[],fulldate:""},endMultipleStatus:{before:"",after:"",data:[],fulldate:""},pickerVisible:!1,pickerPositionStyle:null,isEmitValue:!1,isPhone:!1,isFirstShow:!0,i18nT:()=>{}}),props:{type:{type:String,default:"datetime"},value:{type:[String,Number,Array,Date],default:""},modelValue:{type:[String,Number,Array,Date],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},placeholder:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},rangeSeparator:{type:String,default:"-"},border:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},clearIcon:{type:[Boolean],default:!0},hideSecond:{type:[Boolean],default:!1},defaultValue:{type:[String,Object,Array],default:""}},watch:{type:{immediate:!0,handler(e){this.hasTime=-1!==e.indexOf("time"),this.isRange=-1!==e.indexOf("range")}},modelValue:{immediate:!0,handler(e){this.isEmitValue?this.isEmitValue=!1:this.initPicker(e)}},start:{immediate:!0,handler(e){e&&(this.calendarRange.startDate=fe(e),this.hasTime&&(this.calendarRange.startTime=we(e)))}},end:{immediate:!0,handler(e){e&&(this.calendarRange.endDate=fe(e),this.hasTime&&(this.calendarRange.endTime=we(e,this.hideSecond)))}}},computed:{timepickerStartTime(){return(this.isRange?this.tempRange.startDate:this.inputDate)===this.calendarRange.startDate?this.calendarRange.startTime:""},timepickerEndTime(){return(this.isRange?this.tempRange.endDate:this.inputDate)===this.calendarRange.endDate?this.calendarRange.endTime:""},mobileCalendarTime(){const e={start:this.tempRange.startTime,end:this.tempRange.endTime};return this.isRange?e:this.pickerTime},mobSelectableTime(){return{start:this.calendarRange.startTime,end:this.calendarRange.endTime}},datePopupWidth(){return this.isRange?653:301},singlePlaceholderText(){return this.placeholder||("date"===this.type?this.selectDateText:this.selectDateTimeText)},startPlaceholderText(){return this.startPlaceholder||this.startDateText},endPlaceholderText(){return this.endPlaceholder||this.endDateText},selectDateText(){return this.i18nT("uni-datetime-picker.selectDate")},selectDateTimeText(){return this.i18nT("uni-datetime-picker.selectDateTime")},selectTimeText(){return this.i18nT("uni-datetime-picker.selectTime")},startDateText(){return this.startPlaceholder||this.i18nT("uni-datetime-picker.startDate")},startTimeText(){return this.i18nT("uni-datetime-picker.startTime")},endDateText(){return this.endPlaceholder||this.i18nT("uni-datetime-picker.endDate")},endTimeText(){return this.i18nT("uni-datetime-picker.endTime")},okText(){return this.i18nT("uni-datetime-picker.ok")},clearText(){return this.i18nT("uni-datetime-picker.clear")},showClearIcon(){return this.clearIcon&&!this.disabled&&(this.displayValue||this.displayRangeValue.startDate&&this.displayRangeValue.endDate)}},created(){this.initI18nT(),this.platform()},methods:{initI18nT(){const e=ne(Ce);this.i18nT=e.t},initPicker(e){if(!e&&!this.defaultValue||Array.isArray(e)&&!e.length)this.$nextTick((()=>{this.clear(!1)}));else if(Array.isArray(e)||this.isRange){const[t,a]=e;if(!t&&!a)return;const l=fe(t),n=we(t,this.hideSecond),i=fe(a),o=we(a,this.hideSecond),s=l,c=i;this.displayRangeValue.startDate=this.tempRange.startDate=s,this.displayRangeValue.endDate=this.tempRange.endDate=c,this.hasTime&&(this.displayRangeValue.startDate=`${l} ${n}`,this.displayRangeValue.endDate=`${i} ${o}`,this.tempRange.startTime=n,this.tempRange.endTime=o);const r={before:l,after:i};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,r,{which:"right"}),this.endMultipleStatus=Object.assign({},this.endMultipleStatus,r,{which:"left"})}else e?(this.displayValue=this.inputDate=this.calendarDate=fe(e),this.hasTime&&(this.pickerTime=we(e,this.hideSecond),this.displayValue=`${this.displayValue} ${this.pickerTime}`)):this.defaultValue&&(this.inputDate=this.calendarDate=fe(this.defaultValue),this.hasTime&&(this.pickerTime=we(this.defaultValue,this.hideSecond)))},updateLeftCale(e){const t=this.$refs.left;t.cale.setHoverMultiple(e.after),t.setDate(this.$refs.left.nowDate.fullDate)},updateRightCale(e){const t=this.$refs.right;t.cale.setHoverMultiple(e.after),t.setDate(this.$refs.right.nowDate.fullDate)},platform(){if("undefined"!=typeof navigator)return void(this.isPhone=-1!==navigator.userAgent.toLowerCase().indexOf("mobile"));const{windowWidth:e}=uni.getSystemInfoSync();this.isPhone=e<=500,this.windowWidth=e},show(){if(this.$emit("show"),this.disabled)return;if(this.platform(),this.isPhone)return void setTimeout((()=>{this.$refs.mobile.open()}),0);this.pickerPositionStyle={top:"10px"};uni.createSelectorQuery().in(this).select(".uni-date-editor").boundingClientRect((e=>{this.windowWidth-e.left<this.datePopupWidth&&(this.pickerPositionStyle.right=0)})).exec(),setTimeout((()=>{if(this.pickerVisible=!this.pickerVisible,!this.isPhone&&this.isRange&&this.isFirstShow){this.isFirstShow=!1;const{startDate:e,endDate:t}=this.calendarRange;e&&t?this.diffDate(e,t)<30&&this.$refs.right.changeMonth("pre"):this.isPhone&&(this.$refs.right.cale.lastHover=!1)}}),50)},close(){setTimeout((()=>{this.pickerVisible=!1,this.$emit("maskClick",this.value),this.$refs.mobile&&this.$refs.mobile.close()}),20)},setEmit(e){"timestamp"!==this.returnType&&"date"!==this.returnType||(Array.isArray(e)?(this.hasTime||(e[0]=e[0]+" 00:00:00",e[1]=e[1]+" 00:00:00"),e[0]=this.createTimestamp(e[0]),e[1]=this.createTimestamp(e[1]),"date"===this.returnType&&(e[0]=new Date(e[0]),e[1]=new Date(e[1]))):(this.hasTime||(e+=" 00:00:00"),e=this.createTimestamp(e),"date"===this.returnType&&(e=new Date(e)))),this.$emit("update:modelValue",e),this.$emit("input",e),this.$emit("change",e),this.isEmitValue=!0},createTimestamp:e=>(e=xe(e),Date.parse(new Date(e))),singleChange(e){this.calendarDate=this.inputDate=e.fulldate,this.hasTime||this.confirmSingleChange()},confirmSingleChange(){if(!Ne(this.inputDate)){const e=new Date;this.calendarDate=this.inputDate=fe(e),this.pickerTime=we(e,this.hideSecond)}let e,t,a=!1;if(this.start){let l=this.start;"number"==typeof this.start&&(l=ve(this.start,this.hideSecond)),[e,t]=l.split(" "),this.start&&!Ve(e,this.inputDate)&&(a=!0,this.inputDate=e)}let l,n,i=!1;if(this.end){let e=this.end;"number"==typeof this.end&&(e=ve(this.end,this.hideSecond)),[l,n]=e.split(" "),this.end&&!Ve(this.inputDate,l)&&(i=!0,this.inputDate=l)}this.hasTime?(a&&(this.pickerTime=t||ke(this.hideSecond)),i&&(this.pickerTime=n||ke(this.hideSecond)),this.pickerTime||(this.pickerTime=we(Date.now(),this.hideSecond)),this.displayValue=`${this.inputDate} ${this.pickerTime}`):this.displayValue=this.inputDate,this.setEmit(this.displayValue),this.pickerVisible=!1},leftChange(e){const{before:t,after:a}=e.range;this.rangeChange(t,a);const l={before:e.range.before,after:e.range.after,data:e.range.data,fulldate:e.fulldate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,l),this.$emit("calendarClick",e)},rightChange(e){const{before:t,after:a}=e.range;this.rangeChange(t,a);const l={before:e.range.before,after:e.range.after,data:e.range.data,fulldate:e.fulldate};this.endMultipleStatus=Object.assign({},this.endMultipleStatus,l),this.$emit("calendarClick",e)},mobileChange(e){if(this.isRange){const{before:t,after:a}=e.range;if(!t)return;if(this.handleStartAndEnd(t,a,!0),this.hasTime){const{startTime:t,endTime:a}=e.timeRange;this.tempRange.startTime=t,this.tempRange.endTime=a}this.confirmRangeChange()}else this.hasTime?this.displayValue=e.fulldate+" "+e.time:this.displayValue=e.fulldate,this.setEmit(this.displayValue);this.$refs.mobile.close()},rangeChange(e,t){e&&t&&(this.handleStartAndEnd(e,t,!0),this.hasTime||this.confirmRangeChange())},confirmRangeChange(){if(!this.tempRange.startDate||!this.tempRange.endDate)return void(this.pickerVisible=!1);let e,t;Ne(this.tempRange.startDate)||(this.tempRange.startDate=fe(Date.now())),Ne(this.tempRange.endDate)||(this.tempRange.endDate=fe(Date.now()));let a,l,n=!1,i=!1;if(this.start){let e=this.start;"number"==typeof this.start&&(e=ve(this.start,this.hideSecond)),[a,l]=e.split(" "),this.start&&!Ve(this.start,this.tempRange.startDate)&&(n=!0,this.tempRange.startDate=a),this.start&&!Ve(this.start,this.tempRange.endDate)&&(i=!0,this.tempRange.endDate=a)}let o,s,c=!1,r=!1;if(this.end){let e=this.end;"number"==typeof this.end&&(e=ve(this.end,this.hideSecond)),[o,s]=e.split(" "),this.end&&!Ve(this.tempRange.startDate,this.end)&&(c=!0,this.tempRange.startDate=o),this.end&&!Ve(this.tempRange.endDate,this.end)&&(r=!0,this.tempRange.endDate=o)}this.hasTime?(n?this.tempRange.startTime=l||ke(this.hideSecond):c&&(this.tempRange.startTime=s||ke(this.hideSecond)),this.tempRange.startTime||(this.tempRange.startTime=we(Date.now(),this.hideSecond)),i?this.tempRange.endTime=l||ke(this.hideSecond):r&&(this.tempRange.endTime=s||ke(this.hideSecond)),this.tempRange.endTime||(this.tempRange.endTime=we(Date.now(),this.hideSecond)),e=this.displayRangeValue.startDate=`${this.tempRange.startDate} ${this.tempRange.startTime}`,t=this.displayRangeValue.endDate=`${this.tempRange.endDate} ${this.tempRange.endTime}`):(e=this.displayRangeValue.startDate=this.tempRange.startDate,t=this.displayRangeValue.endDate=this.tempRange.endDate),Ve(e,t)||([e,t]=[t,e]),this.displayRangeValue.startDate=e,this.displayRangeValue.endDate=t;const d=[e,t];this.setEmit(d),this.pickerVisible=!1},handleStartAndEnd(e,t,a=!1){if(!e)return;t||(t=e);const l=a?"tempRange":"range",n=Ve(e,t);this[l].startDate=n?e:t,this[l].endDate=n?t:e},dateCompare:(e,t)=>(e=new Date(e.replace("-","/").replace("-","/")))<=(t=new Date(t.replace("-","/").replace("-","/"))),diffDate(e,t){e=new Date(e.replace("-","/").replace("-","/"));const a=((t=new Date(t.replace("-","/").replace("-","/")))-e)/864e5;return Math.abs(a)},clear(e=!0){this.isRange?(this.displayRangeValue.startDate="",this.displayRangeValue.endDate="",this.tempRange.startDate="",this.tempRange.startTime="",this.tempRange.endDate="",this.tempRange.endTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():(this.$refs.left&&this.$refs.left.clearCalender(),this.$refs.right&&this.$refs.right.clearCalender(),this.$refs.right&&this.$refs.right.changeMonth("next")),e&&(this.$emit("change",[]),this.$emit("input",[]),this.$emit("update:modelValue",[]))):(this.displayValue="",this.inputDate="",this.pickerTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():this.$refs.pcSingle&&this.$refs.pcSingle.clearCalender(),e&&(this.$emit("change",""),this.$emit("input",""),this.$emit("update:modelValue","")))},calendarClick(e){this.$emit("calendarClick",e)}}},[["render",function(t,l,n,i,o,s){const c=a(e.resolveDynamicComponent("uni-icons"),ue),r=e.resolveComponent("time-picker"),d=e.resolveComponent("Calendar");return e.openBlock(),e.createElementBlock("view",{class:"uni-date"},[e.createElementVNode("view",{class:"uni-date-editor",onClick:l[1]||(l[1]=(...e)=>s.show&&s.show(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-date-editor--x",{"uni-date-editor--x__disabled":n.disabled,"uni-date-x--border":n.border}])},[o.isRange?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-date-x uni-date-range"},[e.createVNode(c,{class:"icon-calendar",type:"calendar",color:"#c0c4cc",size:"22"}),e.createElementVNode("view",{class:"uni-date__x-input text-center"},e.toDisplayString(o.displayRangeValue.startDate||s.startPlaceholderText),1),e.createElementVNode("view",{class:"range-separator"},e.toDisplayString(n.rangeSeparator),1),e.createElementVNode("view",{class:"uni-date__x-input text-center"},e.toDisplayString(o.displayRangeValue.endDate||s.endPlaceholderText),1)])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-date-x uni-date-single"},[e.createVNode(c,{class:"icon-calendar",type:"calendar",color:"#c0c4cc",size:"22"}),e.createElementVNode("view",{class:"uni-date__x-input"},e.toDisplayString(o.displayValue||s.singlePlaceholderText),1)])),s.showClearIcon?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-date__icon-clear",onClick:l[0]||(l[0]=e.withModifiers(((...e)=>s.clear&&s.clear(...e)),["stop"]))},[e.createVNode(c,{type:"clear",color:"#c0c4cc",size:"22"})])):e.createCommentVNode("",!0)],2)]),!0)]),e.withDirectives(e.createElementVNode("view",{class:"uni-date-mask--pc",onClick:l[2]||(l[2]=(...e)=>s.close&&s.close(...e))},null,512),[[e.vShow,o.pickerVisible]]),o.isPhone?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("view",{key:0,ref:"datePicker",class:"uni-date-picker__container"},[o.isRange?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-date-range--x",style:e.normalizeStyle(o.pickerPositionStyle)},[e.createElementVNode("view",{class:"uni-popper__arrow"}),o.hasTime?(e.openBlock(),e.createElementBlock("view",{key:0,class:"popup-x-header uni-date-changed"},[e.createElementVNode("view",{class:"popup-x-header--datetime"},[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input uni-date-range__input",type:"text","onUpdate:modelValue":l[7]||(l[7]=e=>o.tempRange.startDate=e),placeholder:s.startDateText},null,8,["placeholder"]),[[e.vModelText,o.tempRange.startDate]]),e.createVNode(r,{type:"time",modelValue:o.tempRange.startTime,"onUpdate:modelValue":l[9]||(l[9]=e=>o.tempRange.startTime=e),start:s.timepickerStartTime,border:!1,disabled:!o.tempRange.startDate,hideSecond:n.hideSecond},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input uni-date-range__input",type:"text","onUpdate:modelValue":l[8]||(l[8]=e=>o.tempRange.startTime=e),placeholder:s.startTimeText,disabled:!o.tempRange.startDate},null,8,["placeholder","disabled"]),[[e.vModelText,o.tempRange.startTime]])])),_:1},8,["modelValue","start","disabled","hideSecond"])]),e.createVNode(c,{type:"arrowthinright",color:"#999",style:{"line-height":"40px"}}),e.createElementVNode("view",{class:"popup-x-header--datetime"},[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input uni-date-range__input",type:"text","onUpdate:modelValue":l[10]||(l[10]=e=>o.tempRange.endDate=e),placeholder:s.endDateText},null,8,["placeholder"]),[[e.vModelText,o.tempRange.endDate]]),e.createVNode(r,{type:"time",modelValue:o.tempRange.endTime,"onUpdate:modelValue":l[12]||(l[12]=e=>o.tempRange.endTime=e),end:s.timepickerEndTime,border:!1,disabled:!o.tempRange.endDate,hideSecond:n.hideSecond},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input uni-date-range__input",type:"text","onUpdate:modelValue":l[11]||(l[11]=e=>o.tempRange.endTime=e),placeholder:s.endTimeText,disabled:!o.tempRange.endDate},null,8,["placeholder","disabled"]),[[e.vModelText,o.tempRange.endTime]])])),_:1},8,["modelValue","end","disabled","hideSecond"])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"popup-x-body"},[e.createVNode(d,{ref:"left",showMonth:!1,"start-date":o.calendarRange.startDate,"end-date":o.calendarRange.endDate,range:!0,pleStatus:o.endMultipleStatus,onChange:s.leftChange,onFirstEnterCale:s.updateRightCale,style:{padding:"0 8px"}},null,8,["start-date","end-date","pleStatus","onChange","onFirstEnterCale"]),e.createVNode(d,{ref:"right",showMonth:!1,"start-date":o.calendarRange.startDate,"end-date":o.calendarRange.endDate,range:!0,onChange:s.rightChange,pleStatus:o.startMultipleStatus,onFirstEnterCale:s.updateLeftCale,style:{padding:"0 8px","border-left":"1px solid #F1F1F1"}},null,8,["start-date","end-date","onChange","pleStatus","onFirstEnterCale"])]),o.hasTime?(e.openBlock(),e.createElementBlock("view",{key:1,class:"popup-x-footer"},[e.createElementVNode("text",{onClick:l[13]||(l[13]=(...e)=>s.clear&&s.clear(...e))},e.toDisplayString(s.clearText),1),e.createElementVNode("text",{class:"confirm-text",onClick:l[14]||(l[14]=(...e)=>s.confirmRangeChange&&s.confirmRangeChange(...e))},e.toDisplayString(s.okText),1)])):e.createCommentVNode("",!0)],4)):(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-date-single--x",style:e.normalizeStyle(o.pickerPositionStyle)},[e.createElementVNode("view",{class:"uni-popper__arrow"}),o.hasTime?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-date-changed popup-x-header"},[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input text-center",type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>o.inputDate=e),placeholder:s.selectDateText},null,8,["placeholder"]),[[e.vModelText,o.inputDate]]),e.createVNode(r,{type:"time",modelValue:o.pickerTime,"onUpdate:modelValue":l[5]||(l[5]=e=>o.pickerTime=e),border:!1,disabled:!o.inputDate,start:s.timepickerStartTime,end:s.timepickerEndTime,hideSecond:n.hideSecond,style:{width:"100%"}},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-date__input text-center",type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>o.pickerTime=e),placeholder:s.selectTimeText,disabled:!o.inputDate},null,8,["placeholder","disabled"]),[[e.vModelText,o.pickerTime]])])),_:1},8,["modelValue","disabled","start","end","hideSecond"])])):e.createCommentVNode("",!0),e.createVNode(d,{ref:"pcSingle",showMonth:!1,"start-date":o.calendarRange.startDate,"end-date":o.calendarRange.endDate,date:o.calendarDate,onChange:s.singleChange,"default-value":n.defaultValue,style:{padding:"0 8px"}},null,8,["start-date","end-date","date","onChange","default-value"]),o.hasTime?(e.openBlock(),e.createElementBlock("view",{key:1,class:"popup-x-footer"},[e.createElementVNode("text",{class:"confirm-text",onClick:l[6]||(l[6]=(...e)=>s.confirmSingleChange&&s.confirmSingleChange(...e))},e.toDisplayString(s.okText),1)])):e.createCommentVNode("",!0)],4))],512)),[[e.vShow,o.pickerVisible]]),o.isPhone?(e.openBlock(),e.createBlock(d,{key:1,ref:"mobile",clearDate:!1,date:o.calendarDate,defTime:s.mobileCalendarTime,"start-date":o.calendarRange.startDate,"end-date":o.calendarRange.endDate,selectableTimes:s.mobSelectableTime,startPlaceholder:n.startPlaceholder,endPlaceholder:n.endPlaceholder,"default-value":n.defaultValue,pleStatus:o.endMultipleStatus,showMonth:!1,range:o.isRange,hasTime:o.hasTime,insert:!1,hideSecond:n.hideSecond,onConfirm:s.mobileChange,onMaskClose:s.close,onChange:s.calendarClick},null,8,["date","defTime","start-date","end-date","selectableTimes","startPlaceholder","endPlaceholder","default-value","pleStatus","range","hasTime","hideSecond","onConfirm","onMaskClose","onChange"])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-d07cfb0c"]]);const Me=T({name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1},width:{type:Number,default:40}},data:()=>({inputValue:0}),watch:{value(e){this.inputValue=+e},modelValue(e){this.inputValue=+e}},computed:{widthWithPx(){return this.width+"px"}},created(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue(e){if(this.disabled)return;const t=this._getDecimalScale();let a=this.inputValue*t,l=this.step*t;if("minus"===e){if(a-=l,a<this.min*t)return;a>this.max*t&&(a=this.max*t)}if("plus"===e){if(a+=l,a>this.max*t)return;a<this.min*t&&(a=this.min*t)}this.inputValue=(a/t).toFixed(String(t).length-1),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue),this.$emit("change",+this.inputValue)},_getDecimalScale(){let e=1;return~~this.step!==this.step&&(e=Math.pow(10,String(this.step).split(".")[1].length)),e},_onBlur(e){this.$emit("blur",e);let t=e.detail.value;if(isNaN(t))return void(this.inputValue=this.value);t=+t,t>this.max?t=this.max:t<this.min&&(t=this.min);const a=this._getDecimalScale();this.inputValue=t.toFixed(String(a).length-1),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue),this.$emit("change",+this.inputValue)},_onFocus(e){this.$emit("focus",e)}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:"uni-numbox"},[e.createElementVNode("view",{onClick:a[0]||(a[0]=e=>o._calcValue("minus")),class:"uni-numbox__minus uni-numbox-btns",style:e.normalizeStyle({background:l.background})},[e.createElementVNode("text",{class:e.normalizeClass(["uni-numbox--text",{"uni-numbox--disabled":i.inputValue<=l.min||l.disabled}]),style:e.normalizeStyle({color:l.color})},"-",6)],4),e.withDirectives(e.createElementVNode("input",{disabled:l.disabled,onFocus:a[1]||(a[1]=(...e)=>o._onFocus&&o._onFocus(...e)),onBlur:a[2]||(a[2]=(...e)=>o._onBlur&&o._onBlur(...e)),class:"uni-numbox__value",type:l.step<1?"digit":"number","onUpdate:modelValue":a[3]||(a[3]=e=>i.inputValue=e),style:e.normalizeStyle({background:l.background,color:l.color,width:o.widthWithPx})},null,44,["disabled","type"]),[[e.vModelDynamic,i.inputValue]]),e.createElementVNode("view",{onClick:a[4]||(a[4]=e=>o._calcValue("plus")),class:"uni-numbox__plus uni-numbox-btns",style:e.normalizeStyle({background:l.background})},[e.createElementVNode("text",{class:e.normalizeClass(["uni-numbox--text",{"uni-numbox--disabled":i.inputValue>=l.max||l.disabled}]),style:e.normalizeStyle({color:l.color})},"+",6)],4)])}],["__scopeId","data-v-65cea6c0"]]);var ze={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")};const _e={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function Ae(e,t=""){["label"].forEach((t=>{void 0===e[t]&&(e[t]="")}));let a=t;for(let l in e){let t=new RegExp("{"+l+"}");a=a.replace(t,e[l])}return a}const Ie={integer:e=>Ie.number(e)&&parseInt(e,10)===e,string:e=>"string"==typeof e,number:e=>!isNaN(e)&&"number"==typeof e,boolean:function(e){return"boolean"==typeof e},float:function(e){return Ie.number(e)&&!Ie.integer(e)},array:e=>Array.isArray(e),object:e=>"object"==typeof e&&!Ie.array(e),date:e=>e instanceof Date,timestamp(e){return!(!this.integer(e)||Math.abs(e).toString().length>16)},file:e=>"string"==typeof e.url,email:e=>"string"==typeof e&&!!e.match(ze.email)&&e.length<255,url:e=>"string"==typeof e&&!!e.match(ze.url),pattern(e,t){try{return new RegExp(e).test(t)}catch(a){return!1}},method:e=>"function"==typeof e,idcard:e=>"string"==typeof e&&!!e.match(ze.idcard),"url-https"(e){return this.url(e)&&e.startsWith("https://")},"url-scheme":e=>e.startsWith("://"),"url-web":e=>!1};const je={required:(e,t,a)=>e.required&&function(e,t){return null==e||"string"==typeof e&&!e||!(!Array.isArray(e)||e.length)||"object"===t&&!Object.keys(e).length}(t,e.format||typeof t)?Ae(e,e.errorMessage||a.required):null,range(e,t,a){const{range:l,errorMessage:n}=e;let i=new Array(l.length);for(let s=0;s<l.length;s++){const e=l[s];Ie.object(e)&&void 0!==e.value?i[s]=e.value:i[s]=e}let o=!1;return Array.isArray(t)?o=new Set(t.concat(i)).size===i.length:i.indexOf(t)>-1&&(o=!0),o?null:Ae(e,n||a.enum)},rangeNumber(e,t,a){if(!Ie.number(t))return Ae(e,e.errorMessage||a.pattern.mismatch);let{minimum:l,maximum:n,exclusiveMinimum:i,exclusiveMaximum:o}=e,s=i?t<=l:t<l,c=o?t>=n:t>n;return void 0!==l&&s?Ae(e,e.errorMessage||a.number[i?"exclusiveMinimum":"minimum"]):void 0!==n&&c?Ae(e,e.errorMessage||a.number[o?"exclusiveMaximum":"maximum"]):void 0!==l&&void 0!==n&&(s||c)?Ae(e,e.errorMessage||a.number.range):null},rangeLength(e,t,a){if(!Ie.string(t)&&!Ie.array(t))return Ae(e,e.errorMessage||a.pattern.mismatch);let l=e.minLength,n=e.maxLength,i=t.length;return void 0!==l&&i<l?Ae(e,e.errorMessage||a.length.minLength):void 0!==n&&i>n?Ae(e,e.errorMessage||a.length.maxLength):void 0!==l&&void 0!==n&&(i<l||i>n)?Ae(e,e.errorMessage||a.length.range):null},pattern:(e,t,a)=>Ie.pattern(e.pattern,t)?null:Ae(e,e.errorMessage||a.pattern.mismatch),format(e,t,a){var l=Object.keys(Ie),n=_e[e.format]?_e[e.format]:e.format||e.arrayType;return l.indexOf(n)>-1&&!Ie[n](t)?Ae(e,e.errorMessage||a.typeError):null},arrayTypeFormat(e,t,a){if(!Array.isArray(t))return Ae(e,e.errorMessage||a.typeError);for(let l=0;l<t.length;l++){const n=t[l];let i=this.format(e,n,a);if(null!==i)return i}return null}};class Le extends class{constructor(e){this._message=e}async validateRule(e,t,a,l,n){var i=null;let o=t.rules;if(o.findIndex((e=>e.required))<0){if(null==a)return i;if("string"==typeof a&&!a.length)return i}var s=this._message;if(void 0===o)return s.default;for(var c=0;c<o.length;c++){let r=o[c],d=this._getValidateType(r);if(Object.assign(r,{label:t.label||`["${e}"]`}),je[d]&&null!=(i=je[d](r,a,s)))break;if(r.validateExpr){let e=Date.now();if(!1===r.validateExpr(a,n,e)){i=this._getMessage(r,r.errorMessage||this._message.default);break}}if(r.validateFunction&&null!==(i=await this.validateFunction(r,a,l,n,d)))break}return null!==i&&(i=s.TAG+i),i}async validateFunction(e,t,a,l,n){let i=null;try{let o=null;const s=await e.validateFunction(e,t,l||a,(e=>{o=e}));(o||"string"==typeof s&&s||!1===s)&&(i=this._getMessage(e,o||s,n))}catch(o){i=this._getMessage(e,o.message,n)}return i}_getMessage(e,t,a){return Ae(e,t||e.errorMessage||this._message[a]||t.default)}_getValidateType(e){var t="";return e.required?t="required":e.format?t="format":e.arrayType?t="arrayTypeFormat":e.range?t="range":void 0!==e.maximum||void 0!==e.minimum?t="rangeNumber":void 0!==e.maxLength||void 0!==e.minLength?t="rangeLength":e.pattern?t="pattern":e.validateFunction&&(t="validateFunction"),t}}{constructor(e,t){super(Le.message),this._schema=e,this._options=t||null}updateSchema(e){this._schema=e}async validate(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidate(e,!1,t)),a.length?a[0]:null}async validateAll(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidate(e,!0,t)),a}async validateUpdate(e,t){let a=this._checkFieldInSchema(e);return a||(a=await this.invokeValidateUpdate(e,!1,t)),a.length?a[0]:null}async invokeValidate(e,t,a){let l=[],n=this._schema;for(let i in n){let o=n[i],s=await this.validateRule(i,o,e[i],e,a);if(null!=s&&(l.push({key:i,errorMessage:s}),!t))break}return l}async invokeValidateUpdate(e,t,a){let l=[];for(let n in e){let i=await this.validateRule(n,this._schema[n],e[n],e,a);if(null!=i&&(l.push({key:n,errorMessage:i}),!t))break}return l}_checkFieldInSchema(e){var t=Object.keys(e),a=Object.keys(this._schema);if(new Set(t.concat(a)).size===a.length)return"";var l=t.filter((e=>a.indexOf(e)<0));return[{key:"invalid",errorMessage:Ae({field:JSON.stringify(l)},Le.message.TAG+Le.message.defaultInvalid)}]}}Le.message=new function(){return{TAG:"",default:"验证错误",defaultInvalid:"提交的字段{field}在数据库中并不存在",validateFunction:"验证无效",required:"{label}必填",enum:"{label}超出范围",timestamp:"{label}格式无效",whitespace:"{label}不能为空",typeError:"{label}类型无效",date:{format:"{label}日期{value}格式无效",parse:"{label}日期无法解析,{value}无效",invalid:"{label}日期{value}无效"},length:{minLength:"{label}长度不能少于{minLength}",maxLength:"{label}长度不能超过{maxLength}",range:"{label}必须介于{minLength}和{maxLength}之间"},number:{minimum:"{label}不能小于{minimum}",maximum:"{label}不能大于{maximum}",exclusiveMinimum:"{label}不能小于等于{minimum}",exclusiveMaximum:"{label}不能大于等于{maximum}",range:"{label}必须介于{minimum}and{maximum}之间"},pattern:{mismatch:"{label}格式不匹配"}}};const Re=(e,t,a)=>{const l=a.find((e=>{return e.format&&("int"===(t=e.format)||"double"===t||"number"===t||"timestamp"===t);var t})),n=a.find((e=>e.format&&"boolean"===e.format||"bool"===e.format));return l&&(t=t||0===t?Oe(Number(t))?Number(t):t:null),n&&(t=!!We(t)&&t),t},Fe=(e,t)=>qe(t,e),Ue=(e,t={})=>{const a=$e(e);if("object"==typeof a&&Array.isArray(a)&&a.length>1){return a.reduce(((e,t)=>e+`#${t}`),"_formdata_")}return a[0]||e},He=e=>{let t=e.replace("_formdata_#","");return t=t.split("#").map((e=>Oe(e)?Number(e):e)),t},Pe=(e,t,a)=>("object"!=typeof e||$e(t).reduce(((e,t,l,n)=>l===n.length-1?(e[t]=a,null):(t in e||(e[t]=/^[0-9]{1,}$/.test(n[l+1])?[]:{}),e[t])),e),e);function $e(e){return Array.isArray(e)?e:e.replace(/\[/g,".").replace(/\]/g,"").split(".")}const qe=(e,t,a="undefined")=>{let l=$e(t).reduce(((e,t)=>(e||{})[t]),e);return l&&void 0===l?a:l},Oe=e=>!isNaN(Number(e)),We=e=>"boolean"==typeof e;const Ge=T({name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:()=>null},modelValue:{type:Object,default:()=>null},model:{type:Object,default:()=>null},rules:{type:Object,default:()=>({})},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide(){return{uniForm:this}},data:()=>({formData:{},formRules:{}}),computed:{localData(){const e=this.model||this.modelValue||this.value;return e?(t=e,JSON.parse(JSON.stringify(t))):{};var t}},watch:{rules:{handler:function(e,t){this.setRules(e)},deep:!0,immediate:!0}},created(){getApp().$vm.$.appContext.config.globalProperties.binddata||(getApp().$vm.$.appContext.config.globalProperties.binddata=function(e,a,l){if(l)this.$refs[l].setValue(e,a);else{let l;for(let e in this.$refs){const t=this.$refs[e];if(t&&t.$options&&"uniForms"===t.$options.name){l=t;break}}if(!l)return t("error","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:182","当前 uni-froms 组件缺少 ref 属性");l.setValue(e,a)}}),this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules(e){this.formRules=Object.assign({},this.formRules,e),this.validator=new Le(e)},setValue(e,t){let a=this.childrens.find((t=>t.name===e));return a?(this.formData[e]=Re(0,t,this.formRules[e]&&this.formRules[e].rules||[]),a.onFieldChange(this.formData[e])):null},validate(e,t){return this.checkAll(this.formData,e,t)},validateField(e=[],t){e=[].concat(e);let a={};return this.childrens.forEach((t=>{const l=Ue(t.name);-1!==e.indexOf(l)&&(a=Object.assign({},a,{[l]:this.formData[l]}))})),this.checkAll(a,[],t)},clearValidate(e=[]){e=[].concat(e),this.childrens.forEach((t=>{if(0===e.length)t.errMsg="";else{const a=Ue(t.name);-1!==e.indexOf(a)&&(t.errMsg="")}}))},submit(e,a,l){for(let t in this.dataValue){this.childrens.find((e=>e.name===t))&&void 0===this.formData[t]&&(this.formData[t]=this._getValue(t,this.dataValue[t]))}return l||t("warn","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:289","submit 方法即将废弃，请使用validate方法代替！"),this.checkAll(this.formData,e,a,"submit")},async checkAll(e,t,a,l){if(!this.validator)return;let n,i=[];for(let r in e){const e=this.childrens.find((e=>Ue(e.name)===r));e&&i.push(e)}a||"function"!=typeof t||(a=t),!a&&"function"!=typeof a&&Promise&&(n=new Promise(((e,t)=>{a=function(a,l){a?t(a):e(l)}})));let o=[],s=JSON.parse(JSON.stringify(e));for(let r in i){const e=i[r];let t=Ue(e.name);const a=await e.onFieldChange(s[t]);if(a&&(o.push(a),"toast"===this.errShowType||"modal"===this.errShowType))break}Array.isArray(o)&&0===o.length&&(o=null),Array.isArray(t)&&t.forEach((e=>{let t=Ue(e),a=Fe(e,this.localData);void 0!==a&&(s[t]=a)})),"submit"===l?this.$emit("submit",{detail:{value:s,errors:o}}):this.$emit("validate",o);let c={};return c=((e={},t)=>{let a=JSON.parse(JSON.stringify(e)),l={};for(let n in a){let e=He(n);Pe(l,e,a[n])}return l})(s,this.name),a&&"function"==typeof a&&a(o,c),n&&a?n:null},validateCheck(e){this.$emit("validate",e)},_getValue:Re,_isRequiredField:e=>{let t=!1;for(let a=0;a<e.length;a++){if(e[a].required){t=!0;break}}return t},_setDataValue:(e,t,a)=>(t[e]=a,a||""),_getDataValue:Fe,_realName:Ue,_isRealName:e=>/^_formdata_#*/.test(e),_isEqual:(e,t)=>{if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("[object Object]"==a){var l=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(l.length!=n.length)return!1;for(var i=0;i<l.length;i++){var o=l[i];if(e[o]!==t[o])return!1}return!0}return"[object Array]"==a?e.toString()==t.toString():void 0}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:"uni-forms"},[e.createElementVNode("form",null,[e.renderSlot(t.$slots,"default",{},void 0,!0)])])}],["__scopeId","data-v-d0b7151e"]]),Ye=n.baseUrl;function Je(e){return u({url:`${Ye}/tasks`,method:"POST",data:e})}function Xe(){return u({url:`${Ye}/taskCategories`,method:"GET"})}function Qe(){return u({url:`${Ye}/rewardTypes`,method:"GET"})}const Ze={getTaskList:function(e){return u({url:`${Ye}/tasks/list`,method:"GET",params:e})},getTaskDetail:function(e){return u({url:`${Ye}/tasks/${e}`,method:"GET"})},createTask:Je,updateTask:function(e,t){return u({url:`${Ye}/tasks/${e}`,method:"PUT",data:t})},updateTaskStatus:function(e,t){return u({url:`${Ye}/tasks/${e}/status`,method:"PUT",data:t})},deleteTask:function(e){return u({url:`${Ye}/tasks/${e}`,method:"DELETE"})},toggleFavoriteTask:function(e,t){return u({url:`${Ye}/tasks/${e}/favorite`,method:t?"POST":"DELETE"})},applyTask:function(e){return u({url:`${Ye}/tasks/${e}/apply`,method:"POST"})},getTaskCategories:Xe,getRewardTypes:Qe},Ke={__name:"create",setup(l){const n=e.reactive({title:"",description:"",categoryId:"",requirements:"",rewardTypeId:1,rewardAmount:"",deadline:"",maxParticipants:1,location:"",contactInfo:{qq:"",wechat:"",email:""}}),i=e.ref([]),o=e.ref([]),s=[{title:"基本信息",validate:["title","categoryId","description","requirements"]},{title:"任务设置",validate:["deadline","location","maxParticipants","rewardTypeId","rewardAmount"]},{title:"联系方式",validate:[]},{title:"确认提交",validate:[]}],c=e.ref(0);e.onMounted((async()=>{try{const e=await Xe();200===e.code?i.value=e.data:i.value=[{id:1,name:"问卷调查",iconUrl:"/icons/survey.png"},{id:2,name:"数据收集",iconUrl:"/icons/data.png"},{id:3,name:"实验参与",iconUrl:"/icons/experiment.png"},{id:4,name:"校园活动",iconUrl:"/icons/activity.png"},{id:5,name:"学术研究",iconUrl:"/icons/research.png"},{id:6,name:"志愿服务",iconUrl:"/icons/volunteer.png"},{id:7,name:"实习兼职",iconUrl:"/icons/internship.png"},{id:8,name:"竞赛协助",iconUrl:"/icons/competition.png"},{id:9,name:"技术支持",iconUrl:"/icons/tech.png"},{id:10,name:"其他",iconUrl:"/icons/other.png"}];const t=await Qe();200===t.code?o.value=t.data:o.value=[{id:1,name:"现金",unit:"元"},{id:2,name:"学分",unit:"分"},{id:3,name:"志愿服务",unit:"小时"},{id:4,name:"实习机会",unit:"天"},{id:5,name:"礼品",unit:"件"},{id:6,name:"证书",unit:"张"}]}catch(e){t("error","at pages/task-square/create.vue:321","获取数据失败",e),i.value=[{id:1,name:"问卷调查",iconUrl:"/icons/survey.png"},{id:2,name:"数据收集",iconUrl:"/icons/data.png"},{id:3,name:"实验参与",iconUrl:"/icons/experiment.png"},{id:4,name:"校园活动",iconUrl:"/icons/activity.png"},{id:5,name:"学术研究",iconUrl:"/icons/research.png"},{id:6,name:"志愿服务",iconUrl:"/icons/volunteer.png"},{id:7,name:"实习兼职",iconUrl:"/icons/internship.png"},{id:8,name:"竞赛协助",iconUrl:"/icons/competition.png"},{id:9,name:"技术支持",iconUrl:"/icons/tech.png"},{id:10,name:"其他",iconUrl:"/icons/other.png"}],o.value=[{id:1,name:"现金",unit:"元"},{id:2,name:"学分",unit:"分"},{id:3,name:"志愿服务",unit:"小时"},{id:4,name:"实习机会",unit:"天"},{id:5,name:"礼品",unit:"件"},{id:6,name:"证书",unit:"张"}],uni.showToast({title:"获取数据失败，使用默认配置",icon:"none"})}}));const r={title:{rules:[{required:!0,errorMessage:"请输入任务标题"}]},categoryId:{rules:[{required:!0,errorMessage:"请选择任务类别"}]},description:{rules:[{required:!0,errorMessage:"请输入任务描述"},{minLength:20,errorMessage:"任务描述至少20个字符"}]},requirements:{rules:[{required:!0,errorMessage:"请输入任务需求"}]},deadline:{rules:[{required:!0,errorMessage:"请选择截止日期"}]},location:{rules:[{required:!0,errorMessage:"请输入任务地点"}]},rewardAmount:{rules:[{required:!0,errorMessage:"请输入报酬金额"}]},maxParticipants:{rules:[{required:!0,errorMessage:"请输入最大参与人数"}]}},d=e.ref(null),m=e.computed((()=>(new Date).toISOString().split("T")[0])),u=e.computed((()=>{const e=new Date;return new Date(e.setFullYear(e.getFullYear()+1)).toISOString().split("T")[0]}));function p(e){n.deadline=e}function h(e){const t=i.value.find((t=>t.id===e));return t?t.name:""}function g(e){const t=o.value.find((t=>t.id===e));return t?t.name:""}function v(e){const t=o.value.find((t=>t.id===e));return t?t.unit:""}function f(e){if(!e)return"";try{const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}catch(t){return e}}async function w(){const e=s[c.value].validate;if(e.length>0)try{await d.value.validateField(e),c.value++}catch(t){uni.showToast({title:"请完成必填项",icon:"none"})}else c.value++}function y(){c.value>0&&c.value--}function k(){d.value.validate().then((e=>{uni.showToast({title:"预览功能开发中",icon:"none"})})).catch((e=>{t("log","at pages/task-square/create.vue:502","表单错误：",e)}))}async function V(){try{await d.value.validate(),t("log","at pages/task-square/create.vue:511","表单数据：",n),uni.showLoading({title:"提交中..."});const e={title:n.title,description:n.description,categoryId:n.categoryId,requirements:n.requirements,rewardTypeId:n.rewardTypeId,rewardAmount:Number(n.rewardAmount),deadline:N(n.deadline),maxParticipants:Number(n.maxParticipants),location:n.location,contactInfo:n.contactInfo};t("log","at pages/task-square/create.vue:532","提交数据：",JSON.stringify(e,null,2));const a=await Je(e);if(uni.hideLoading(),200===a.code)uni.showModal({title:"发布成功",content:"任务已成功发布",showCancel:!1,success:e=>{e.confirm&&uni.navigateBack()}});else{let e=a.message||"发布失败";a.message&&a.message.includes("LocalDateTime")&&(e="日期格式错误，请重新选择截止日期"),uni.showModal({title:"提交失败",content:e,showCancel:!1})}}catch(e){uni.hideLoading(),t("log","at pages/task-square/create.vue:568","表单错误：",e),uni.showToast({title:"表单验证失败，请检查输入",icon:"none"})}}function N(e){if(!e)return"";if(e.length<=10)return`${e}T23:59:59`;return new Date(e).toISOString().replace(".000Z","")}function E(){uni.showModal({title:"提示",content:"是否放弃编辑？",success:e=>{e.confirm&&uni.navigateBack()}})}return(t,l)=>{const N=a(e.resolveDynamicComponent("uni-easyinput"),he),x=a(e.resolveDynamicComponent("uni-forms-item"),ge),b=a(e.resolveDynamicComponent("uni-datetime-picker"),De),C=a(e.resolveDynamicComponent("uni-number-box"),Me),T=a(e.resolveDynamicComponent("uni-forms"),Ge);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"navbar"},[e.createElementVNode("view",{class:"back-btn",onClick:E},[e.createElementVNode("text",{class:"iconfont icon-back"})]),e.createElementVNode("view",{class:"title"},"发布任务"),e.createElementVNode("view",{class:"right-btns"},[e.createElementVNode("view",{class:"preview-btn",onClick:k},"预览")])]),e.createElementVNode("view",{class:"steps-indicator"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(s,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["step-item",c.value>=a?"step-active":""]),onClick:e=>function(e){e<c.value&&(c.value=e)}(a)},[e.createElementVNode("view",{class:"step-circle"},e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"step-text"},e.toDisplayString(t.title),1)],10,["onClick"]))),64))])]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"form-scroll"},[e.createVNode(T,{ref_key:"taskForm",ref:d,modelValue:n,rules:r,"label-position":"top","label-width":"80px"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"基本信息"),e.createVNode(x,{name:"title",label:"任务标题"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.title=e),placeholder:"请输入任务标题（15字以内）",maxlength:"15"},null,8,["modelValue"])])),_:1}),e.createVNode(x,{name:"categoryId",label:"任务类别"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"category-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["category-tag",n.categoryId===t.id?"category-tag-active":""]),onClick:e=>{return a=t.id,void(n.categoryId=a);var a}},e.toDisplayString(t.name),11,["onClick"])))),128))])])),_:1}),e.createVNode(x,{name:"description",label:"任务描述"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.description,"onUpdate:modelValue":l[1]||(l[1]=e=>n.description=e),type:"textarea",placeholder:"请详细描述任务内容、要求等信息",maxlength:"500",autoHeight:!0,inputBorder:!0},null,8,["modelValue"]),e.createElementVNode("text",{class:"text-count"},e.toDisplayString(n.description.length)+"/500",1)])),_:1}),e.createVNode(x,{name:"requirements",label:"任务需求"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.requirements,"onUpdate:modelValue":l[2]||(l[2]=e=>n.requirements=e),type:"textarea",placeholder:"请详细描述任务需要的能力、条件等",maxlength:"300",autoHeight:!0,inputBorder:!0},null,8,["modelValue"]),e.createElementVNode("text",{class:"text-count"},e.toDisplayString(n.requirements.length)+"/300",1)])),_:1})],512),[[e.vShow,0===c.value]]),e.withDirectives(e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"任务设置"),e.createVNode(x,{name:"deadline",label:"截止日期"},{default:e.withCtx((()=>[e.createVNode(b,{modelValue:n.deadline,"onUpdate:modelValue":l[3]||(l[3]=e=>n.deadline=e),type:"datetime",start:m.value,end:u.value,format:"yyyy-MM-dd HH:mm",onChange:p},null,8,["modelValue","start","end"])])),_:1}),e.createVNode(x,{name:"location",label:"任务地点"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.location,"onUpdate:modelValue":l[4]||(l[4]=e=>n.location=e),placeholder:"请输入任务地点"},null,8,["modelValue"])])),_:1}),e.createVNode(x,{name:"maxParticipants",label:"参与人数",class:"nowrap-label"},{default:e.withCtx((()=>[e.createVNode(C,{modelValue:n.maxParticipants,"onUpdate:modelValue":l[5]||(l[5]=e=>n.maxParticipants=e),min:1,max:100},null,8,["modelValue"])])),_:1}),e.createVNode(x,{name:"rewardTypeId",label:"报酬类型"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"reward-types"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["reward-type-tag",n.rewardTypeId===t.id?"reward-type-active":""]),onClick:e=>{return a=t.id,void(n.rewardTypeId=a);var a}},e.toDisplayString(t.name),11,["onClick"])))),128))])])),_:1}),e.createVNode(x,{name:"rewardAmount",label:"报酬金额"},{default:e.withCtx((()=>{var t;return[e.createElementVNode("view",{class:"money-input-container"},[e.withDirectives(e.createElementVNode("input",{type:"number","onUpdate:modelValue":l[6]||(l[6]=e=>n.rewardAmount=e),placeholder:"请输入数量",maxlength:"10",class:"money-field"},null,512),[[e.vModelText,n.rewardAmount]]),e.createElementVNode("text",{class:"money-unit"},e.toDisplayString((null==(t=o.value.find((e=>e.id===n.rewardTypeId)))?void 0:t.unit)||"元"),1)])]})),_:1})],512),[[e.vShow,1===c.value]]),e.withDirectives(e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"联系方式"),e.createVNode(x,{name:"contactInfo.qq",label:"联系QQ"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.contactInfo.qq,"onUpdate:modelValue":l[7]||(l[7]=e=>n.contactInfo.qq=e),placeholder:"请输入联系QQ(选填)"},null,8,["modelValue"])])),_:1}),e.createVNode(x,{name:"contactInfo.wechat",label:"联系微信"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.contactInfo.wechat,"onUpdate:modelValue":l[8]||(l[8]=e=>n.contactInfo.wechat=e),placeholder:"请输入微信号(选填)"},null,8,["modelValue"])])),_:1}),e.createVNode(x,{name:"contactInfo.email",label:"联系邮箱"},{default:e.withCtx((()=>[e.createVNode(N,{modelValue:n.contactInfo.email,"onUpdate:modelValue":l[9]||(l[9]=e=>n.contactInfo.email=e),placeholder:"请输入电子邮箱(选填)"},null,8,["modelValue"])])),_:1})],512),[[e.vShow,2===c.value]]),e.withDirectives(e.createElementVNode("view",{class:"form-section review-section"},[e.createElementVNode("view",{class:"section-title"},"确认信息"),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"任务标题："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(n.title),1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"任务类别："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(h(n.categoryId)),1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"截止日期："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(f(n.deadline)),1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"任务地点："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(n.location),1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"最大参与人数："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(n.maxParticipants)+" 人",1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"报酬类型："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(g(n.rewardTypeId)),1)]),e.createElementVNode("view",{class:"review-item"},[e.createElementVNode("text",{class:"review-label"},"报酬金额："),e.createElementVNode("text",{class:"review-value"},e.toDisplayString(n.rewardAmount)+" "+e.toDisplayString(v(n.rewardTypeId)),1)]),e.createElementVNode("view",{class:"review-info"},[e.createElementVNode("text",null,'请确认以上信息无误，点击"提交"按钮发布任务')])],512),[[e.vShow,3===c.value]])])),_:1},8,["modelValue"])]),e.createElementVNode("view",{class:"step-actions"},[c.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,class:"prev-btn",onClick:y},"上一步")):e.createCommentVNode("",!0),c.value<s.length-1?(e.openBlock(),e.createElementBlock("button",{key:1,class:"next-btn",onClick:w},"下一步")):e.createCommentVNode("",!0),c.value===s.length-1?(e.openBlock(),e.createElementBlock("button",{key:2,class:"submit-btn",onClick:V},"提交")):e.createCommentVNode("",!0)])])}}};const et=T({components:{SvgIcon:B},data:()=>({defaultAvatar:"/static/images/default-avatar.png",teamId:null,teamInfo:{},teamMembers:[],showPhone:!1,isLoading:!0,userInfo:null,hasApplied:!1,isTeamMember:!1,isTeamLeader:!1,applyLoading:!1}),computed:{hasAvailableRoles(){return!!this.teamInfo.roles&&this.teamInfo.roles.some((e=>e.currentCount<e.requiredCount))}},onLoad(e){t("log","at pages/team/detail.vue:198","队伍详情页面参数:",e),e&&e.id?(this.teamId=e.id,this.getUserInfo(),this.getTeamDetail()):(uni.showToast({title:"队伍ID不能为空",icon:"none"}),setTimeout((()=>{uni.navigateBack()}),1500))},onShow(){this.getUserInfo(),this.teamId&&this.checkTeamStatus()},methods:{getUserInfo(){const e=uni.getStorageSync("userInfo");e&&(this.userInfo="string"==typeof e?JSON.parse(e):e)},async checkTeamStatus(){if(this.userInfo&&this.userInfo.userId)try{const e=await h.checkTeamStatus(this.teamId);200===e.code&&(this.hasApplied=!0===e.data)}catch(e){t("error","at pages/team/detail.vue:241","检查团队状态失败",e)}},getStatusClass(e){switch(e){case"0":default:return"status-recruiting";case"1":return"status-filled";case"2":return"status-disbanded"}},getStatusIcon(e){switch(e){case"0":default:return"icon-check-circle";case"1":return"icon-hourglass";case"2":return"icon-times-circle"}},hidePhone:e=>e?e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"",togglePhone(){this.showPhone=!this.showPhone},copyText(e){uni.setClipboardData({data:e,success:()=>{uni.showToast({title:"复制成功",icon:"success"})}})},goBack(){uni.navigateBack()},goToCompetition(e){e&&uni.navigateTo({url:`/pages/competition/detail?id=${e}`})},async applyRole(e){this.hasApplied?uni.showToast({title:"您已申请或已加入该团队",icon:"none"}):uni.showModal({title:"申请加入理由",content:"",editable:!0,placeholderText:"我希望加入团队参与...",success:async a=>{if(a.confirm){const n=a.content||"希望能加入团队，与大家一起学习成长。";this.applyLoading=!0;try{const t={teamId:this.teamId,roleId:e,message:n},a=await h.applyTeam(t);200===a.code?(uni.showToast({title:"申请已提交",icon:"success"}),this.hasApplied=!0,setTimeout((()=>{uni.showModal({title:"申请已提交",content:"您可以在申请管理中查看申请状态",confirmText:"查看申请",cancelText:"稍后再看",success:e=>{e.confirm&&uni.navigateTo({url:"/pages/team/applications"})}})}),1500)):uni.showToast({title:a.message||"申请提交失败",icon:"none"})}catch(l){t("error","at pages/team/detail.vue:355","申请失败",l),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{this.applyLoading=!1}}}})},showApplyOptions(){if(this.userInfo&&this.userInfo.userId)if(this.hasApplied)uni.showToast({title:"您已申请或已加入该团队",icon:"none"});else if(this.teamInfo.roles&&this.teamInfo.roles.length>0){const e=this.teamInfo.roles.filter((e=>e.currentCount<e.requiredCount));if(e.length>1){const t=e.map((e=>`${e.name}（${e.currentCount}/${e.requiredCount}）`));uni.showActionSheet({itemList:t,success:t=>{this.applyRole(e[t.tapIndex].id)}})}else 1===e.length?this.applyRole(e[0].id):uni.showToast({title:"当前没有可申请的角色",icon:"none"})}else uni.showToast({title:"当前没有可申请的角色",icon:"none"});else uni.showModal({title:"提示",content:"请先登录后再申请加入团队",confirmText:"去登录",success:e=>{e.confirm&&uni.navigateTo({url:"/pages/login/login"})}})},editTeam(){uni.navigateTo({url:`/pages/team/edit?id=${this.teamId}`})},async disbandTeam(){uni.showModal({title:"解散队伍",content:"确定要解散该队伍吗？此操作不可撤销",confirmColor:"#f56c6c",success:async e=>{if(e.confirm)try{const e=await h.disbandTeam(this.teamId);200===e.code?(uni.showToast({title:"队伍已解散",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):uni.showToast({title:e.message||"解散队伍失败",icon:"none"})}catch(a){t("error","at pages/team/detail.vue:454","解散队伍失败",a),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}}})},async leaveTeam(){uni.showModal({title:"退出队伍",content:"确定要退出该队伍吗？",confirmColor:"#f56c6c",success:async e=>{if(e.confirm)try{const e=await h.leaveTeam(this.teamId);200===e.code?(uni.showToast({title:"已退出队伍",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):uni.showToast({title:e.message||"退出失败",icon:"none"})}catch(a){t("error","at pages/team/detail.vue:489","退出队伍失败",a),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}}})},async getTeamMembers(){try{const e=await h.getTeamMembers(this.teamId);if(e&&200===e.code&&e.data){if(this.teamMembers=e.data,this.userInfo&&this.userInfo.userId){const e=this.userInfo.userId,t=this.teamMembers.some((t=>t.userId===e)),a=t&&this.teamMembers.some((t=>t.userId===e&&t.isLeader));this.isTeamMember=t,this.isTeamLeader=a}t("log","at pages/team/detail.vue:517","获取到队伍成员:",this.teamMembers)}else t("log","at pages/team/detail.vue:519","获取队伍成员失败:",null==e?void 0:e.message)}catch(e){t("error","at pages/team/detail.vue:522","获取队伍成员出错",e)}},async getTeamDetail(){this.isLoading=!0;try{const e=await h.getTeamDetail(this.teamId);e&&200===e.code&&e.data?(this.teamInfo=e.data,t("log","at pages/team/detail.vue:533","获取到队伍详情:",this.teamInfo),this.userInfo&&this.userInfo.userId&&this.teamInfo.leaderId===this.userInfo.userId&&(this.isTeamLeader=!0,this.isTeamMember=!0),this.getTeamMembers(),this.checkTeamStatus()):(uni.showToast({title:(null==e?void 0:e.message)||"获取队伍详情失败",icon:"none"}),t("log","at pages/team/detail.vue:551","获取队伍详情失败:",e))}catch(e){t("error","at pages/team/detail.vue:554","获取队伍详情出错",e),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{this.isLoading=!1}}}},[["render",function(t,a,l,n,i,o){const s=e.resolveComponent("SvgIcon");return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"top-bar"},[e.createElementVNode("view",{class:"flex-between px-4 py-3"},[e.createElementVNode("view",{class:"back-btn",onClick:a[0]||(a[0]=(...e)=>o.goBack&&o.goBack(...e))},[e.createVNode(s,{name:"back",size:"24"})]),e.createElementVNode("text",{class:"page-title"},e.toDisplayString(i.teamInfo.name||"队伍详情"),1),e.createElementVNode("view",{class:"header-actions"},[e.createVNode(s,{name:"souchang",size:30}),e.createVNode(s,{name:"fenxiang",size:"30"})])])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("view",{class:"flex-between mb-3"},[e.createElementVNode("view",{class:"competition-link",onClick:a[1]||(a[1]=e=>o.goToCompetition(i.teamInfo.competitionId))},[e.createVNode(s,{name:"guanlian",size:"17",class:"mr-1 blue-text"}),e.createElementVNode("view",{class:"blue-text"},"关联竞赛："+e.toDisplayString(i.teamInfo.competitionName),1)])]),e.createElementVNode("view",{class:"leader-info"},[e.createElementVNode("image",{class:"leader-avatar",src:i.teamInfo.leaderAvatarUrl||i.defaultAvatar},null,8,["src"]),e.createElementVNode("view",{class:"leader-detail"},[e.createElementVNode("text",{class:"leader-name"},"队长："+e.toDisplayString(i.teamInfo.leaderName),1),e.createElementVNode("text",{class:"leader-major"},e.toDisplayString(i.teamInfo.leaderMajor||"未设置专业"),1)]),e.createElementVNode("view",{class:e.normalizeClass(["status-tag",o.getStatusClass(i.teamInfo.status)])},[e.createElementVNode("text",null,e.toDisplayString(i.teamInfo.statusText),1)],2)]),i.teamInfo.direction?(e.openBlock(),e.createElementBlock("view",{key:0,class:"research-direction"},[e.createElementVNode("text",{class:"section-title"},"队伍方向"),e.createElementVNode("text",{class:"desc-text"},e.toDisplayString(i.teamInfo.direction),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"team-desc-section"},[e.createElementVNode("text",{class:"section-title"},"队伍描述"),e.createElementVNode("text",{class:"desc-text"},e.toDisplayString(i.teamInfo.description),1)]),e.createElementVNode("view",{class:"team-meta"},[e.createElementVNode("text",{class:"meta-item"},"组队截止："+e.toDisplayString(i.teamInfo.recruitmentDeadlineFormatted),1),e.createElementVNode("view",{class:"view-count"},[e.createVNode(s,{name:"liulan",size:"20"}),e.createElementVNode("text",null,"浏览次数："+e.toDisplayString(i.teamInfo.viewCount),1)])])]),e.createElementVNode("view",{class:"section-card"},[e.createElementVNode("text",{class:"section-header"},"招募角色"),e.createElementVNode("view",{class:"role-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.teamInfo.roles,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["role-card",{"role-filled":t.currentCount>=t.requiredCount}]),key:t.id},[e.createElementVNode("view",{class:"flex-between mb-2"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"role-title"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"role-count"},"需求："+e.toDisplayString(t.requiredCount)+"人 / 已招募："+e.toDisplayString(t.currentCount)+"人",1)]),e.createElementVNode("view",{class:e.normalizeClass(["role-status-tag",t.currentCount>=t.requiredCount?"filled-tag":"recruiting-tag"])},e.toDisplayString(t.currentCount>=t.requiredCount?"已满员":"招募中"),3)]),e.createElementVNode("text",{class:"role-desc"},e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"skill-section"},[e.createElementVNode("text",{class:"skill-header"},"技能要求:"),e.createElementVNode("view",{class:"skill-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.skillRequirements,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:"skill-tag",key:a},e.toDisplayString(t),1)))),128))])]),e.createElementVNode("button",{class:e.normalizeClass(["apply-btn",t.currentCount>=t.requiredCount?"disabled-btn":"active-btn"]),disabled:t.currentCount>=t.requiredCount,onClick:e=>o.applyRole(t.id)},[t.currentCount<t.requiredCount?(e.openBlock(),e.createBlock(s,{key:0,name:"chuangjianduiwu",size:"30"})):e.createCommentVNode("",!0),e.createTextVNode(" 申请加入 ")],10,["disabled","onClick"])],2)))),128))])]),i.teamMembers.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"队伍成员 ("+e.toDisplayString(i.teamMembers.length)+")",1),e.createElementVNode("view",{class:"member-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.teamMembers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"member-item",key:a},[e.createElementVNode("image",{class:e.normalizeClass(["member-avatar",{"leader-border2":t.isLeader}]),src:t.userAvatarUrl||i.defaultAvatar},null,10,["src"]),e.createElementVNode("text",{class:"member-name"},[e.createTextVNode(e.toDisplayString(t.userName)+" ",1),t.roleName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"member-role"},"("+e.toDisplayString(t.roleName)+")",1)):e.createCommentVNode("",!0),t.isLeader?(e.openBlock(),e.createElementBlock("view",{key:1,class:"leader-label"},"(队长)")):e.createCommentVNode("",!0)]),t.userMajor?(e.openBlock(),e.createElementBlock("text",{key:0,class:"member-major"},e.toDisplayString(t.userMajor),1)):e.createCommentVNode("",!0)])))),128))])])):e.createCommentVNode("",!0),i.teamInfo.teachers&&i.teamInfo.teachers.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"指导老师"),e.createElementVNode("view",{class:"member-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.teamInfo.teachers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"member-item",key:a},[e.createElementVNode("image",{class:"member-avatar",src:t.avatarUrl||i.defaultAvatar},null,8,["src"]),e.createElementVNode("text",{class:"member-name"},e.toDisplayString(t.name),1),t.major?(e.openBlock(),e.createElementBlock("text",{key:0,class:"teacher-major"},e.toDisplayString(t.major),1)):e.createCommentVNode("",!0)])))),128))])])):e.createCommentVNode("",!0),i.teamInfo.contactInfo?(e.openBlock(),e.createElementBlock("view",{key:2,class:"info-card"},[e.createElementVNode("text",{class:"section-header"},"联系方式"),e.createElementVNode("view",{class:"contact-list"},[i.teamInfo.contactInfo.wechat?(e.openBlock(),e.createElementBlock("view",{key:0,class:"contact-item"},[e.createVNode(s,{name:"weixintubiao",size:"20",class:"contact-icon wechat-color"}),e.createElementVNode("text",{class:"contact-text"},"微信："+e.toDisplayString(i.teamInfo.contactInfo.wechat),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[2]||(a[2]=e=>o.copyText(i.teamInfo.contactInfo.wechat))},"复制")])):e.createCommentVNode("",!0),i.teamInfo.contactInfo.phone?(e.openBlock(),e.createElementBlock("view",{key:1,class:"contact-item"},[e.createVNode(s,{name:"youxiang",size:"20",class:"contact-icon phone-color"}),e.createElementVNode("text",{class:"contact-text"},"电话："+e.toDisplayString(i.showPhone?i.teamInfo.contactInfo.phone:o.hidePhone(i.teamInfo.contactInfo.phone)),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[3]||(a[3]=(...e)=>o.togglePhone&&o.togglePhone(...e))},e.toDisplayString(i.showPhone?"隐藏":"查看"),1)])):e.createCommentVNode("",!0),i.teamInfo.contactInfo.qq?(e.openBlock(),e.createElementBlock("view",{key:2,class:"contact-item"},[e.createVNode(s,{name:"qqtubiao",size:"20",class:"contact-icon qq-color"}),e.createElementVNode("text",{class:"contact-text"},"QQ群："+e.toDisplayString(i.teamInfo.contactInfo.qq),1),e.createElementVNode("text",{class:"copy-btn",onClick:a[4]||(a[4]=e=>o.copyText(i.teamInfo.contactInfo.qq))},"复制")])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])}]]),tt={__name:"list",setup(a){const l=e.ref(["全部队伍","学科竞赛","创新创业","体育竞赛","文艺比赛"]),n=e.ref(0),i=e.ref(null),o=e.computed((()=>i.value&&i.value.headerHeight?i.value.headerHeight+"rpx":l.value&&l.value.length>0?"200rpx":"120rpx")),s=e.reactive({pageNum:1,pageSize:10,total:0,pages:0,list:[],hasPrevious:!1,hasNext:!1}),c=e.ref(!1),r=e.ref(!1),d=e.ref(!1),m=e.ref(!1),u=e.reactive({pageNum:1,pageSize:10,keyword:"",orderByViewCount:!1});async function p(e=!1){e?(u.pageNum=1,r.value=!0):c.value=!0;try{const a={};Object.keys(u).forEach((e=>{null!==u[e]&&void 0!==u[e]&&""!==u[e]&&(a[e]=u[e])})),t("log","at pages/team/list.vue:136","请求参数:",a);const l=await h.getTeamList(a);t("log","at pages/team/list.vue:138","响应结果:",l),200===l.code&&l.data?(s.list=e?l.data.list||[]:[...s.list,...l.data.list||[]],s.pageNum=l.data.pageNum,s.pageSize=l.data.pageSize,s.total=l.data.total,s.pages=l.data.pages,s.hasPrevious=l.data.hasPrevious,s.hasNext=l.data.hasNext,m.value=!l.data.hasNext):uni.showToast({title:(null==l?void 0:l.message)||"获取团队列表失败",icon:"none"})}catch(a){t("error","at pages/team/list.vue:163","获取团队列表出错",a),401===a.statusCode||403===a.statusCode?uni.showModal({title:"登录已过期",content:"请重新登录后查看",confirmText:"去登录",success:function(e){e.confirm&&(uni.removeStorageSync("token"),uni.navigateTo({url:"/pages/login/login"}))}}):uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{c.value=!1,r.value=!1,d.value=!1}}function g(){d.value||m.value||(s.hasNext?(d.value=!0,u.pageNum+=1,p()):m.value=!0)}function v(e){n.value!==e&&(n.value=e,0===e?delete u.categoryId:u.categoryId=e,p(!0))}function f(e){uni.navigateTo({url:`/pages/team/detail?id=${e}`})}function w(e){uni.getStorageSync("token")?h.checkTeamStatus(e).then((t=>{200===t.code&&(!0===t.data?uni.showToast({title:"您已申请或已加入该团队",icon:"none"}):uni.navigateTo({url:`/pages/team/detail?id=${e}`}))})).catch((a=>{t("error","at pages/team/list.vue:304","检查团队状态失败",a),uni.navigateTo({url:`/pages/team/detail?id=${e}`})})):uni.showModal({title:"提示",content:"请先登录后再申请加入团队",confirmText:"去登录",success:function(e){e.confirm&&uni.navigateTo({url:"/pages/login/login"})}})}function y(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"competition"===e?uni.switchTab({url:"/pages/competition/index"}):"profile"===e&&uni.switchTab({url:"/pages/profile/index"})}function k(){uni.showActionSheet({itemList:["创建新团队","招募队友","发布项目展示"],success:function(e){0===e.tapIndex?uni.navigateTo({url:"/pages/team/create"}):uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})}function V(){uni.navigateTo({url:"/pages/search/index"})}function N(){uni.showActionSheet({itemList:["最新发布","热门团队","即将截止"],success:function(e){uni.showToast({title:`选择了筛选: ${e.tapIndex}`,icon:"none"})}})}return e.onMounted((()=>{t("log","at pages/team/list.vue:237","组队列表页面加载");uni.getStorageSync("token")?p():uni.showModal({title:"提示",content:"请先登录后查看团队列表",confirmText:"去登录",success:function(e){e.confirm&&uni.navigateTo({url:"/pages/login/login"})}})})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{ref_key:"headerBarRef",ref:i,title:"组队广场",categories:l.value,"default-category":n.value,"show-filter":"true",onSearch:V,onFilter:N,onCategoryChange:v},null,8,["categories","default-category"]),e.createElementVNode("view",{class:"header-placeholder",style:e.normalizeStyle({height:o.value})},null,4),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"team-list",onScrolltolower:g},[s.list&&s.list.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(s.list,((t,a)=>(e.openBlock(),e.createBlock(j,{key:t.id,team:t,index:a,onDetail:f,onApply:w},null,8,["team","index"])))),128)):c.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-state"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"暂无团队数据")])),s.list&&s.list.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"load-more"},[d.value?(e.openBlock(),e.createElementBlock("text",{key:0},"正在加载更多...")):s.hasNext?(e.openBlock(),e.createElementBlock("text",{key:1,onClick:g},"点击加载更多")):(e.openBlock(),e.createElementBlock("text",{key:2},"— 没有更多数据了 —"))])):e.createCommentVNode("",!0)],32),e.createVNode(L,{"active-tab":"team",onTabChange:y,onPublish:k})]))}},at={__name:"create",setup(l){const i=e.ref(null),o=e.ref(null),s=e.ref(null),c=n.baseUrl,r=e.reactive({competitionId:"",teamName:"",researchDirection:"",description:"",recruitDeadline:"",email:"",wechat:"",qq:"",teachers:[],roles:[]}),d=e.ref([]),m=e.ref([]),u=e.ref([]),p=e.ref(0),v=e.ref([]),f=e.ref([]),w=e.ref([]),y=e.ref(0),k=e.ref(null),V=e.ref({}),N=e.ref([]),E=e.ref("全部"),x=e.ref(null),b=e.ref(""),C=e.ref([]);e.reactive({});const T=e.ref(""),S=e.computed((()=>{const e=d.value.find((e=>e.id===r.competitionId));return e?e.title:""}));function D(e){y.value=e,T.value="",f.value=0===e?[...v.value]:v.value.filter((t=>t.major===e))}function M(){uni.navigateBack()}function z(){i.value.open()}function _(){i.value.close()}function A(){_()}function j(){o.value.close(),T.value="",D(y.value)}function L(){j()}function R(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${F(t.getMonth()+1)}-${F(t.getDate())} ${F(t.getHours())}:${F(t.getMinutes())}`}function F(e){return e<10?`0${e}`:e}function U(){r.teachers.push({id:"",name:"",role:""})}function H(){r.roles.push({name:"",count:1,description:"",skills:[]})}function P(e){uni.showToast({title:e,icon:"none"})}async function $(){if(function(){if(!r.competitionId)return P("请选择关联竞赛"),!1;if(!r.teamName)return P("请输入团队名称"),!1;if(!r.researchDirection)return P("请输入研究方向"),!1;if(!r.description)return P("请输入团队描述"),!1;if(!r.recruitDeadline)return P("请选择招募截止日期"),!1;if(!r.email)return P("请输入电子邮箱"),!1;for(let e=0;e<r.teachers.length;e++)if(!r.teachers[e].id)return P(`请完善指导老师${e+1}的信息`),!1;return 0!==r.roles.length||(P("请至少添加一个招募角色"),!1)}()){uni.showLoading({title:"提交中..."});try{const e={competitionId:r.competitionId,name:r.teamName,description:r.description,direction:r.researchDirection,recruitmentDeadline:new Date(r.recruitDeadline).toISOString(),contactInfo:{phone:r.phone||"",email:r.email||"",wechat:r.wechat||"",qq:r.qq||""},teacherIds:r.teachers.map((e=>e.id)),teacherRoles:r.teachers.map((e=>e.role)),roles:r.roles.map((e=>({name:e.name,requiredCount:parseInt(e.count)||1,description:e.description,skillRequirements:e.skills||[]})))};t("log","at pages/team/create.vue:870","提交数据:",e);const a=await h.createTeam(e);t("log","at pages/team/create.vue:874",a),uni.hideLoading(),200===a.code?(uni.showToast({title:"创建成功",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):P(a.message||"创建失败")}catch(e){t("error","at pages/team/create.vue:890","创建团队失败:",e),uni.hideLoading(),P("创建失败，请稍后重试")}}}function q(e){switch(e){case 1:return"category-programming";case 2:return"category-math";case 3:return"category-electronics";case 4:return"category-robotics";case 5:return"category-innovation";default:return""}}function O(e){return(null===k.value||r.teachers[k.value].id!==e)&&r.teachers.some((t=>t.id===e&&""!==t.id))}function W(){if(!T.value.trim())return void D(y.value);const e=T.value.toLowerCase().trim();let t=0===y.value?v.value:v.value.filter((e=>e.major===y.value));f.value=t.filter((t=>t.name.toLowerCase().includes(e)))}function G(){T.value="",D(y.value)}function Y(){s.value.close(),b.value="",J(E.value)}function J(e){if(E.value=e,b.value="",t("log","at pages/team/create.vue:1065","筛选分类:",e),t("log","at pages/team/create.vue:1066","所有技能标签数据:",V.value),"全部"===e){const e=[];Object.entries(V.value).forEach((([t,a])=>{a.forEach((a=>{e.push({...a,category:t})}))})),C.value=e}else{const t=V.value[e]||[];C.value=t.map((t=>({...t,category:e})))}t("log","at pages/team/create.vue:1089","筛选后的技能标签:",C.value)}function X(){Y()}function Q(e){return r.roles[x.value].skills.includes(e)}function Z(e){if(r.roles[x.value].skills.includes(e))return!1;for(let t=0;t<r.roles.length;t++)if(t!==x.value&&r.roles[t].skills.includes(e))return!0;return!1}function K(){if(t("log","at pages/team/create.vue:1133","搜索技能:",b.value),!b.value.trim())return void J(E.value);const e=b.value.toLowerCase().trim();let a=[];if("全部"===E.value)Object.entries(V.value).forEach((([e,t])=>{t.forEach((t=>{a.push({...t,category:e})}))}));else{const e=V.value[E.value]||[];a=e.map((e=>({...e,category:E.value})))}C.value=a.filter((t=>t.tagName.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e))),t("log","at pages/team/create.vue:1171","搜索结果:",C.value)}function ee(){b.value="",J(E.value)}function te(){if(null===x.value)return 0;const e=r.roles[x.value];return e.skills?e.skills.length:0}return e.onMounted((async()=>{const a=getCurrentPages(),l=a[a.length-1];if(l.$page&&l.$page.options){const{competitionId:e,competitionName:a}=l.$page.options;if(e&&(t("log","at pages/team/create.vue:906","从URL获取到竞赛ID:",e),t("log","at pages/team/create.vue:907","从URL获取到竞赛名称:",a),r.competitionId=e,a)){const l=decodeURIComponent(a);t("log","at pages/team/create.vue:916","解码后的竞赛名称:",l);const n={id:e,title:l,categoryId:0,categoryName:"未分类"};d.value.push(n),m.value=[...d.value],t("log","at pages/team/create.vue:929","已添加临时竞赛对象:",n),t("log","at pages/team/create.vue:930","当前竞赛列表:",d.value)}}await async function(){try{uni.showLoading({title:"加载中..."});const e=r.competitionId;let a=null;e&&(a=d.value.find((t=>t.id===e)));const l=await g.getCompetitionsBasicInfo();if(l&&200===l.code&&l.data){const n=l.data.some((t=>t.id===e));d.value=e&&!n&&a?[...l.data,a]:l.data,m.value=[...d.value];const i=new Map;i.set(0,{id:0,name:"全部分类"}),l.data.forEach((e=>{i.has(e.categoryId)||i.set(e.categoryId,{id:e.categoryId,name:e.categoryName})})),u.value=Array.from(i.values()),t("log","at pages/team/create.vue:575","API请求结果:",l.data),t("log","at pages/team/create.vue:576","处理后的竞赛列表:",d.value),t("log","at pages/team/create.vue:577","当前选中竞赛ID:",e)}else P("获取竞赛列表失败")}catch(e){t("error","at pages/team/create.vue:582","获取竞赛列表失败:",e),P("获取竞赛列表失败")}finally{uni.hideLoading()}}(),await async function(){try{uni.showLoading({title:"加载中..."});const e=await uni.request({url:`${c}/api/teachers/list`,method:"GET"});if(e&&200===e.statusCode&&e.data&&200===e.data.code){v.value=e.data.data,f.value=[...e.data.data];const t=new Map;t.set(0,{id:0,name:"全部专业"}),e.data.data.forEach((e=>{e.major&&!t.has(e.major)&&t.set(e.major,{id:e.major,name:e.major})})),w.value=Array.from(t.values())}else P("获取教师列表失败")}catch(e){t("error","at pages/team/create.vue:624","获取教师列表失败:",e),P("获取教师列表失败")}finally{uni.hideLoading()}}(),await async function(){try{uni.showLoading({title:"加载中..."});const e=await uni.request({url:`${c}/api/skill-tags/group-by-category`,method:"GET"});if(e&&200===e.statusCode&&e.data&&200===e.data.code){V.value=e.data.data;const a=["全部",...Object.keys(e.data.data)];N.value=a;const l=[];Object.entries(e.data.data).forEach((([e,t])=>{t.forEach((t=>{l.push({...t,category:e})}))})),C.value=l,t("log","at pages/team/create.vue:1047","所有技能标签:",l),t("log","at pages/team/create.vue:1048","分类:",a)}else P("获取技能标签失败")}catch(e){t("error","at pages/team/create.vue:1053","获取技能标签失败:",e),P("获取技能标签失败")}finally{uni.hideLoading()}}(),await e.nextTick(),t("log","at pages/team/create.vue:942","竞赛选择组件:",i.value)})),(t,l)=>{const n=a(e.resolveDynamicComponent("uni-popup"),I),c=a(e.resolveDynamicComponent("uni-datetime-picker"),De);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("view",{class:"back-btn",onClick:M},[e.createVNode(B,{name:"back",size:"24"})]),e.createElementVNode("text",{class:"page-title"},"创建团队"),e.createElementVNode("view",{class:"help-btn"},[e.createVNode(B,{name:"fenxiang",size:"24"})])])]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"form-content"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-header"},[e.createVNode(B,{name:"jibenxinxi",class:"section-icon",size:"22"}),e.createElementVNode("text",{class:"section-title"},"基本信息")]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("关联竞赛"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"select-box",onClick:z},[r.competitionId?(e.openBlock(),e.createElementBlock("text",{key:0,class:"select-text"},e.toDisplayString(S.value),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"请选择竞赛")),e.createVNode(B,{name:"xialaxuanze",size:"24"})])]),e.createVNode(n,{ref_key:"competitionPopup",ref:i,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-container"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择竞赛"),e.createElementVNode("text",{class:"popup-close",onClick:_},"关闭")]),e.createElementVNode("scroll-view",{"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["category-tag",{"active-category":p.value===t.id}]),onClick:e=>{return a=t.id,p.value=a,void(m.value=0===a?[...d.value]:d.value.filter((e=>e.categoryId===a)));var a}},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),128))])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"competitions-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["competition-item",{"active-competition":r.competitionId===t.id}]),onClick:e=>function(e){r.competitionId=e.id}(t)},[e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("text",{class:"competition-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:e.normalizeClass(["competition-category",q(t.categoryId)])},e.toDisplayString(t.categoryName),3)]),1===t.isHot?(e.openBlock(),e.createElementBlock("text",{key:0,class:"hot-tag"},"热门")):e.createCommentVNode("",!0),r.competitionId===t.id?(e.openBlock(),e.createElementBlock("text",{key:1,class:"iconfont icon-check"})):e.createCommentVNode("",!0)],10,["onClick"])))),128)),0===m.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-tip"},[e.createElementVNode("text",null,"该分类下暂无竞赛")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"popup-footer"},[e.createElementVNode("button",{class:"confirm-btn",onClick:A},"确定")])])])),_:1},512),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("团队名称"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.teamName=e),placeholder:"请输入团队名称",class:"form-input"},null,512),[[e.vModelText,r.teamName]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("研究方向"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>r.researchDirection=e),placeholder:"请输入研究方向",class:"form-input"},null,512),[[e.vModelText,r.researchDirection]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("团队描述"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":l[2]||(l[2]=e=>r.description=e),placeholder:"请简要描述团队情况和目标",class:"form-textarea"},null,512),[[e.vModelText,r.description]])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-header"},[e.createVNode(B,{name:"zhaomuxingxi",class:"section-icon",size:"30"}),e.createElementVNode("text",{class:"section-title"},"招募信息")]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("招募截止日期"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"date-picker-box"},[e.createVNode(c,{type:"datetime",modelValue:r.recruitDeadline,"onUpdate:modelValue":l[3]||(l[3]=e=>r.recruitDeadline=e),"clear-icon":!1,"return-type":"timestamp"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"picker-view"},[r.recruitDeadline?(e.openBlock(),e.createElementBlock("text",{key:0,class:"select-text"},e.toDisplayString(R(r.recruitDeadline)),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"请选择截止日期")),e.createVNode(B,{name:"rqi",class:"picker-icon",size:"24"})])])),_:1},8,["modelValue"])])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-header"},[e.createVNode(B,{name:"lianxifangshi",class:"section-icon",size:"22"}),e.createElementVNode("text",{class:"section-title"},"联系方式")]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("电子邮箱"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>r.email=e),placeholder:"请输入电子邮箱",class:"form-input"},null,512),[[e.vModelText,r.email]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"微信"),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>r.wechat=e),placeholder:"请输入微信号",class:"form-input"},null,512),[[e.vModelText,r.wechat]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"QQ"),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=e=>r.qq=e),placeholder:"请输入QQ号",class:"form-input"},null,512),[[e.vModelText,r.qq]])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-header"},[e.createVNode(B,{name:"zhidaolaoshi",class:"section-icon",size:"30"}),e.createElementVNode("text",{class:"section-title"},"指导老师")]),r.teachers.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.teachers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"teacher-item"},[e.createElementVNode("view",{class:"item-header"},[e.createElementVNode("text",{class:"item-title"},"指导老师 "+e.toDisplayString(a+1),1),e.createElementVNode("view",{class:"delete-btn",onClick:e=>function(e){r.teachers.splice(e,1)}(a)},[e.createVNode(B,{name:"chuangjianrenwu",size:"20"})],8,["onClick"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("选择老师"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"select-box",onClick:e=>function(e){o.value.open(),k.value=e}(a)},[t.name?(e.openBlock(),e.createElementBlock("text",{key:0,class:"select-text"},e.toDisplayString(t.name),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"请选择老师")),e.createVNode(B,{name:"xiazhankai",class:"select-arrow",size:"24"})],8,["onClick"])])])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"add-item-btn",onClick:U},[e.createVNode(B,{name:"chuangjianrenwu",size:"24"}),e.createElementVNode("text",null,"添加指导老师")])]),e.createVNode(n,{ref_key:"teacherPopup",ref:o,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-container"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择指导老师"),e.createElementVNode("text",{class:"popup-close",onClick:j},"关闭")]),e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-input-wrapper"},[e.createVNode(B,{name:"sousuo",size:"24"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=e=>T.value=e),placeholder:"搜索教师姓名",class:"search-input",onInput:W},null,544),[[e.vModelText,T.value]]),T.value?(e.openBlock(),e.createBlock(B,{key:0,name:"mimaIcon",class:"clear-btn",onClick:G,size:"24"})):e.createCommentVNode("",!0)])]),e.createElementVNode("scroll-view",{"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["category-tag",{"active-category":y.value===t.id}]),onClick:e=>D(t.id)},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),128))])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"competitions-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["teacher-item-select",{"active-teacher":null!==k.value&&r.teachers[k.value].id===t.id,"disabled-teacher":O(t.id)}]),onClick:e=>function(e){O(e.id)?uni.showToast({title:"该教师已被选择",icon:"none"}):(r.teachers[k.value].id=e.id,r.teachers[k.value].name=e.name)}(t)},[e.createElementVNode("view",{class:"teacher-info"},[e.createElementVNode("image",{class:"teacher-avatar",src:t.avatarUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"teacher-detail"},[e.createElementVNode("text",{class:"teacher-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"teacher-major"},e.toDisplayString(t.major),1)])]),e.createElementVNode("view",{class:"teacher-status"},[O(t.id)?(e.openBlock(),e.createElementBlock("text",{key:0,class:"selected-tag"},"已选择")):null!==k.value&&r.teachers[k.value].id===t.id?(e.openBlock(),e.createElementBlock("text",{key:1,class:"iconfont icon-check"})):e.createCommentVNode("",!0)])],10,["onClick"])))),128)),0===f.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-tip"},[e.createElementVNode("text",null,e.toDisplayString(T.value?"没有找到相关教师":"该专业下暂无教师"),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"popup-footer"},[e.createElementVNode("button",{class:"confirm-btn",onClick:L},"确定")])])])),_:1},512),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-header"},[e.createVNode(B,{name:"zhaomujiaose",class:"section-icon",size:"24"}),e.createElementVNode("text",{class:"section-title"},"招募角色")]),r.roles.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.roles,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"role-item"},[e.createElementVNode("view",{class:"item-header"},[e.createElementVNode("text",{class:"item-title"},"角色 "+e.toDisplayString(a+1),1),e.createElementVNode("view",{class:"delete-btn",onClick:e=>function(e){r.roles.splice(e,1)}(a)},[e.createVNode(B,{name:"chuangjianrenwu",size:"20"})],8,["onClick"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("角色名称"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":e=>t.name=e,placeholder:"如：算法工程师",class:"form-input"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.name]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("招募人数"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{type:"number","onUpdate:modelValue":e=>t.count=e,placeholder:"请输入招募人数",class:"form-input"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.count]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("角色描述"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":e=>t.description=e,placeholder:"请描述该角色的职责",class:"form-textarea"},null,8,["onUpdate:modelValue"]),[[e.vModelText,t.description]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"技能要求"),e.createElementVNode("view",{class:"skill-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.skills,((t,l)=>(e.openBlock(),e.createElementBlock("view",{key:l,class:"skill-tag"},[e.createElementVNode("text",null,e.toDisplayString(t),1),e.createVNode(B,{name:"mimaIcon",size:"20",onClick:e.withModifiers((e=>function(e,t){r.roles[e].skills.splice(t,1)}(a,l)),["stop"])},null,8,["onClick"])])))),128))]),e.createElementVNode("view",{class:"skill-select-btn",onClick:e=>{return t=a,s.value.open(),void(x.value=t);var t}},[e.createVNode(B,{name:"zhuanye",size:"20"}),e.createElementVNode("text",null,"选择技能标签"),e.createVNode(B,{name:"xiazhankai",size:"20"})],8,["onClick"])])])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"add-item-btn",onClick:H},[e.createVNode(B,{name:"chuangjianrenwu",size:"24"}),e.createElementVNode("text",null,"添加招募角色")])])]),e.createElementVNode("view",{class:"submit-bar"},[e.createElementVNode("button",{class:"submit-btn",onClick:$},"创建团队")]),e.createVNode(n,{ref_key:"skillPopup",ref:s,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-container"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择技能标签"),e.createElementVNode("text",{class:"popup-close",onClick:Y},"关闭")]),e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-input-wrapper"},[e.createVNode(B,{name:"sousuo",size:"24"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=e=>b.value=e),placeholder:"搜索技能标签",class:"search-input",onInput:K},null,544),[[e.vModelText,b.value]]),b.value?(e.openBlock(),e.createBlock(B,{key:0,name:"mimaIcon",class:"clear-btn",onClick:ee,size:"24"})):e.createCommentVNode("",!0)])]),e.createElementVNode("scroll-view",{"scroll-x":"true",class:"category-scroll"},[e.createElementVNode("view",{class:"category-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t,class:e.normalizeClass(["category-tag",{"active-category":E.value===t}]),onClick:e=>J(t)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"competitions-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["skill-item-select",{"active-skill":Q(t.tagName),"disabled-skill":Z(t.tagName)}]),onClick:e=>function(e){const t=r.roles[x.value];Q(e.tagName)?t.skills=t.skills.filter((t=>t!==e.tagName)):t.skills.push(e.tagName)}(t)},[e.createElementVNode("view",{class:"skill-info"},[e.createElementVNode("text",{class:"skill-name"},e.toDisplayString(t.tagName),1),t.description?(e.openBlock(),e.createElementBlock("text",{key:0,class:"skill-desc"},e.toDisplayString(t.description),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"skill-check"},[e.createElementVNode("text",{class:e.normalizeClass(["selection-indicator",{selected:Q(t.tagName)}])},e.toDisplayString(Q(t.tagName)?"已选":"选择"),3)])],10,["onClick"])))),128)),0===C.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-tip"},[e.createElementVNode("text",null,e.toDisplayString(b.value?"没有找到相关技能":"该分类下暂无技能标签"),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"popup-footer"},[e.createElementVNode("view",{class:"selected-count"},[e.createTextVNode(" 已选: "),e.createElementVNode("text",{class:"count-highlight"},e.toDisplayString(te()),1),e.createTextVNode(" 个技能 ")]),e.createElementVNode("button",{class:"confirm-btn",onClick:X},"确定")])])])),_:1},512)])}}};const lt=T({components:{HeaderBar:F,TeamCard:j,TabBar:L,SvgIcon:B},data:()=>({loading:!0,recommendedTeams:[],aiSummary:"",headerPlaceholderHeight:"200rpx",cacheValidDuration:108e5}),onLoad(){if(!uni.getStorageSync("token"))return t("log","at pages/team/recommended.vue:95","用户未登录，无法访问AI推荐页面"),void uni.showModal({title:"需要登录",content:"查看AI智能推荐需要先登录账号",confirmText:"去登录",cancelText:"返回",success:e=>{e.confirm?uni.navigateTo({url:"/pages/login/login"}):uni.navigateBack()}});this.getSystemInfo();this.checkCacheAndLoad()||this.getRecommendedTeams()},onShow(){setTimeout((()=>{this.$refs.headerBarRef&&this.updateHeaderHeight()}),50)},methods:{getSystemInfo(){uni.getSystemInfo({success:e=>{if(e.safeArea&&e.safeArea.top){const t=Math.round(750*e.safeArea.top/e.screenWidth);this.headerPlaceholderHeight=200+t+"rpx"}}})},handleBack(){t("log","at pages/team/recommended.vue:154","AI推荐页面：处理返回事件"),uni.navigateBack({delta:1,fail:()=>{t("log","at pages/team/recommended.vue:159","返回失败，跳转到首页"),uni.switchTab({url:"/pages/index/index"})}})},updateHeaderHeight(){if(this.$refs.headerBarRef&&this.$refs.headerBarRef.headerHeight){const e=this.$refs.headerBarRef.headerHeight;this.headerPlaceholderHeight=e+20+"rpx",t("log","at pages/team/recommended.vue:173","更新HeaderBar占位高度:",this.headerPlaceholderHeight)}},checkCacheAndLoad(){try{const a=uni.getStorageSync("ai_recommended_teams"),l=uni.getStorageSync("ai_summary"),n=uni.getStorageSync("ai_recommend_cache_time"),i=Date.now();if(!n||i-Number(n)>this.cacheValidDuration)return t("log","at pages/team/recommended.vue:189","缓存已过期，需要重新获取数据。过期时间:",n?new Date(Number(n)).toLocaleString():"无缓存时间"),!1;if(a)try{const e=JSON.parse(a);if(Array.isArray(e)&&e.length>0)return this.recommendedTeams=e,this.aiSummary=l||"根据您的专业、技能和兴趣，我们为您推荐了以下最匹配的团队",this.loading=!1,t("log","at pages/team/recommended.vue:203","组件初始化时使用缓存数据:",e.length,"个推荐队伍，缓存时间:",new Date(Number(n)).toLocaleString()),!0}catch(e){t("error","at pages/team/recommended.vue:207","初始化时解析缓存失败:",e)}else t("log","at pages/team/recommended.vue:210","没有可用的缓存数据")}catch(e){t("error","at pages/team/recommended.vue:213","初始检查缓存出错:",e)}return!1},async getRecommendedTeams(e=!1){if(!e&&this.recommendedTeams.length>0)return t("log","at pages/team/recommended.vue:223","已有推荐数据，不再重复加载"),void(this.loading=!1);this.loading=!0;try{if(t("log","at pages/team/recommended.vue:231","开始获取AI推荐队伍数据，强制刷新:",e),!e){let e=null,l=null,n=null;try{e=uni.getStorageSync("ai_recommended_teams"),l=uni.getStorageSync("ai_summary"),n=uni.getStorageSync("ai_recommend_cache_time");const a=Date.now(),i=!n||a-Number(n)>this.cacheValidDuration;t("log","at pages/team/recommended.vue:250","缓存状态检查:"),t("log","at pages/team/recommended.vue:251","- 缓存数据存在:",!!e),t("log","at pages/team/recommended.vue:252","- 缓存时间:",n?new Date(Number(n)).toLocaleString():"无缓存时间"),t("log","at pages/team/recommended.vue:253","- 缓存是否过期:",i),i&&(t("log","at pages/team/recommended.vue:257","缓存已过期，需要重新获取数据"),e=null)}catch(a){t("error","at pages/team/recommended.vue:261","读取缓存出错:",a)}if(e){t("log","at pages/team/recommended.vue:266","使用缓存的AI推荐数据");try{const a=JSON.parse(e);if(Array.isArray(a)&&a.length>0)return this.recommendedTeams=a,this.aiSummary=l||"根据您的专业、技能和兴趣，我们为您推荐了以下最匹配的团队",t("log","at pages/team/recommended.vue:273","成功加载缓存数据，推荐队伍数量:",this.recommendedTeams.length),void(this.loading=!1);t("log","at pages/team/recommended.vue:277","缓存数据格式无效，需要重新获取")}catch(a){t("error","at pages/team/recommended.vue:280","解析缓存数据失败:",a)}}}t("log","at pages/team/recommended.vue:287","请求新的AI推荐数据");const l=await h.getRecommendedTeams();if(200===l.code&&l.data){const e=l.data.recommendedTeams||[];this.recommendedTeams=e.map((e=>({...e,matchScore:e.matchScore||Math.floor(30*Math.random())+70,matchReason:e.matchReason||e.recommendReason||"根据您的技能和兴趣推荐",recommendedRole:e.recommendedRole||""}))),this.aiSummary=l.data.aiSummary||"根据您的专业、技能和兴趣，我们为您推荐了以下最匹配的团队",t("log","at pages/team/recommended.vue:303","获取到新的AI推荐队伍数据:",this.recommendedTeams.length,"个队伍");try{uni.setStorageSync("ai_recommended_teams",JSON.stringify(this.recommendedTeams)),uni.setStorageSync("ai_summary",this.aiSummary);const e=Date.now();uni.setStorageSync("ai_recommend_cache_time",e.toString()),t("log","at pages/team/recommended.vue:315","AI推荐数据缓存成功，缓存时间:",new Date(e).toLocaleString())}catch(a){t("error","at pages/team/recommended.vue:317","缓存AI推荐数据失败:",a)}}else if(t("error","at pages/team/recommended.vue:320","获取推荐数据失败:",l.message||"未知错误"),!e)try{const e=uni.getStorageSync("ai_recommended_teams");if(e){const a=JSON.parse(e);Array.isArray(a)&&a.length>0&&(this.recommendedTeams=a,this.aiSummary=uni.getStorageSync("ai_summary")||"根据您的专业、技能和兴趣，我们为您推荐了以下最匹配的团队",t("log","at pages/team/recommended.vue:331","使用缓存作为备用数据"))}}catch(a){t("error","at pages/team/recommended.vue:335","解析缓存失败:",a)}}catch(l){if(t("error","at pages/team/recommended.vue:340","获取AI推荐队伍失败:",l),!e)try{const e=uni.getStorageSync("ai_recommended_teams");if(e){const a=JSON.parse(e);Array.isArray(a)&&a.length>0&&(this.recommendedTeams=a,this.aiSummary=uni.getStorageSync("ai_summary")||"",t("log","at pages/team/recommended.vue:351","由于请求失败，使用缓存作为备用数据"))}}catch(a){t("error","at pages/team/recommended.vue:355","加载备用缓存失败:",a)}0===this.recommendedTeams.length&&uni.showToast({title:"获取推荐失败，请稍后再试",icon:"none",duration:2e3})}finally{this.loading=!1,t("log","at pages/team/recommended.vue:370","AI推荐数据加载完成，显示状态更新")}},refreshRecommendations(){try{uni.removeStorageSync("ai_recommended_teams"),uni.removeStorageSync("ai_summary"),uni.removeStorageSync("ai_recommend_cache_time"),t("log","at pages/team/recommended.vue:383","已清除AI推荐缓存，准备获取新数据")}catch(e){t("error","at pages/team/recommended.vue:385","清除缓存失败:",e)}this.getRecommendedTeams(!0).then((()=>{t("log","at pages/team/recommended.vue:391","推荐刷新完成")})).catch((e=>{t("error","at pages/team/recommended.vue:394","推荐刷新出错:",e)})).finally((()=>{uni.hideLoading(),uni.showToast({title:"推荐已更新",icon:"success"})}))},viewTeamDetail(e){uni.navigateTo({url:`/pages/team/detail?id=${e}`})},goToProfile(){uni.switchTab({url:"/pages/profile/index"})}}},[["render",function(t,a,l,n,i,o){const s=e.resolveComponent("header-bar"),c=e.resolveComponent("SvgIcon"),r=e.resolveComponent("team-card");return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(s,{ref:"headerBarRef",title:"AI智能推荐","show-search":!1,"show-filter":!1,"show-ai-recommend":!1,onBack:o.handleBack},null,8,["onBack"]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"content-scroll",style:e.normalizeStyle({paddingTop:i.headerPlaceholderHeight})},[i.aiSummary?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ai-summary"},[e.createElementVNode("view",{class:"summary-header"},[e.createElementVNode("text",{class:"summary-title"},"✨ AI分析结果")]),e.createElementVNode("text",{class:"summary-content"},e.toDisplayString(i.aiSummary),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"为您推荐的队伍"),e.createElementVNode("view",{class:"refresh-btn",onClick:a[0]||(a[0]=(...e)=>o.refreshRecommendations&&o.refreshRecommendations(...e))},[e.createVNode(c,{name:"shuaxin",size:"20"})])]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"正在加载推荐...")])):i.recommendedTeams.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"team-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.recommendedTeams,((t,a)=>(e.openBlock(),e.createBlock(r,{key:t.id,team:t,index:a,"show-match":!0,onDetail:o.viewTeamDetail,style:{"font-size":"30rpx"}},null,8,["team","index","onDetail"])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"empty-state"},[e.createElementVNode("image",{class:"empty-icon",src:"/static/images/empty-data.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无推荐，请完善个人资料后再试"),e.createElementVNode("button",{class:"primary-btn",onClick:a[1]||(a[1]=(...e)=>o.goToProfile&&o.goToProfile(...e))},"完善资料")]))])],4)])}]]);const nt=T({components:{TabBar:L,HeaderBar:F,SvgIcon:B},data:()=>({categories:["全部竞赛","学科竞赛","创新创业","科技竞赛","文体竞赛"],currentCategory:0,loading:!1,hasMore:!0,currentPage:1,pageSize:10,hotCompetitions:[],competitionList:[],currentHotIndex:0,headerPlaceholderHeight:"200rpx",icons:C}),onLoad(){this.getHotCompetitions(),this.getCompetitionList(),this.updateHeaderHeight()},mounted(){setTimeout((()=>{this.updateHeaderHeight()}),300)},onPullDownRefresh(){this.onRefresh()},onReachBottom(){this.loadMore()},methods:{updateHeaderHeight(){const e=this.$refs.headerBarRef;e&&e.headerHeight?this.headerPlaceholderHeight=e.headerHeight+"rpx":this.headerPlaceholderHeight=this.categories.length>0?"200rpx":"120rpx"},onSwiperChange(e){this.currentHotIndex=e.detail.current},switchToSlide(e){this.currentHotIndex=e},async getHotCompetitions(){try{this.loading=!0;const e=await b.competitions.getCompetitionsList({pageSize:3,isHot:!0});e&&200===e.code&&e.data&&Array.isArray(e.data.list)&&(this.hotCompetitions=e.data.list)}catch(e){t("error","at pages/competition/index.vue:234","获取热门竞赛失败:",e),uni.showToast({title:"获取热门竞赛失败",icon:"none"}),this.hotCompetitions=[]}finally{this.loading=!1}},async getCompetitionList(e=!0){try{if(e&&(this.currentPage=1,this.competitionList=[]),!this.hasMore&&!e)return;this.loading=!0;const t={pageNum:this.currentPage,pageSize:this.pageSize};if(this.currentCategory>0){const e=[null,1,2,3,4];t.categoryId=e[this.currentCategory]}const a=await b.competitions.getCompetitionsList(t);a&&200===a.code&&a.data&&(e?this.competitionList=Array.isArray(a.data.list)?a.data.list:[]:Array.isArray(a.data.list)&&(this.competitionList=[...this.competitionList,...a.data.list]),this.hasMore=a.data.hasNext||!1,0===this.competitionList.length&&uni.showToast({title:"暂无竞赛数据",icon:"none"}))}catch(a){t("error","at pages/competition/index.vue:294","获取竞赛列表失败:",a),uni.showToast({title:"获取竞赛列表失败",icon:"none"}),e&&(this.competitionList=[])}finally{this.loading=!1}},loadMore(){!this.loading&&this.hasMore&&(this.currentPage++,this.getCompetitionList(!1))},onRefresh(){this.getCompetitionList(!0),this.getHotCompetitions(),uni.stopPullDownRefresh()},getCategoryClass(e){switch(e){case"创新创业":return"tag-orange";case"学科竞赛":return"tag-green";case"科技竞赛":return"tag-blue";case"文体竞赛":return"tag-purple";default:return""}},getStatusClass(e){switch(e){case"0":return"status-upcoming";case"1":return"status-active";case"2":return"status-ongoing";case"3":return"status-ended";default:return""}},formatDate(e){if(!e)return"";const t=new Date(e);return`${t.getMonth()+1}月${t.getDate()}日`},isUpcoming:e=>"0"===e.status,selectCategory(e){this.currentCategory!==e&&(this.currentCategory=e,this.getCompetitionList(!0))},viewDetail(e){uni.navigateTo({url:`/pages/competition/detail?id=${e}`})},handleTabChange(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"team"===e?uni.switchTab({url:"/pages/team/list"}):"profile"===e&&uni.switchTab({url:"/pages/profile/index"})},goToNotification(){uni.navigateTo({url:"/pages/Xiaoxi/Xiaoxi"})},goToSearch(){uni.navigateTo({url:"/pages/search/index"})},showPublishOptions(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})},getActionText(e){switch(e){case"0":return"提醒我";case"1":case"2":default:return"查看详情";case"3":return"查看结果"}}}},[["render",function(t,a,l,n,i,o){const s=e.resolveComponent("header-bar"),c=e.resolveComponent("SvgIcon"),r=e.resolveComponent("tab-bar");return e.openBlock(),e.createElementBlock("view",{class:"container",ref:"instance"},[e.createVNode(s,{ref:"headerBarRef",title:"竞赛广场",categories:i.categories,"default-category":i.currentCategory,"show-filter":"true",onSearch:o.goToSearch,onFilter:o.goToNotification,onCategoryChange:o.selectCategory},null,8,["categories","default-category","onSearch","onFilter","onCategoryChange"]),e.createElementVNode("view",{class:"header-placeholder",style:e.normalizeStyle({height:i.headerPlaceholderHeight})},null,4),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"competition-content",onScrolltolower:a[2]||(a[2]=(...e)=>o.loadMore&&o.loadMore(...e))},[i.hotCompetitions&&i.hotCompetitions.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"热门竞赛")]),e.createElementVNode("swiper",{class:"hot-swiper",indicator:!1,autoplay:!0,interval:3e3,duration:500,circular:!0,current:i.currentHotIndex,onChange:a[0]||(a[0]=(...e)=>o.onSwiperChange&&o.onSwiperChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.hotCompetitions,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:a,class:"hot-swiper-item"},[e.createElementVNode("view",{class:"hot-item",onClick:e=>o.viewDetail(t.id)},[e.createElementVNode("image",{class:"hot-img",src:t.coverImageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"hot-overlay"},[e.createElementVNode("text",{class:"hot-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"hot-desc"},e.toDisplayString(t.shortDescription),1),e.createElementVNode("view",{class:"hot-info"},[e.createElementVNode("view",{class:"hot-info-item"},[e.createElementVNode("text",{class:"hot-date"},"报名截止: "+e.toDisplayString(o.formatDate(t.registrationDeadline)),1)]),e.createElementVNode("view",{class:"hot-info-item"},[e.createVNode(c,{name:"Baominrenshulunbotu"}),e.createElementVNode("text",{class:"hot-team"},e.toDisplayString(t.teamSize)+"~"+e.toDisplayString(t.teamMax)+"人",1)])])])],8,["onClick"])])))),128))],40,["current"]),e.createElementVNode("view",{class:"dots-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.hotCompetitions,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["dot",{"active-dot":i.currentHotIndex===a}]),onClick:e=>o.switchToSlide(a)},null,10,["onClick"])))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"最新竞赛")]),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.competitionList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"competition-card",key:a,onClick:e=>o.viewDetail(t.id)},[e.createElementVNode("view",{class:"card-image-wrapper"},[e.createElementVNode("image",{class:"card-image",src:t.coverImageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",o.getStatusClass(t.status)])},e.toDisplayString(t.statusText),3)]),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"card-desc"},e.toDisplayString(t.shortDescription),1),e.createElementVNode("view",{class:"card-tags"},[e.createElementVNode("text",{class:e.normalizeClass(["category-tag",o.getCategoryClass(t.categoryName)])},e.toDisplayString(t.categoryName),3),e.createElementVNode("text",{class:"level-tag"},[e.createVNode(c,{name:"dengji",size:"18",style:{"padding-bottom":"15rpx"}}),e.createTextVNode(" "+e.toDisplayString(t.level),1)]),e.createElementVNode("text",{class:"team-tag"},[e.createVNode(c,{name:"baomingrhenshu2",size:"20",style:{"padding-bottom":"10rpx"}}),e.createTextVNode(" "+e.toDisplayString(t.participantCount||0)+"人已报名 ",1)])]),e.createElementVNode("view",{class:"card-footer"},[e.createElementVNode("view",{class:"date-info"},[e.createElementVNode("text",{class:"date-text"},e.toDisplayString(o.isUpcoming(t)?"报名开始":"报名截止")+": "+e.toDisplayString(o.formatDate(o.isUpcoming(t)?t.registrationStart:t.registrationDeadline)),1)]),e.createElementVNode("view",{class:e.normalizeClass(["action-btn",{"disabled-btn":"0"===t.status||"3"===t.status}])},e.toDisplayString(o.getActionText(t.status)),3)])])],8,["onClick"])))),128)),i.competitionList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-more"},[i.loading?(e.openBlock(),e.createElementBlock("text",{key:0},"加载中...")):i.hasMore?(e.openBlock(),e.createElementBlock("text",{key:1,onClick:a[1]||(a[1]=(...e)=>o.loadMore&&o.loadMore(...e))},"点击加载更多")):(e.openBlock(),e.createElementBlock("text",{key:2},"没有更多竞赛了"))])):e.createCommentVNode("",!0),0!==i.competitionList.length||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"暂无竞赛数据")]))])])],32),e.createVNode(r,{"active-tab":"competition",onTabChange:o.handleTabChange,onPublish:o.showPublishOptions},null,8,["onTabChange","onPublish"])],512)}]]),it={__name:"create",setup(l){const n=e.reactive({title:"",categoryId:null,level:"",shortDescription:"",description:"",requirements:"",registrationStart:"",registrationEnd:"",teamMin:"",teamMax:"",isHot:!1,websiteUrl:"",name:"",contactQQ:"",contactEmail:"",coverUrl:"",coverFile:null,attachments:[]}),i=e.ref([]),o=["国家级","省级","市级","校级"];function s(e){return{"计算机类":"iconfont icon-computer","设计类":"iconfont icon-palette","创新创业":"iconfont icon-lightbulb","学科竞赛":"iconfont icon-book","科技竞赛":"iconfont icon-chip","文化艺术":"iconfont icon-palette","体育竞赛":"iconfont icon-running"}[e]||"iconfont icon-more"}function c(){i.value=[{label:"创新创业",value:2,icon:"iconfont icon-lightbulb",id:2},{label:"学科竞赛",value:1,icon:"iconfont icon-book",id:1},{label:"科技竞赛",value:3,icon:"iconfont icon-chip",id:3},{label:"文化艺术",value:4,icon:"iconfont icon-palette",id:4},{label:"体育竞赛",value:5,icon:"iconfont icon-running",id:5},{label:"其他",value:6,icon:"iconfont icon-more",id:6}]}function r(){uni.showToast({title:"只有管理员才能发布竞赛",icon:"none"}),setTimeout((()=>{uni.navigateBack()}),1500)}function d(){uni.navigateBack()}function m(){if(!n.title)return uni.showToast({title:"请输入竞赛标题",icon:"none"});w(0)}function u(){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{n.coverUrl=e.tempFilePaths[0],n.coverFile=e.tempFiles[0]}})}function h(){uni.chooseFile({count:5,type:"all",extension:[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".zip"],success:e=>{const t=e.tempFiles.map((e=>({name:e.name||"未命名文件",path:e.path,size:e.size,file:e})));n.attachments=[...n.attachments,...t]}})}function v(){(function(){if(!n.title)return f("请输入竞赛标题"),!1;if(!n.categoryId)return f("请选择竞赛分类"),!1;if(!n.level)return f("请选择竞赛级别"),!1;if(!n.shortDescription)return f("请填写竞赛简介"),!1;if(!n.description)return f("请填写竞赛介绍"),!1;if(!n.requirements)return f("请填写参赛要求"),!1;if(!n.registrationStart||!n.registrationEnd)return f("请选择竞赛时间"),!1;if(!n.teamMin||!n.teamMax)return f("请填写团队人数"),!1;if(!n.name||!n.contactEmail)return f("请填写联系方式"),!1;if(!n.coverUrl)return f("请上传竞赛封面"),!1;return!0})()&&w(1)}function f(e){uni.showToast({title:e,icon:"none"})}async function w(e){const a={title:n.title,categoryId:n.categoryId,level:n.level,shortDescription:n.shortDescription,description:n.description,requirements:n.requirements,registrationStart:n.registrationStart+"T00:00:00",registrationDeadline:n.registrationEnd+"T23:59:59",teamSize:parseInt(n.teamMin)||1,teamMax:parseInt(n.teamMax)||5,status:e.toString(),organizer:"主办方名称",websiteUrl:n.websiteUrl,contactInfo:{email:n.contactEmail,qq:n.contactQQ,name:n.name}};uni.showLoading({title:0===e?"保存中...":"发布中..."});try{const t=new FormData;t.append("competitionData",JSON.stringify(a)),n.coverFile&&t.append("coverImage",n.coverFile),n.attachments.forEach(((e,a)=>{e.file&&t.append("attachmentFiles",e.file)}));const l=uni.getStorageSync("token"),i=await new Promise(((e,t)=>{uni.uploadFile({url:"http://localhost:8080/competitions/with-files",files:n.attachments.map((e=>({name:"attachmentFiles",file:e.file}))),filePath:n.coverUrl,name:"coverImage",formData:{competitionData:JSON.stringify(a)},header:{Authorization:"Bearer "+l},success:t=>{let a;try{a=JSON.parse(t.data)}catch(l){a={code:-1,message:"返回数据解析失败"}}e(a)},fail:e=>{t(e)}})}));200===i.code?(uni.showToast({title:0===e?"保存成功":"发布成功",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):uni.showToast({title:i.message||"操作失败",icon:"none"})}catch(l){t("error","at pages/competition/create.vue:670","操作失败:",l),uni.showToast({title:"操作失败，请重试",icon:"none"})}finally{uni.hideLoading()}}return e.onMounted((async()=>{await async function(){try{const e=uni.getStorageSync("token");if(!e)return void r();const t=await p.getUserRole(e);200===t.code&&"admin"===t.data||r()}catch(e){t("error","at pages/competition/create.vue:401","获取角色失败:",e),r()}}(),await async function(){try{const e=await g.getCompetitionCategories();200===e.code&&e.data&&Array.isArray(e.data)?i.value=e.data.map((e=>({label:e.name,value:e.id,icon:s(e.name),id:e.id}))):(t("error","at pages/competition/create.vue:351","获取分类失败:",e),c())}catch(e){t("error","at pages/competition/create.vue:355","获取分类出错:",e),c()}}()})),(t,l)=>{const s=a(e.resolveDynamicComponent("uni-easyinput"),he);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("view",{class:"back-btn",onClick:d},[e.createElementVNode("image",{src:e.unref(C).back,class:"icon-btn"},null,8,["src"])]),e.createElementVNode("text",{class:"page-title"},"发布竞赛"),e.createElementVNode("view",{class:"draft-btn",onClick:m},"草稿箱")])]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"form-content"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"基本信息"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛标题"),e.createElementVNode("text",{class:"required"},"*")]),e.createVNode(s,{type:"text",modelValue:n.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.title=e),placeholder:"请输入竞赛名称（5-50字",clearable:!1},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛分类"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"category-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["category-item",{"category-active":n.categoryId===t.id}]),onClick:e=>n.categoryId=t.id},[e.createElementVNode("text",{class:e.normalizeClass(["category-icon",t.icon])},null,2),e.createElementVNode("text",null,e.toDisplayString(t.label),1)],10,["onClick"])))),128))])]),e.createElementVNode("view",null,[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛级别"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("scroll-view",{class:"level-scroll","scroll-x":""},[e.createElementVNode("view",{class:"level-list"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(o,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["level-item",{"level-active":n.level===t}]),onClick:e=>n.level=t},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"]))),64))])])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"竞赛详情"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛简介"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":l[1]||(l[1]=e=>n.shortDescription=e),placeholder:"请填写竞赛简介（10-30个字）",class:"form-textarea",maxlength:"140"},null,512),[[e.vModelText,n.shortDescription]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛介绍"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":l[2]||(l[2]=e=>n.description=e),placeholder:"请详细描述竞赛背景、目的和意义（50-1000字）",class:"form-textarea",maxlength:"2000"},null,512),[[e.vModelText,n.description]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"参赛要求"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":l[3]||(l[3]=e=>n.requirements=e),placeholder:"请说明参赛资格、人数限制等要求（20-500字）",class:"form-textarea form-textarea-medium",maxlength:"1000"},null,512),[[e.vModelText,n.requirements]])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"时间与团队"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛时间"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"time-grid"},[e.createElementVNode("view",{class:"time-column"},[e.createElementVNode("text",{class:"time-label"},"报名开始时间"),e.createElementVNode("picker",{mode:"date",value:n.registrationStart,onChange:l[4]||(l[4]=e=>n.registrationStart=e.detail.value),class:"date-picker"},[e.createElementVNode("view",{class:"picker-view"},[n.registrationStart?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(n.registrationStart),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"选择日期"))])],40,["value"])]),e.createElementVNode("view",{class:"time-column"},[e.createElementVNode("text",{class:"time-label"},"报名截止时间"),e.createElementVNode("picker",{mode:"date",value:n.registrationEnd,onChange:l[5]||(l[5]=e=>n.registrationEnd=e.detail.value),class:"date-picker"},[e.createElementVNode("view",{class:"picker-view"},[n.registrationEnd?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(n.registrationEnd),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"选择日期"))])],40,["value"])])])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"团队人数"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"time-grid"},[e.createElementVNode("view",{class:"time-column"},[e.createElementVNode("text",{class:"time-label"},"最少人数"),e.createVNode(s,{type:"number",modelValue:n.teamMin,"onUpdate:modelValue":l[6]||(l[6]=e=>n.teamMin=e),placeholder:"输入人数",clearable:!1},null,8,["modelValue"])]),e.createElementVNode("view",{class:"time-column"},[e.createElementVNode("text",{class:"time-label"},"最多人数"),e.createVNode(s,{type:"number",modelValue:n.teamMax,"onUpdate:modelValue":l[7]||(l[7]=e=>n.teamMax=e),placeholder:"输入人数",clearable:!1},null,8,["modelValue"])])])]),e.createElementVNode("view",{class:"hot-toggle"},[e.createElementVNode("view",{class:"hot-info"},[e.createElementVNode("text",{class:"hot-title"},"设为热门竞赛"),e.createElementVNode("text",{class:"hot-desc"},"热门竞赛将在首页和竞赛列表优先展示")]),e.createElementVNode("switch",{checked:n.isHot,onChange:l[8]||(l[8]=e=>n.isHot=e.detail.value),color:"#00aaff"},null,40,["checked"])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("text",{class:"section-title"},"联系方式与附件"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"官方网站（可选）")]),e.createVNode(s,{type:"text",modelValue:n.websiteUrl,"onUpdate:modelValue":l[9]||(l[9]=e=>n.websiteUrl=e),placeholder:"输入网站",clearable:!1},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"联系方式"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"contact-grid"},[e.createElementVNode("view",{class:"contact-row"},[e.createElementVNode("view",{class:"contact-input"},[e.createElementVNode("text",{class:"contact-icon iconfont icon-user"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[10]||(l[10]=e=>n.name=e),placeholder:"联系人"},null,512),[[e.vModelText,n.name]])]),e.createElementVNode("view",{class:"contact-input"},[e.createElementVNode("text",{class:"contact-icon iconfont icon-qq"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[11]||(l[11]=e=>n.contactQQ=e),placeholder:"QQ群"},null,512),[[e.vModelText,n.contactQQ]])])]),e.createElementVNode("view",{class:"contact-input contact-email"},[e.createElementVNode("text",{class:"contact-icon iconfont icon-email"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[12]||(l[12]=e=>n.contactEmail=e),placeholder:"联系邮箱"},null,512),[[e.vModelText,n.contactEmail]])])])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛封面"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("view",{class:"upload-box",onClick:u},[n.coverUrl?(e.openBlock(),e.createElementBlock("image",{key:1,src:n.coverUrl,mode:"aspectFill",class:"cover-image"},null,8,["src"])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-placeholder"},[e.createElementVNode("text",{class:"upload-icon iconfont icon-image"}),e.createElementVNode("text",{class:"upload-text"},"点击上传或拖拽图片至此处"),e.createElementVNode("text",{class:"upload-tip"},"建议尺寸：800x400，文件大小不超过2MB")]))])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"form-label"},[e.createElementVNode("text",null,"竞赛附件（可选）")]),e.createElementVNode("view",{class:"upload-box",onClick:h},[0===n.attachments.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-placeholder"},[e.createElementVNode("text",{class:"upload-icon iconfont icon-file"}),e.createElementVNode("text",{class:"upload-text"},"点击上传或拖拽文件至此处"),e.createElementVNode("text",{class:"upload-tip"},"支持PDF、Word、PPT等格式，单个文件不超过10MB")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"file-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.attachments,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"file-item"},[e.createElementVNode("text",{class:"file-icon iconfont icon-file"}),e.createElementVNode("text",{class:"file-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"delete-icon iconfont icon-close",onClick:e.withModifiers((e=>function(e){n.attachments.splice(e,1)}(a)),["stop"])},null,8,["onClick"])])))),128))]))])])])]),e.createElementVNode("view",{class:"action-bar"},[e.createElementVNode("view",{class:"action-grid"},[e.createElementVNode("button",{class:"draft-button",onClick:m},"保存草稿"),e.createElementVNode("button",{class:"publish-button",onClick:v},[e.createElementVNode("text",{class:"iconfont icon-send"}),e.createElementVNode("text",null,"发布竞赛")])])])])}}},ot={__name:"detail",setup(a){const l=e.ref(null),n=e.ref(!1),i=e.ref("details"),o=e.ref({id:null,title:"",category:"",level:"国家级",status:"",statusCode:"",image:"",registrationPeriod:"",registrationStart:"",registrationDeadline:"",competitionPeriod:"",location:"线上初赛 + 线下决赛",teamRequirement:"",description:"",shortDescription:"",requirements:"",organizer:{name:"",description:"",logo:""},contactInfo:{phone:"",email:""},teamSize:0,teamMax:0,websiteUrl:"",viewCount:0,attachments:[],categoryNames:[],coverImageUrl:""}),s=e.ref([{title:"报名阶段",period:"",description:"在此阶段，参赛团队需完成在线报名，提交团队基本信息和项目概述。报名成功后，团队可以开始准备初赛材料。",status:"进行中",active:!0},{title:"初赛阶段",period:"",description:"各参赛团队需提交商业计划书和项目PPT。评审委员会将对所有参赛项目进行评审，选拔优秀项目进入复赛。",status:"未开始",active:!1},{title:"复赛阶段",period:"",description:"入围复赛的团队将进行现场路演和答辩。评委将从项目创新性、商业模式、团队能力等多方面进行评估。",status:"未开始",active:!1},{title:"总决赛",period:"",description:"决赛将在北京举行，入围团队将进行最终路演和展示。评审团将评选出金、银、铜奖项目，并举行颁奖典礼。",status:"未开始",active:!1}]),c=e.ref([{title:"挑战杯创业计划大赛",image:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=500",deadline:"6月10日"},{title:"创青春创业大赛",image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=500",deadline:"7月5日"}]),r=e.ref([]),d=e.ref(!1),m=e.ref(1),u=e.ref(10),p=e.ref(!0),h=e.ref(""),g=e.ref(!1);async function v(e){n.value=!0;try{const a=await b.competitions.getCompetitionDetail(e);if(a&&200===a.code&&a.data){const e=a.data;o.value={...o.value,id:e.id,title:e.title,category:e.categoryNames&&e.categoryNames.length>0?e.categoryNames[0]:"",level:e.level||"国家级",status:f(e.status),statusCode:e.status,image:e.coverImageUrl||"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=800",registrationStart:e.registrationStart,registrationDeadline:e.registrationDeadline,registrationPeriod:w(e.registrationStart,e.registrationDeadline),description:e.description||e.shortDescription||"",shortDescription:e.shortDescription||"",requirements:e.requirements||"",teamRequirement:`${e.teamSize}~${e.teamMax}人/队`,teamSize:e.teamSize,teamMax:e.teamMax,organizer:{name:e.organizer||"未知主办方",description:"",logo:""},contactInfo:e.contactInfo||{phone:"暂无联系方式",email:""},websiteUrl:e.websiteUrl||"",viewCount:e.viewCount||0,attachments:e.attachments||[],categoryNames:e.categoryNames||[],coverImageUrl:e.coverImageUrl||""},function(e){if(e.registrationStart&&e.registrationDeadline){s.value[0].period=w(e.registrationStart,e.registrationDeadline);const t=new Date,a=new Date(e.registrationStart),l=new Date(e.registrationDeadline);t<a?(s.value[0].status="未开始",s.value[0].active=!1):t>=a&&t<=l?(s.value[0].status="进行中",s.value[0].active=!0):(s.value[0].status="已结束",s.value[0].active=!1),"2"===e.status?(s.value[1].active=!0,s.value[1].status="进行中",s.value[0].status="已结束"):"3"===e.status&&(s.value[0].status="已结束",s.value[1].status="已结束",s.value[2].status="已结束",s.value[3].status="已结束")}}(e),t("log","at pages/competition/detail.vue:416","竞赛详情数据:",o.value)}else uni.showToast({title:"获取竞赛详情失败",icon:"none"})}catch(a){t("error","at pages/competition/detail.vue:424","获取竞赛详情错误:",a),uni.showToast({title:"获取竞赛详情失败",icon:"none"})}finally{n.value=!1}}function f(e){switch(e){case"0":return"未开始";case"1":return"报名中";case"2":return"进行中";case"3":return"已截止";default:return"未知状态"}}function w(e,t){if(!e||!t)return"";const a=e=>{const t=new Date(e);return`${t.getFullYear()}年${t.getMonth()+1}月${t.getDate()}日`};return`${a(e)} - ${a(t)}`}async function y(e=!0){if(e&&(m.value=1,r.value=[]),p.value||e){d.value=!0;try{const t=await b.team.getTeamList({pageNum:m.value,pageSize:u.value,competitionId:l.value});if(200===t.code&&t.data){const a=(t.data.list||[]).map((e=>{let t=[];e.teamMemberAvatars&&("string"==typeof e.teamMemberAvatars?t=e.teamMemberAvatars.split(",").filter((e=>e)):Array.isArray(e.teamMemberAvatars)&&(t=e.teamMemberAvatars.filter((e=>e))));let a="#6B7280";"0"===e.status||"招募中"===e.statusText?a="#2563EB":"1"===e.status||"进行中"===e.statusText?a="#10B981":"2"!==e.status&&"已完成"!==e.statusText||(a="#059669");const l=e.memberCount||e.currentMemberCount||0,n=e.maxMemberCount||0,i=Math.max(0,n-l),o=function(e){const t=["#2563EB","#10B981","#8B5CF6","#EC4899","#F59E0B","#EF4444"];let a=0;if(0===e.length)return t[0];for(let l=0;l<e.length;l++)a=e.charCodeAt(l)+((a<<5)-a),a&=a;return a=Math.abs(a)%t.length,t[a]}(e.faculty||e.direction||"");let s=[];return e.roles&&e.roles.length>0&&(s=e.roles.map((e=>({id:e.id||0,name:e.name||"未知角色",description:e.description||"",currentCount:e.currentCount||0,requiredCount:e.requiredCount||1,isFilled:(e.currentCount||0)>=(e.requiredCount||1)})))),{...e,avatars:t.slice(0,3),statusColor:a,memberCount:l,remainingCount:i,actionText:"0"===e.status?"申请加入":"查看详情",facultyColor:o,faculty:e.direction||"未知方向",roles:s}}));r.value=e?a:[...r.value,...a],p.value=t.data.hasNext||!1,0!==r.value.length||e||uni.showToast({title:"没有更多团队了",icon:"none"})}else e&&uni.showToast({title:"暂无参赛队伍",icon:"none"})}catch(a){t("error","at pages/competition/detail.vue:597","获取竞赛队伍列表失败:",a),uni.showToast({title:"获取队伍列表失败",icon:"none"})}finally{d.value=!1}}}function k(){!d.value&&p.value&&(m.value++,y(!1))}function V(e){i.value=e,"teams"===e&&0===r.value.length&&y()}function N(e){switch(e){case"创新创业":return"orange-tag";case"学科竞赛":return"green-tag";case"科技竞赛":return"blue-tag";case"文体竞赛":return"purple-tag";case"程序设计":return"cxsj-tag";default:return"gray-tag"}}function E(e){switch(e){case"未开始":case"已截止":default:return"status-badge bg-gray-500";case"报名中":return"status-badge bg-green-500";case"进行中":return"status-badge bg-blue-500"}}function x(){switch(o.value.status){case"未开始":return"提醒我";case"报名中":return"寻找队伍";case"进行中":return"查看队伍";case"已截止":return"查看结果";default:return"了解详情"}}function C(){if(o.value.registrationDeadline){const e=new Date(o.value.registrationDeadline);return`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`}if(o.value.registrationPeriod){const e=o.value.registrationPeriod.split(" - ");return e.length>1?e[1]:o.value.registrationPeriod}return"暂无截止日期"}function T(){uni.navigateBack()}function S(){h.value=""}function D(){t("log","at pages/competition/detail.vue:759","打开筛选选项")}function M(){uni.navigateTo({url:`/pages/team/create?competitionId=${o.value.id}&competitionName=${encodeURIComponent(o.value.title)}`})}function z(){switch(x()){case"寻找队伍":case"查看队伍":i.value="teams",0===r.value.length&&y(),uni.pageScrollTo({selector:".tab-active",duration:300});break;case"提醒我":uni.showToast({title:"已设置提醒",icon:"success"});break;case"查看结果":uni.showToast({title:"比赛结果即将公布",icon:"none"});break;default:uni.showToast({title:"功能开发中",icon:"none"})}}function _(){g.value=!g.value,g.value?uni.showToast({title:"收藏成功",icon:"success",duration:2e3}):uni.showToast({title:"已取消收藏",icon:"none",duration:2e3})}function A(){uni.showToast({title:"分享功能开发中",icon:"none",duration:2e3})}return e.onMounted((()=>{const e=getCurrentPages(),t=e[e.length-1];t.$page&&t.$page.options?(l.value=t.$page.options.id,l.value?v(l.value).finally((()=>{uni.hideLoading()})):(uni.hideLoading(),uni.showToast({title:"竞赛ID不存在",icon:"none"}))):uni.hideLoading()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"spinner"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"sticky-header"},[e.createElementVNode("view",{class:"flex-row px-4 py-3"},[e.createElementVNode("view",{class:"back-btn",onClick:T},[e.createVNode(B,{name:"back",class:"icon-btn"})]),e.createElementVNode("text",{class:"text-xl font-bold text-gray-800"},"竞赛详情"),e.createElementVNode("view",{class:"ml-auto flex-row space-x-3"},[e.createElementVNode("view",{class:"icon-circle",onClick:_},[e.createVNode(B,{name:g.value?"souchang":"weishouchang",class:"icon-btn"},null,8,["name"])]),e.createElementVNode("view",{class:"icon-circle",onClick:A},[e.createVNode(B,{name:"fenxiang",class:"icon-btn"})])])])]),e.createElementVNode("view",{class:"relative"},[e.createElementVNode("image",{class:"cover-image",src:o.value.image,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"cover-overlay"},[e.createElementVNode("view",{class:e.normalizeClass(E(o.value.status))},e.toDisplayString(o.value.status),3),e.createElementVNode("text",{class:"text-white text-2xl font-bold"},e.toDisplayString(o.value.title),1),e.createElementVNode("view",{class:"flex-row items-center mt-1 space-x-2"},[e.createElementVNode("text",{class:e.normalizeClass(["category-tag",N(o.value.category)])},e.toDisplayString(o.value.category),3)])])]),e.createElementVNode("view",{class:"bg-white p-4 shadow-sm"},[e.createElementVNode("view",{class:"flex-row justify-between items-center"},[e.createElementVNode("view",{class:"flex-row items-center space-x-2"},[e.createVNode(B,{name:"baoming",class:"info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},"报名截止: "+e.toDisplayString(C()),1)]),e.createElementVNode("view",{class:"flex-row items-center space-x-2"},[e.createVNode(B,{name:"Baominrenshu",class:"info-icon"}),e.createElementVNode("text",{class:"text-sm text-gray-700"},e.toDisplayString(o.value.teamRequirement),1)])]),e.createElementVNode("view",{class:"flex-row justify-between mt-3"},[e.createElementVNode("view",{class:"flex-row items-start space-x-2",style:{flex:"1"}},[e.createVNode(B,{name:"Zhubanfang",class:"info-icon",style:{"margin-top":"4rpx"}}),e.createElementVNode("text",{class:"text-sm text-gray-700 wrap-text",style:{"margin-top":"10rpx"}},"主办方: "+e.toDisplayString(o.value.organizer.name),1)]),e.createElementVNode("view",{class:"flex-row items-start level-tag",style:{"margin-right":"45rpx"}},[e.createVNode(B,{name:"dengji",class:"info-icon",style:{"margin-top":"4rpx"}}),e.createElementVNode("text",{class:"text-sm text-gray-700",style:{"margin-top":"10rpx"}},e.toDisplayString(o.value.level),1)])])]),e.createElementVNode("view",{class:"bg-white mt-2 shadow-sm"},[e.createElementVNode("view",{class:"flex-row border-b"},[e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","details"===i.value?"tab-active":"text-gray-500"]),onClick:a[0]||(a[0]=e=>V("details"))},"竞赛详情",2),e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","schedule"===i.value?"tab-active":"text-gray-500"]),onClick:a[1]||(a[1]=e=>V("schedule"))},"赛程安排",2),e.createElementVNode("view",{class:e.normalizeClass(["flex-1 py-3 text-center text-sm font-medium","teams"===i.value?"tab-active":"text-gray-500"]),onClick:a[2]||(a[2]=e=>V("teams"))},"参赛队伍",2)])]),"details"===i.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"竞赛简介"),e.createElementVNode("text",{class:"text-gray-700 text-sm leading-relaxed"},e.toDisplayString(o.value.description),1),o.value.requirements?(e.openBlock(),e.createElementBlock("view",{key:0,class:"font-bold text-lg text-gray-800 mt-6 mb-3"},"参赛要求")):e.createCommentVNode("",!0),o.value.requirements?(e.openBlock(),e.createElementBlock("text",{key:1,class:"text-gray-700 text-sm leading-relaxed"},e.toDisplayString(o.value.requirements),1)):(e.openBlock(),e.createElementBlock("view",{key:2,class:"text-gray-700 text-sm space-y-2 list-disc pl-5 mt-6"},[e.createElementVNode("view",{class:"list-item"},"参赛项目须为本校在校生，允许跨校组队"),e.createElementVNode("view",{class:"list-item"},"参赛团队成员"+e.toDisplayString(o.value.teamRequirement),1),e.createElementVNode("view",{class:"list-item"},"参赛项目需具有创新性、可行性和商业价值"),e.createElementVNode("view",{class:"list-item"},"参赛项目需提交商业计划书和路演PPT"),e.createElementVNode("view",{class:"list-item"},"参赛项目需在报名截止前完成在线提交")])),e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mt-6 mb-3"},"联系方式"),e.createElementVNode("view",{class:"space-y-2 text-sm text-gray-700"},[o.value.contactInfo.phone?(e.openBlock(),e.createElementBlock("text",{key:0},"联系电话："+e.toDisplayString(o.value.contactInfo.phone),1)):(e.openBlock(),e.createElementBlock("text",{key:1},"联系人：竞赛组委会")),o.value.contactInfo.email?(e.openBlock(),e.createElementBlock("view",{key:2},"邮箱："+e.toDisplayString(o.value.contactInfo.email),1)):e.createCommentVNode("",!0),o.value.websiteUrl?(e.openBlock(),e.createElementBlock("view",{key:3},"官网："+e.toDisplayString(o.value.websiteUrl),1)):e.createCommentVNode("",!0)]),o.value.attachments&&o.value.attachments.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"mt-6"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"相关资料"),0===o.value.attachments.length?(e.openBlock(),e.createElementBlock("view",{key:0},"无")):(e.openBlock(),e.createElementBlock("view",{key:1,class:"space-y-3"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value.attachments,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"flex-row items-center p-3 bg-gray-50 rounded-lg"},[e.createElementVNode("text",{class:"flex-1 text-sm text-gray-700"},e.toDisplayString(t.fileName),1),e.createElementVNode("view",{class:"download-btn"},[e.createVNode(B,{name:"xiazai",class:"download-icon"}),e.createElementVNode("text",{class:"text-xs text-white"},"下载")])])))),128))]))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"mt-6"},[e.createElementVNode("view",{class:"font-bold text-lg text-gray-800 mb-3"},"相关竞赛"),e.createElementVNode("view",{class:"related-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"related-card"},[e.createElementVNode("view",{class:"related-image-container"},[e.createElementVNode("image",{src:t.image,class:"related-image"},null,8,["src"])]),e.createElementVNode("view",{class:"p-3"},[e.createElementVNode("text",{class:"font-bold text-sm text-gray-800"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"flex-row items-center mt-1"},[e.createElementVNode("text",{class:"text-xs text-gray-500"},"报名截止: "+e.toDisplayString(t.deadline),1)])])])))),128))])])])):e.createCommentVNode("",!0),"schedule"===i.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"relative"},[e.createElementVNode("view",{class:"timeline-line"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"timeline-item"},[e.createElementVNode("view",{class:"timeline-dot-container"},[e.createElementVNode("view",{class:e.normalizeClass(["timeline-dot",t.active?"active-dot":""])},[e.createElementVNode("text",{class:"timeline-dot-text"},e.toDisplayString(a+1),1)],2)]),e.createElementVNode("view",{class:e.normalizeClass(["timeline-content",t.active?"active-content":""])},[e.createElementVNode("view",{class:"flex-row justify-between items-center mb-2"},[e.createElementVNode("text",{class:e.normalizeClass(["font-bold",t.active?"text-blue-800":"text-gray-700"])},e.toDisplayString(t.title),3),e.createElementVNode("text",{class:e.normalizeClass(["status-text",t.active?"active-status":"inactive-status"])},e.toDisplayString(t.status),3)]),e.createElementVNode("text",{class:"text-sm text-gray-700 mb-2"},e.toDisplayString(t.period),1),e.createElementVNode("text",{class:"text-xs text-gray-600"},e.toDisplayString(t.description),1)],2)])))),128))])])):e.createCommentVNode("",!0),"teams"===i.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"bg-white p-4 mt-2 shadow-sm"},[e.createElementVNode("view",{class:"search-filter-container"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("text",{class:"iconfont icon-search search-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"搜索队伍",class:"search-input","onUpdate:modelValue":a[3]||(a[3]=e=>h.value=e)},null,512),[[e.vModelText,h.value]]),h.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-close-circle clear-icon",onClick:S})):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"filter-btn",onClick:D},[e.createElementVNode("text",{class:"iconfont icon-filter filter-icon"}),e.createElementVNode("text",{class:"filter-text"},"筛选")])]),r.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"space-y-4"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"team-card",onClick:e=>{return a=t.id,void uni.navigateTo({url:`/pages/team/detail?id=${a}`});var a}},[e.createElementVNode("view",{class:"flex-row justify-between items-start"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"font-bold text-gray-800"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"flex-row items-center mt-1"},[e.createElementVNode("text",{class:"faculty-tag",style:e.normalizeStyle({backgroundColor:t.facultyColor+"20",color:t.facultyColor})},e.toDisplayString(t.faculty),5),e.createElementVNode("text",{class:"text-xs text-gray-500"},e.toDisplayString(t.memberCount)+"人团队",1)])]),e.createElementVNode("view",{class:"team-status",style:e.normalizeStyle({backgroundColor:t.statusColor+"20",color:t.statusColor})},e.toDisplayString(t.statusText),5)]),e.createElementVNode("text",{class:"text-sm text-gray-600 mt-3"},"项目简介："+e.toDisplayString(t.description),1),t.roles&&t.roles.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"role-tags mt-3"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.roles,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["role-tag",t.isFilled?"role-filled":"role-recruiting"])},[e.createElementVNode("text",{class:"role-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"role-count"},e.toDisplayString(t.currentCount||0)+"/"+e.toDisplayString(t.requiredCount||1),1)],2)))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"flex-row items-center justify-between mt-3"},[e.createElementVNode("view",{class:"flex-row member-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.avatars,((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,src:t||"/static/images/default-avatar.png",class:"member-avatar"},null,8,["src"])))),128)),t.remainingCount>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"member-avatar-more"},"+"+e.toDisplayString(t.remainingCount),1)):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"text-blue-500 text-sm"},e.toDisplayString(t.actionText),1)])],8,["onClick"])))),128))])):d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("text",{class:"text-gray-500"},"暂无参赛队伍")])),d.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"loading-state"},[e.createElementVNode("view",{class:"spinner-sm"}),e.createElementVNode("text",{class:"text-sm text-gray-500 ml-2"},"加载中...")])):e.createCommentVNode("",!0),r.value.length>0&&p.value?(e.openBlock(),e.createElementBlock("view",{key:3,class:"text-center mt-6"},[e.createElementVNode("button",{class:"load-more-btn",onClick:k},"加载更多")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"fixed-bottom"},[e.createElementVNode("button",{class:"team-btn",onClick:M},[e.createVNode(B,{name:"chuangjianduiwu",class:"btn-icon"}),e.createElementVNode("text",null,"创建队伍")]),e.createElementVNode("button",{class:e.normalizeClass(["register-btn",{"disabled-btn":"0"===o.value.statusCode||"3"===o.value.statusCode}]),disabled:"0"===o.value.statusCode||"3"===o.value.statusCode,onClick:z},["0"===o.value.statusCode?(e.openBlock(),e.createBlock(B,{key:0,name:"tixingwo",class:"btn-icon"})):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(x()),1)],10,["disabled"])])],64))]))}},st={__name:"index",setup(a){const n=e.ref({realName:"加载中...",phoneNumber:"",schoolId:null,schoolName:"",role:"",isVerified:!1,creditScore:0,major:"",studentTeacherId:"加载中...",avatarUrl:null,bio:"",skillTags:[],awardsHistory:[]}),i=e.ref(!0);async function o(){try{i.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(n.value=e.data,t("log","at pages/profile/index.vue:141","个人中心页获取到用户资料:",n.value)):t("error","at pages/profile/index.vue:143","获取用户资料失败:",e.message)}catch(e){t("error","at pages/profile/index.vue:146","获取用户资料失败:",e)}finally{i.value=!1}}function s(){t("log","at pages/profile/index.vue:154","刷新用户信息"),o()}function c(e){"applications"!==e?"apply-badge"!==e?"material-reward"!==e?"myCompetitions"!==e?"myTeams"!==e||uni.navigateTo({url:"/pages/myTeam/myTeam"}):uni.navigateTo({url:"/pages/mycompetitions/mycompetitions"}):uni.navigateTo({url:"/pages/profile/material-reward"}):uni.navigateTo({url:"/pages/profile/apply-badge"}):uni.navigateTo({url:"/pages/application/application"})}function r(){uni.showModal({title:"退出确认",content:"确定要退出登录吗？",success:function(e){e.confirm&&($.clearState(),uni.removeStorageSync("userInteractionState"),uni.removeStorageSync("_DC_STAT_UUID"),uni.removeStorageSync("ai_recommend_cache_time"),uni.removeStorageSync("ai_recommended_teams"),uni.removeStorageSync("ai_summary"),uni.removeStorageSync("token"),uni.showToast({title:"已退出登录",icon:"success",success:()=>{setTimeout((()=>{uni.redirectTo({url:"/pages/login/login"})}),1500)}}))}})}function d(){uni.navigateTo({url:"/pages/profile/user-info"})}function m(e){"home"===e?uni.switchTab({url:"/pages/index/index"}):"myCompetitions"===e?uni.switchTab({url:"/pages/competition/index"}):"team"===e&&uni.switchTab({url:"/pages/team/list"})}function u(){uni.showActionSheet({itemList:["发布竞赛信息","招募队友","发布项目展示"],success:function(e){uni.showToast({title:`选择了: ${e.tapIndex}`,icon:"none"})}})}return e.ref(!1),e.onMounted((()=>{o(),uni.$on("profileUpdated",(()=>{t("log","at pages/profile/index.vue:274","收到profileUpdated事件，刷新用户信息"),s()}))})),l((()=>{uni.getStorageSync("avatar_updated")&&(uni.removeStorageSync("avatar_updated"),s())})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"user-info-section"},[i.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"user-header"},[e.createElementVNode("view",{class:"user-info-clickable",onClick:d},[e.createElementVNode("image",{class:"user-avatar",src:n.value.avatarUrl||"https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?w=200",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"user-details"},[e.createElementVNode("text",{class:"user-name"},e.toDisplayString(n.value.realName),1),e.createElementVNode("text",{class:"user-id"},"学号: "+e.toDisplayString(n.value.studentTeacherId),1),e.createElementVNode("view",{class:"user-school"},[e.createElementVNode("text",{class:"school-name"},e.toDisplayString(n.value.schoolName),1),e.createElementVNode("text",{class:"major-name"},e.toDisplayString(n.value.major),1)])])]),e.createElementVNode("view",{class:"edit-btn",onClick:d},[e.createVNode(B,{name:"bianji"},{default:e.withCtx((()=>[e.createTextVNode("22")])),_:1})])]),e.createElementVNode("view",{class:"user-stats"},[e.createElementVNode("view",{class:"stat-item",onClick:a[0]||(a[0]=e=>c("myCompetitions"))},[e.createElementVNode("text",{class:"stat-value"},"4"),e.createElementVNode("text",{class:"stat-label"},"参与竞赛")]),e.createElementVNode("view",{class:"stat-item",onClick:a[1]||(a[1]=e=>c("myTeams"))},[e.createElementVNode("text",{class:"stat-value"},"2"),e.createElementVNode("text",{class:"stat-label"},"我的团队")]),e.createElementVNode("view",{class:"stat-item",onClick:a[2]||(a[2]=e=>c("myAwards"))},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(n.value.awardsHistory?n.value.awardsHistory.length:0),1),e.createElementVNode("text",{class:"stat-label"},"我的任务")]),e.createElementVNode("view",{class:"stat-item",onClick:a[3]||(a[3]=e=>c("settings"))},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(n.value.awardsCount||0),1),e.createElementVNode("text",{class:"stat-label"},"我的获奖")])])]))]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-group"},[e.createElementVNode("view",{class:"menu-item",onClick:a[4]||(a[4]=e=>c("material-reward"))},[e.createElementVNode("text",{class:"iconfont icon-users menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"实物奖励"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:a[6]||(a[6]=e=>c("myAwards"))},[e.createElementVNode("text",{class:"iconfont icon-star menu-icon"}),e.createElementVNode("text",{class:"menu-text",onClick:a[5]||(a[5]=e=>c("apply-badge"))},"勋章申请"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:a[7]||(a[7]=e=>c("applications"))},[e.createElementVNode("text",{class:"iconfont icon-paper-plane menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"申请管理"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})])]),e.createElementVNode("view",{class:"menu-group"},[e.createElementVNode("view",{class:"menu-item",onClick:a[8]||(a[8]=e=>c("settings"))},[e.createElementVNode("text",{class:"iconfont icon-settings menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"账号设置"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:a[9]||(a[9]=e=>c("feedback"))},[e.createElementVNode("text",{class:"iconfont icon-feedback menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"意见反馈"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})]),e.createElementVNode("view",{class:"menu-item",onClick:a[10]||(a[10]=e=>c("about"))},[e.createElementVNode("text",{class:"iconfont icon-info-circle menu-icon"}),e.createElementVNode("text",{class:"menu-text"},"关于我们"),e.createElementVNode("text",{class:"iconfont icon-arrow-left menu-arrow"})])])]),e.createElementVNode("view",{class:"logout-btn",onClick:r},[e.createElementVNode("text",null,"退出登录")]),e.createVNode(L,{"active-tab":"profile",onTabChange:m,onPublish:u})]))}},ct="/static/image/empty-medal.png",rt={__name:"user-info",setup(a){const l=e.ref({realName:"",phoneNumber:"",schoolId:null,schoolName:"",role:"",isVerified:!1,creditScore:0,major:"",studentTeacherId:"",avatarUrl:null,bio:"",skillTags:[],awardsHistory:[]}),n=e.ref(!0),i=e.ref(!1),o=e.ref([{id:1,name:"国赛一等奖",imageUrl:"/static/image/Lianxi/mc/1-1.png",description:"表彰在团队合作中表现突出的成员"},{id:2,name:"创新先锋",imageUrl:"/static/image/Lianxi/mc/1-2.png",description:"表彰在项目中提出创新想法的成员"},{id:3,name:"技术能手",imageUrl:"/static/image/Lianxi/mc/1-3.png",description:"表彰技术能力出众的成员"},{id:4,name:"勤奋之星",imageUrl:"/static/image/Lianxi/mc/1-4.png",description:"表彰工作勤奋、认真负责的成员"},{id:1,name:"国赛一等奖",imageUrl:"/static/image/Lianxi/mc/1-1.png",description:"表彰在团队合作中表现突出的成员"},{id:2,name:"创新先锋",imageUrl:"/static/image/Lianxi/mc/1-2.png",description:"表彰在项目中提出创新想法的成员"},{id:3,name:"技术能手",imageUrl:"/static/image/Lianxi/mc/1-3.png",description:"表彰技术能力出众的成员"},{id:4,name:"勤奋之星",imageUrl:"/static/image/Lianxi/mc/1-4.png",description:"表彰工作勤奋、认真负责的成员"},{id:1,name:"国赛一等奖",imageUrl:"/static/image/Lianxi/mc/1-1.png",description:"表彰在团队合作中表现突出的成员"},{id:2,name:"创新先锋",imageUrl:"/static/image/Lianxi/mc/1-2.png",description:"表彰在项目中提出创新想法的成员"},{id:3,name:"技术能手",imageUrl:"/static/image/Lianxi/mc/1-3.png",description:"表彰技术能力出众的成员"},{id:4,name:"勤奋之星",imageUrl:"/static/image/Lianxi/mc/1-4.png",description:"表彰工作勤奋、认真负责的成员"}]),s=e.ref(!1),c=e.ref(!1);function r(){s.value=!0,c.value=!0,setTimeout((()=>{c.value=!1}),3e3)}async function d(){try{n.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(l.value=e.data,t("log","at pages/profile/user-info.vue:347","获取到用户资料:",l.value)):uni.showToast({title:e.message||"获取资料失败",icon:"none"})}catch(e){t("error","at pages/profile/user-info.vue:355","获取用户资料失败:",e),uni.showToast({title:"获取个人资料失败",icon:"none"})}finally{n.value=!1}}async function m(){if(!i.value){i.value=!0,uni.showToast({title:"正在刷新...",icon:"none",duration:1e3});try{const e=await p.getUserProfile();200===e.code&&e.data?(l.value=e.data,uni.showToast({title:"刷新成功",icon:"success",duration:1e3})):uni.showToast({title:e.message||"刷新失败",icon:"none"})}catch(e){t("error","at pages/profile/user-info.vue:393","刷新用户资料失败:",e),uni.showToast({title:"刷新失败",icon:"none"})}finally{i.value=!1}}}function u(){try{const e={count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){try{t("log","at pages/profile/user-info.vue:413","选择图片成功:",e);const n=e.tempFilePaths[0];let i="";try{const e=n.match(/\.([a-zA-Z0-9]+)$/);e&&e[1]&&(i=e[1].toLowerCase())}catch(a){t("error","at pages/profile/user-info.vue:425","提取文件扩展名失败:",a)}t("log","at pages/profile/user-info.vue:428","文件路径:",n),t("log","at pages/profile/user-info.vue:429","识别到的扩展名:",i);const o=["jpg","jpeg","png"];if(i&&!o.includes(i))return void uni.showToast({title:"仅支持JPG、JPEG和PNG格式",icon:"none"});uni.showModal({title:"确认上传",content:"是否将选择的图片设为头像？",confirmColor:"#3B82F6",success:function(e){if(e.confirm)try{!function(e){const a="上传中";let n="",i=null;uni.showLoading({title:a,mask:!0}),i=setInterval((()=>{n=n.length>=3?"":n+".",uni.showLoading({title:a+n,mask:!0})}),500),p.uploadAvatar(e,(e=>{t("log","at pages/profile/user-info.vue:516","上传进度:",e),e>0&&uni.showLoading({title:`上传中 ${e}%`,mask:!0})})).then((e=>{i&&clearInterval(i),uni.hideLoading(),200===e.code&&e.data?(l.value.avatarUrl=e.data.avatarUrl,uni.setStorageSync("avatar_updated",!0),d(),uni.showToast({title:"头像上传成功",icon:"success"})):uni.showToast({title:e.message||"头像上传失败",icon:"none"})})).catch((e=>{i&&clearInterval(i),uni.hideLoading(),t("error","at pages/profile/user-info.vue:560","头像上传失败:",e),uni.showToast({title:"头像上传失败",icon:"none"})}))}(n)}catch(a){t("error","at pages/profile/user-info.vue:453","启动上传过程出错:",a),uni.showToast({title:"上传初始化失败",icon:"none"})}}})}catch(n){t("error","at pages/profile/user-info.vue:463","处理选中的图片时出错:",n),uni.showToast({title:"处理图片错误",icon:"none"})}},fail:function(e){t("error","at pages/profile/user-info.vue:471","选择图片失败:",e),uni.showToast({title:"选择图片失败",icon:"none"})},complete:function(){t("log","at pages/profile/user-info.vue:478","选择图片操作完成")}};uni.chooseImage(e)}catch(e){t("error","at pages/profile/user-info.vue:485","调用选择图片API出错:",e),uni.showToast({title:"选择图片功能异常",icon:"none"})}}function h(){uni.navigateTo({url:"/pages/profile/edit-basic-info"})}function g(){uni.navigateTo({url:"/pages/profile/edit-bio"})}function v(){uni.navigateTo({url:"/pages/profile/edit-skills"})}function f(){uni.navigateTo({url:"/pages/profile/edit-awards"})}function w(){if(uni.getStorageSync("avatar_updated")){uni.removeStorageSync("avatar_updated");const e=getCurrentPages();if(e.length>1){const t=e[e.length-2];t&&t.$vm&&("function"==typeof t.$vm.refreshUserInfo?t.$vm.refreshUserInfo():uni.$emit("profileUpdated"))}}uni.navigateBack()}const y=e.ref(!1),k=e.ref({}),V=e.ref(1),N=e.ref(0);function E(){y.value=!1}function x(e){if(2===e.touches.length){const t=e.touches[0],a=e.touches[1];N.value=Math.sqrt(Math.pow(a.pageX-t.pageX,2)+Math.pow(a.pageY-t.pageY,2))}}function b(e){if(2===e.touches.length&&N.value>0){const t=e.touches[0],a=e.touches[1],l=Math.sqrt(Math.pow(a.pageX-t.pageX,2)+Math.pow(a.pageY-t.pageY,2)),n=l/N.value;V.value=Math.max(.5,Math.min(3,V.value*n)),N.value=l}}function C(){N.value=0}function T(){uni.navigateTo({url:"/pages/profile/medal-detail"})}return e.onMounted((()=>{d()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:w},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"个人资料"),e.createElementVNode("view",{class:"right-placeholder"})]),n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"avatar-section"},[e.createElementVNode("view",{class:"user-info-card"},[e.createElementVNode("view",{class:"user-info-header"},[e.createElementVNode("view",{class:"user-avatar-container"},[e.createElementVNode("image",{class:"user-avatar",src:l.value.avatarUrl||"https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?w=200",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"avatar-edit-btn",onClick:u},[e.createVNode(B,{name:"bianji",size:"16",color:"#ffffff"})])]),e.createElementVNode("view",{class:"user-basic-info"},[e.createElementVNode("text",{class:"user-name"},e.toDisplayString(l.value.realName||"未设置姓名"),1),e.createElementVNode("view",{class:"role-tag"},[e.createElementVNode("text",null,e.toDisplayString("student"===l.value.role?"学生":"teacher"===l.value.role?"教师":"管理员"),1)])]),e.createElementVNode("view",{class:"edit-profile-btn",onClick:h},[e.createVNode(B,{name:"bianji",size:"16"}),e.createElementVNode("text",null,"编辑资料")])]),e.createElementVNode("view",{class:"user-info-details"},[e.createElementVNode("view",{class:"detail-item"},[e.createElementVNode("text",{class:"detail-label"},"学校"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(l.value.schoolName||"未设置"),1)]),e.createElementVNode("view",{class:"detail-item"},[e.createElementVNode("text",{class:"detail-label"},"专业"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(l.value.major||"未设置"),1)]),e.createElementVNode("view",{class:"detail-item"},[e.createElementVNode("text",{class:"detail-label"},"信用分"),e.createElementVNode("text",{class:"detail-value credit-score"},e.toDisplayString(l.value.creditScore||0),1)])])]),e.createElementVNode("view",{class:"medals-container"},[e.createElementVNode("view",{class:"medals-header"},[e.createElementVNode("view",{class:"medals-title-wrapper"},[e.createElementVNode("text",{class:"medals-title",style:{"margin-left":"25rpx"}},"荣誉勋章"),e.createElementVNode("text",{class:"medals-count"},e.toDisplayString(o.value.length||0)+"个",1)]),e.createElementVNode("view",{class:"view-all-btn",onClick:T},[e.createElementVNode("text",null,"查看详情"),e.createVNode(B,{name:"arrow-right",size:"14"})])]),e.createElementVNode("view",{class:"medals-box"},[e.createElementVNode("scroll-view",{class:"medals-scroll","scroll-y":"true","show-scrollbar":!0,onScrolltolower:r,"scroll-anchoring":!0,enhanced:!0,bounces:!1},[e.createElementVNode("view",{class:"medals-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"medal-item",key:a,onClick:e=>function(e){k.value=e,y.value=!0,V.value=1}(t)},[e.createElementVNode("image",{class:"medal-image",src:t.imageUrl,mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"medal-name"},e.toDisplayString(t.name),1)],8,["onClick"])))),128)),o.value&&0!==o.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-medals"},[e.createElementVNode("image",{class:"empty-medal-icon",src:ct,mode:"aspectFit"}),e.createElementVNode("text",null,"暂无勋章")])),o.value&&o.value.length>8&&c.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"bottom-tip"},[e.createElementVNode("text",null,"已显示全部勋章")])):e.createCommentVNode("",!0),o.value&&o.value.length>8?(e.openBlock(),e.createElementBlock("view",{key:2,class:"bottom-space"})):e.createCommentVNode("",!0)])],32),o.value&&o.value.length>8&&!s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"scroll-hint"},[e.createVNode(B,{name:"arrow-down",size:"16"}),e.createElementVNode("text",null,"向下滑动查看更多")])):e.createCommentVNode("",!0)])])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("text",{class:"card-title"},"个人简介"),e.createElementVNode("view",{class:"edit-btn",onClick:g},[e.createVNode(B,{name:"bianji",size:"20"}),e.createElementVNode("text",{class:"edit-text"},"编辑")])]),e.createElementVNode("view",{class:"bio-content"},[e.createElementVNode("text",null,e.toDisplayString(l.value.bio||"暂无个人简介，点击右上角编辑添加"),1)])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("text",{class:"card-title"},"技能标签"),e.createElementVNode("view",{class:"edit-btn",onClick:v},[e.createVNode(B,{name:"bianji",size:"20"}),e.createElementVNode("text",{class:"edit-text"},"编辑")])]),e.createElementVNode("view",{class:"skills-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.skillTags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"skill-tag",key:a},[e.createElementVNode("text",null,e.toDisplayString(t),1)])))),128)),l.value.skillTags&&0!==l.value.skillTags.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-skills"},[e.createElementVNode("text",null,"暂无技能标签，点击右上角编辑添加")]))])]),e.createElementVNode("view",{class:"info-card"},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("text",{class:"card-title"},"获奖经历"),e.createElementVNode("view",{class:"edit-btn",onClick:f},[e.createVNode(B,{name:"bianji",size:"20"}),e.createElementVNode("text",{class:"edit-text"},"编辑")])]),e.createElementVNode("view",{class:"awards-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.awardsHistory,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"award-item",key:a},[e.createElementVNode("view",{class:"award-header"},[e.createElementVNode("text",{class:"award-name"},e.toDisplayString(t.awardName),1),e.createElementVNode("text",{class:"award-level"},e.toDisplayString(t.level),1)]),e.createElementVNode("view",{class:"award-detail"},[e.createElementVNode("text",{class:"award-org"},e.toDisplayString(t.organization),1),e.createElementVNode("text",{class:"award-time"},e.toDisplayString(t.awardTime),1)])])))),128)),l.value.awardsHistory&&0!==l.value.awardsHistory.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-awards"},[e.createElementVNode("text",null,"暂无获奖经历，点击右上角编辑添加")]))])])])),e.createElementVNode("view",{class:"refresh-btn",onClick:m},[e.createVNode(B,{name:"shuaxin",size:"48",color:"#ffffff"})]),y.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"medal-preview-overlay",onClick:E},[e.createElementVNode("view",{class:"medal-preview-content",onClick:a[0]||(a[0]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"medal-preview-header"},[e.createElementVNode("text",{class:"medal-preview-title"},e.toDisplayString(k.value.name),1),e.createElementVNode("view",{class:"medal-preview-close",onClick:E},[e.createVNode(B,{name:"close",size:"20"})])]),e.createElementVNode("image",{class:"medal-preview-image",src:k.value.imageUrl,mode:"aspectFit",style:e.normalizeStyle({transform:`scale(${V.value})`}),onTouchstart:x,onTouchmove:b,onTouchend:C},null,44,["src"]),e.createElementVNode("view",{class:"medal-preview-info"},[e.createElementVNode("text",{class:"medal-preview-desc"},e.toDisplayString(k.value.description),1),e.createElementVNode("view",{class:"medal-preview-hint"},[e.createElementVNode("text",null,"双指缩放可调整图片大小")])])])])):e.createCommentVNode("",!0)]))}},dt={__name:"edit-basic-info",setup(a){const l=e.ref({realName:"",phoneNumber:"",schoolId:null,schoolName:"",major:"",studentTeacherId:""}),n=e.ref(!0),i=e.ref([]),o=e.computed((()=>{if(!l.value.schoolId||0===i.value.length)return 0;const e=i.value.findIndex((e=>e.id===l.value.schoolId));return e>=0?e:0})),s=e.computed((()=>l.value.schoolName||"请选择学校"));async function c(){try{n.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(l.value=e.data,t("log","at pages/profile/edit-basic-info.vue:105","获取到用户资料:",l.value),await async function(){try{const e=await p.getSchools();200===e.code&&e.data?i.value=e.data:t("error","at pages/profile/edit-basic-info.vue:131","获取学校列表失败:",e.message)}catch(e){t("error","at pages/profile/edit-basic-info.vue:134","获取学校列表失败:",e)}}()):uni.showToast({title:e.message||"获取资料失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-basic-info.vue:114","获取用户资料失败:",e),uni.showToast({title:"获取个人资料失败",icon:"none"})}finally{n.value=!1}}function r(e){const t=e.detail.value;if(t>=0&&t<i.value.length){const e=i.value[t];l.value.schoolId=e.id,l.value.schoolName=e.name}}async function d(){if(l.value.realName&&""!==l.value.realName.trim())if(l.value.schoolId)try{uni.showLoading({title:"保存中..."});const e={realName:l.value.realName,schoolId:l.value.schoolId,major:l.value.major,bio:l.value.bio,skillTags:l.value.skillTags||[],awardsHistory:l.value.awardsHistory||[]},t=await p.updateUserProfile(e);200===t.code?(uni.showToast({title:"保存成功",icon:"success"}),setTimeout((()=>{m()}),1500)):uni.showToast({title:t.message||"保存失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-basic-info.vue:198","保存用户资料失败:",e),uni.showToast({title:"保存失败，请稍后再试",icon:"none"})}finally{uni.hideLoading()}else uni.showToast({title:"请选择学校",icon:"none"});else uni.showToast({title:"姓名不能为空",icon:"none"})}function m(){uni.navigateBack()}return e.onMounted((()=>{c()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:m},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"编辑基本信息"),e.createElementVNode("view",{class:"save-btn",onClick:d},[e.createElementVNode("text",null,"保存")])]),n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"姓名"),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>l.value.realName=e),placeholder:"请输入真实姓名",maxlength:"20"},null,512),[[e.vModelText,l.value.realName]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"学校"),e.createElementVNode("picker",{class:"form-picker",range:i.value,"range-key":"name",value:o.value,onChange:r},[e.createElementVNode("view",{class:"picker-text"},e.toDisplayString(s.value||"请选择学校"),1)],40,["range","value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"专业"),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>l.value.major=e),placeholder:"请输入专业",maxlength:"30"},null,512),[[e.vModelText,l.value.major]])]),e.createElementVNode("view",{class:"form-item form-item-last"},[e.createElementVNode("text",{class:"form-label"},"手机号"),e.createElementVNode("view",{class:"form-text"},e.toDisplayString(l.value.phoneNumber||"未设置"),1)])]),e.createElementVNode("text",{class:"form-tip"},"注意：学号和角色信息不可修改")]))]))}},mt={__name:"edit-bio",setup(a){const l=e.ref({bio:"",realName:"",schoolId:null,major:"",skillTags:[],awardsHistory:[]}),n=e.ref(!0);async function i(){try{uni.showLoading({title:"保存中..."});const e={realName:l.value.realName,schoolId:l.value.schoolId,major:l.value.major,bio:l.value.bio,skillTags:l.value.skillTags||[],awardsHistory:l.value.awardsHistory||[]},t=await p.updateUserProfile(e);200===t.code?(uni.showToast({title:"保存成功",icon:"success"}),setTimeout((()=>{o()}),1500)):uni.showToast({title:t.message||"保存失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-bio.vue:135","保存用户资料失败:",e),uni.showToast({title:"保存失败，请稍后再试",icon:"none"})}finally{uni.hideLoading()}}function o(){uni.navigateBack()}return e.onMounted((()=>{!async function(){try{n.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(l.value=e.data,t("log","at pages/profile/edit-bio.vue:83","获取到用户资料:",l.value)):uni.showToast({title:e.message||"获取资料失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-bio.vue:91","获取用户资料失败:",e),uni.showToast({title:"获取个人资料失败",icon:"none"})}finally{n.value=!1}}()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:o},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"编辑个人简介"),e.createElementVNode("view",{class:"save-btn",onClick:i},[e.createElementVNode("text",null,"保存")])]),n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"content-scroll"},[e.createElementVNode("view",{class:"form-section"},[e.withDirectives(e.createElementVNode("textarea",{class:"bio-textarea","onUpdate:modelValue":a[0]||(a[0]=e=>l.value.bio=e),placeholder:"请输入您的个人简介，介绍自己的专业背景、技术特长、研究方向等（1000字以内）",maxlength:"1000","auto-height":""},null,512),[[e.vModelText,l.value.bio]]),e.createElementVNode("view",{class:"text-count"},e.toDisplayString(l.value.bio?l.value.bio.length:0)+"/1000",1)]),e.createElementVNode("view",{class:"tip-section"},[e.createElementVNode("text",{class:"tip-title"},"写一个好的个人简介"),e.createElementVNode("view",{class:"tip-list"},[e.createElementVNode("view",{class:"tip-item"},[e.createElementVNode("text",{class:"dot"},"•"),e.createElementVNode("text",{class:"tip-text"},"介绍您的学习背景和专业领域")]),e.createElementVNode("view",{class:"tip-item"},[e.createElementVNode("text",{class:"dot"},"•"),e.createElementVNode("text",{class:"tip-text"},"突出您的核心技能和特长")]),e.createElementVNode("view",{class:"tip-item"},[e.createElementVNode("text",{class:"dot"},"•"),e.createElementVNode("text",{class:"tip-text"},"分享您的研究兴趣或项目经验")]),e.createElementVNode("view",{class:"tip-item"},[e.createElementVNode("text",{class:"dot"},"•"),e.createElementVNode("text",{class:"tip-text"},"提及您期望的团队合作方式")])])])]))]))}},ut={__name:"edit-skills",setup(a){const l=e.ref({skillTags:[],realName:"",schoolId:null,major:"",bio:"",awardsHistory:[]}),n=e.ref([]),i=e.ref({}),o=e.ref(""),s=e.ref(!0);async function c(){try{s.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(l.value=e.data,l.value.skillTags&&Array.isArray(l.value.skillTags)&&(n.value=[...l.value.skillTags]),t("log","at pages/profile/edit-skills.vue:110","获取到用户资料:",l.value),await async function(){try{const e=await p.getSkillTags();if(200===e.code&&e.data){i.value=e.data;const a=Object.keys(e.data);a.length>0&&(o.value=a[0]),t("log","at pages/profile/edit-skills.vue:140","获取技能标签成功:",i.value)}else t("error","at pages/profile/edit-skills.vue:142","获取技能标签失败:",e.message)}catch(e){t("error","at pages/profile/edit-skills.vue:145","获取技能标签失败:",e)}}()):uni.showToast({title:e.message||"获取资料失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-skills.vue:119","获取用户资料失败:",e),uni.showToast({title:"获取个人资料失败",icon:"none"})}finally{s.value=!1}}function r(e){n.value.splice(e,1)}async function d(){try{uni.showLoading({title:"保存中..."});const e={realName:l.value.realName,schoolId:l.value.schoolId,major:l.value.major,bio:l.value.bio,skillTags:n.value,awardsHistory:l.value.awardsHistory||[]},t=await p.updateUserProfile(e);200===t.code?(uni.showToast({title:"保存成功",icon:"success"}),setTimeout((()=>{m()}),1500)):uni.showToast({title:t.message||"保存失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-skills.vue:216","保存用户资料失败:",e),uni.showToast({title:"保存失败，请稍后再试",icon:"none"})}finally{uni.hideLoading()}}function m(){uni.navigateBack()}return e.onMounted((()=>{c()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:m},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"编辑技能标签"),e.createElementVNode("view",{class:"save-btn",onClick:d},[e.createElementVNode("text",null,"保存")])]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"selected-section"},[e.createElementVNode("view",{class:"section-title"},"已选择的标签"),e.createElementVNode("view",{class:"selected-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"tag selected-tag"},[e.createElementVNode("text",null,e.toDisplayString(t),1),e.createElementVNode("text",{class:"remove-icon",onClick:e=>r(a)},"×",8,["onClick"])])))),128)),0===n.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-tips"},[e.createElementVNode("text",null,"尚未选择任何标签，请从下方分类中选择")])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"categories-section"},[e.createElementVNode("view",{class:"section-title"},"选择技能标签"),e.createElementVNode("view",{class:"categories-tab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(i.value),((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["category-tab",{active:o.value===t}]),onClick:e=>function(e){o.value=e}(t)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"tag-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value[o.value],((t,a)=>{return e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["tag",{active:(l=t.tagName,n.value.includes(l))}]),onClick:e=>function(e){const t=n.value.indexOf(e);if(-1===t){if(n.value.length>=10)return void uni.showToast({title:"最多只能选择10个标签",icon:"none"});n.value.push(e)}else r(t)}(t.tagName)},[e.createElementVNode("text",null,e.toDisplayString(t.tagName),1)],10,["onClick"]);var l})),128))])]),e.createElementVNode("view",{class:"tips-section"},[e.createElementVNode("text",{class:"tip-text"},"提示：精确的技能标签有助于AI更准确地为您推荐合适的团队")])]))]))}},pt={__name:"edit-awards",setup(l){const n=e.ref({awardsHistory:[],realName:"",schoolId:null,major:"",bio:"",skillTags:[]}),i=e.ref([]),o=["国家级","省级","市级","校级","院级","其他"],s=e.ref(0),c=e.ref({awardName:"",level:"",organization:"",awardTime:""}),r=e.ref(!1),d=e.ref(-1),m=e.ref(!0),u=e.ref(null);function h(){u.value&&u.value.open()}function g(){u.value&&u.value.close()}function v(e){const t=e.detail.value;s.value=t,c.value.level=o[t]}function f(e){c.value.awardTime=e.detail.value}function w(){c.value.awardName&&""!==c.value.awardName.trim()?c.value.level?c.value.organization&&""!==c.value.organization.trim()?c.value.awardTime?(r.value&&d.value>=0?i.value[d.value]={...c.value}:i.value.push({...c.value}),g(),uni.showToast({title:r.value?"修改成功":"添加成功",icon:"success"})):uni.showToast({title:"请选择获奖时间",icon:"none"}):uni.showToast({title:"请输入颁发机构",icon:"none"}):uni.showToast({title:"请选择获奖级别",icon:"none"}):uni.showToast({title:"请输入奖项名称",icon:"none"})}async function y(){try{uni.showLoading({title:"保存中..."});const e={realName:n.value.realName,schoolId:n.value.schoolId,major:n.value.major,bio:n.value.bio,skillTags:n.value.skillTags||[],awardsHistory:i.value},t=await p.updateUserProfile(e);200===t.code?(uni.showToast({title:"保存成功",icon:"success"}),setTimeout((()=>{k()}),1500)):uni.showToast({title:t.message||"保存失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-awards.vue:356","保存用户资料失败:",e),uni.showToast({title:"保存失败，请稍后再试",icon:"none"})}finally{uni.hideLoading()}}function k(){uni.navigateBack()}return e.onMounted((()=>{!async function(){try{m.value=!0;const e=await p.getUserProfile();200===e.code&&e.data?(n.value=e.data,n.value.awardsHistory&&Array.isArray(n.value.awardsHistory)&&(i.value=[...n.value.awardsHistory]),t("log","at pages/profile/edit-awards.vue:177","获取到用户资料:",n.value)):uni.showToast({title:e.message||"获取资料失败",icon:"none"})}catch(e){t("error","at pages/profile/edit-awards.vue:185","获取用户资料失败:",e),uni.showToast({title:"获取个人资料失败",icon:"none"})}finally{m.value=!1}}()})),(t,l)=>{const n=a(e.resolveDynamicComponent("uni-popup"),I);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:k},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"编辑获奖经历"),e.createElementVNode("view",{class:"save-btn",onClick:y},[e.createElementVNode("text",null,"保存")])]),m.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"awards-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"award-item"},[e.createElementVNode("view",{class:"award-content"},[e.createElementVNode("view",{class:"award-header"},[e.createElementVNode("text",{class:"award-name"},e.toDisplayString(t.awardName),1),e.createElementVNode("text",{class:"award-level"},e.toDisplayString(t.level),1)]),e.createElementVNode("view",{class:"award-detail"},[e.createElementVNode("text",{class:"award-org"},e.toDisplayString(t.organization),1),e.createElementVNode("text",{class:"award-time"},e.toDisplayString(t.awardTime),1)])]),e.createElementVNode("view",{class:"award-actions"},[e.createElementVNode("view",{class:"action-btn edit-btn",onClick:e=>function(e){if(e>=0&&e<i.value.length){r.value=!0,d.value=e,c.value={...i.value[e]};const t=c.value.level,a=o.indexOf(t);s.value=a>=0?a:0,h()}}(a)},[e.createElementVNode("text",{class:"iconfont icon-edit"})],8,["onClick"]),e.createElementVNode("view",{class:"action-btn delete-btn",onClick:e=>function(e){uni.showModal({title:"删除确认",content:"确定要删除这条获奖记录吗？",success:function(t){t.confirm&&(i.value.splice(e,1),uni.showToast({title:"已删除",icon:"success"}))}})}(a)},[e.createElementVNode("text",{class:"iconfont icon-trash"})],8,["onClick"])])])))),128)),0===i.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("text",null,"暂无获奖记录，点击下方添加按钮添加")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"add-btn",onClick:l[0]||(l[0]=e=>(null===null&&(r.value=!1,d.value=-1,c.value={awardName:"",level:o[0],organization:"",awardTime:""},s.value=0),void h()))},[e.createElementVNode("text",{class:"iconfont icon-plus"}),e.createElementVNode("text",{class:"add-text"},"添加获奖经历")])])),e.createVNode(n,{ref_key:"awardPopup",ref:u,type:"center"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"award-form"},[e.createElementVNode("view",{class:"form-header"},[e.createElementVNode("text",{class:"form-title"},e.toDisplayString(r.value?"编辑获奖经历":"添加获奖经历"),1),e.createElementVNode("text",{class:"close-icon",onClick:g},"×")]),e.createElementVNode("view",{class:"form-body"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("奖项名称"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>c.value.awardName=e),placeholder:"请输入奖项名称",maxlength:"50"},null,512),[[e.vModelText,c.value.awardName]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("获奖级别"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("picker",{class:"form-picker",range:o,value:s.value,onChange:v},[e.createElementVNode("view",{class:"picker-text"},e.toDisplayString(c.value.level||"请选择获奖级别"),1)],40,["value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("颁发机构"),e.createElementVNode("text",{class:"required"},"*")]),e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>c.value.organization=e),placeholder:"请输入颁发机构",maxlength:"50"},null,512),[[e.vModelText,c.value.organization]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},[e.createTextVNode("获奖时间"),e.createElementVNode("text",{class:"required"},"*")]),e.createElementVNode("picker",{class:"form-picker",mode:"date",fields:"month",value:c.value.awardTime,onChange:f},[e.createElementVNode("view",{class:"picker-text"},e.toDisplayString(c.value.awardTime||"请选择获奖时间"),1)],40,["value"])])]),e.createElementVNode("view",{class:"form-footer"},[e.createElementVNode("button",{class:"cancel-btn",onClick:g},"取消"),e.createElementVNode("button",{class:"confirm-btn",onClick:w},"确认")])])])),_:1},512)])}}},ht={url:s.wsUrl,token:"",debug:s.debug||!1,autoReconnect:!0,reconnectInterval:5e3,maxReconnectTimes:5,heartbeat:!0,heartbeatInterval:3e4,heartbeatContent:"ping"};let gt=null,vt=!1,ft=0,wt=null,yt=null,kt=null,Vt=null,Nt=null,Et=null;function xt(e){if(vt&&gt)return St("WebSocket已连接，无需重复连接"),gt;e&&(ht.token=e);let a=ht.url||"";const l=a.replace(/^http/,"ws").replace(/^https/,"wss");if(ht.token){const e=l.includes("?")?"&":"?";a=`${l}${e}token=${encodeURIComponent(ht.token)}`}else a=l;St(`正在连接WebSocket: ${a}`);try{return gt=uni.connectSocket({url:a,multiple:!0,allowArrayBuffer:!0,success:()=>{St("WebSocket连接创建成功")},fail:e=>{St("WebSocket连接创建失败",e),function(e){t("error","at utils/websocket.js:344","WebSocket错误:",e)}(e),vt=!1,gt=null,ht.autoReconnect&&Ct()},complete:()=>{}}),gt?(gt.onOpen((e=>{vt=!0,ft=0,St("WebSocket连接已打开",e),ht.heartbeat&&Tt(),Vt&&Vt(e)})),gt.onMessage((e=>{St("收到WebSocket消息",e.data),"pong"===e.data&&ht.heartbeat||kt&&kt(e.data)})),gt.onClose((e=>{vt=!1,gt=null,St("WebSocket连接已关闭",e),clearTimeout(yt),Nt&&Nt(e),ht.autoReconnect&&Ct()})),gt.onError((e=>{St("WebSocket连接错误",e),vt=!1,Et&&Et(e),ht.autoReconnect&&setTimeout((()=>{Ct()}),3e3)})),gt):(St("WebSocket连接创建返回为空，可能不支持或已被拦截"),null)}catch(n){return t("error","at utils/websocket.js:178","创建WebSocket连接异常",n),vt=!1,gt=null,ht.autoReconnect&&setTimeout((()=>{Ct()}),5e3),null}}function bt(e){if(!vt||!gt)return St("WebSocket未连接，无法发送消息"),!1;let t=e;return"object"!=typeof e||e instanceof ArrayBuffer||null===e||(t=JSON.stringify(e)),St("发送WebSocket消息",t),gt.send({data:t,success:()=>{St("WebSocket消息发送成功")},fail:e=>{St("WebSocket消息发送失败",e)}}),!0}function Ct(){ft>=ht.maxReconnectTimes?St(`WebSocket重连次数已达上限(${ht.maxReconnectTimes}次)，停止重连`):(ft++,St(`WebSocket ${ft}秒后尝试第${ft}次重连...`),clearTimeout(wt),wt=setTimeout((()=>{St(`正在进行第${ft}次重连...`),xt()}),ht.reconnectInterval))}function Tt(){clearTimeout(yt),yt=setTimeout((()=>{vt&&(St("发送心跳包",ht.heartbeatContent),bt(ht.heartbeatContent)),Tt()}),ht.heartbeatInterval)}function St(e,a){ht.debug&&(a?t("log","at utils/websocket.js:355",`[WebSocket] ${e}`,a):t("log","at utils/websocket.js:357",`[WebSocket] ${e}`))}const Bt={initConfig:function(e={}){Object.assign(ht,e),St("WebSocket配置已初始化")},connect:xt,send:bt,close:function(e=1e3,t="主动关闭连接"){return gt&&vt?(clearTimeout(wt),clearTimeout(yt),St(`正在关闭WebSocket连接: code=${e}, reason=${t}`),gt.close({code:e,reason:t,success:()=>{St("WebSocket连接已关闭"),vt=!1,gt=null},fail:e=>{St("WebSocket关闭失败",e)}}),!0):(St("WebSocket未连接，无法关闭"),!1)},onMessage:function(e){"function"==typeof e&&(kt=e)},onOpen:function(e){"function"==typeof e&&(Vt=e)},onClose:function(e){"function"==typeof e&&(Nt=e)},onError:function(e){"function"==typeof e&&(Et=e)},isConnected:function(){return vt},getSocketTask:function(){return gt}},Dt={system_announcement:"系统公告",team_invite:"团队邀请",team_application_received:"收到队伍申请",team_application_result:"队伍申请结果",task_application:"任务申请",task_update:"任务更新",team_application:"队伍申请",badge_application:"徽章申请"};let Mt=null;function zt(e){return{id:e.id||Date.now(),userId:e.userId,title:e.title||"",content:e.content||"",typeId:e.typeId||e.type||"system_announcement",typeName:At(e.typeId||e.type),category:e.category||null,isRead:e.isRead||!1,createdAt:e.createdAt||(new Date).toISOString(),relatedId:e.relatedId||null,relatedType:e.relatedType||null,dynamicData:e.dynamicData||null,priority:e.priority||0,expireAt:e.expireAt||null,time:jt(e.createdAt||new Date),avatar:_t(e.typeId||e.type),actions:It(e.typeId||e.type,e.relatedType,e.relatedId)}}function _t(e){return{system_announcement:"/static/avatars/system.png",team_application_received:"/static/avatars/team.png",team_invite:"/static/avatars/team.png",task_application:"/static/avatars/task.png",task_update:"/static/avatars/task.png",badge_application:"/static/avatars/badge.png",friend_request:"/static/avatars/user.png"}[e]||"/static/avatars/system.png"}function At(e){return Dt[e]||"系统通知"}function It(e,t,a){return"system_announcement"===e?[{name:"查看",type:"view",primary:!0}]:"team_invite"===e||"team_application_received"===e?[{name:"接受",type:"accept",primary:!0},{name:"拒绝",type:"reject",primary:!1}]:(e.includes("task_application")||e.includes("team_application")||e.includes("badge_application"),[{name:"查看",type:"view",primary:!0}])}function jt(e){try{const t=new Date(e),a=new Date-t;if(a<6e4)return"刚刚";if(a<36e5)return Math.floor(a/6e4)+"分钟前";if(a<864e5)return Math.floor(a/36e5)+"小时前";if(a<2592e6)return Math.floor(a/864e5)+"天前";{const e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return`${e}-${a}-${String(t.getDate()).padStart(2,"0")}`}}catch(a){return t("error","at utils/notification-service.js:241","格式化时间错误",a),e}}const Lt={initNotificationService:function(e){"function"==typeof e&&(Mt=e);const a=d();return a?(Bt.onOpen((e=>{t("log","at utils/notification-service.js:59","通知服务: WebSocket连接已打开",e);const a=d();a?(t("log","at utils/notification-service.js:64","通知服务: 发送认证消息"),Bt.send({type:"auth",token:a})):t("warn","at utils/notification-service.js:70","通知服务: 无法发送认证消息，token不存在")})),Bt.onMessage((e=>{t("log","at utils/notification-service.js:75","通知服务: 收到WebSocket消息",e);try{let t;if(t="string"==typeof e?JSON.parse(e):e,t.typeId||t.type){const e=zt(t);Mt&&Mt(e)}}catch(a){t("error","at utils/notification-service.js:96","通知服务: 解析WebSocket消息失败",a)}})),Bt.onClose((e=>{t("log","at utils/notification-service.js:101","通知服务: WebSocket连接已关闭",e)})),Bt.onError((e=>{t("error","at utils/notification-service.js:105","通知服务: WebSocket连接错误",e)})),Bt.initConfig({debug:!0,autoReconnect:!0,heartbeat:!0,token:a}),!!Bt.connect(a)):(t("warn","at utils/notification-service.js:38","通知服务初始化失败: 用户未登录或无效的token"),setTimeout((()=>{try{const e=getCurrentPages();0!==e.length&&e[e.length-1].route.includes("login")||(t("log","at utils/notification-service.js:45","无效的登录状态，准备跳转到登录页面"),uni.navigateTo({url:"/pages/login/login"}))}catch(e){t("error","at utils/notification-service.js:51","跳转到登录页面失败:",e)}}),500),!1)},closeNotificationService:function(){Bt.close()},markAsRead:async function(e){if(e)try{return await R.markAsRead(e),Bt.send({type:"notification_read",notificationId:e}),!0}catch(a){return t("error","at utils/notification-service.js:272","标记通知已读失败:",a),!1}},markAllAsRead:async function(){try{return await R.markAllAsRead(),Bt.send({type:"notification_read_all"}),!0}catch(e){return t("error","at utils/notification-service.js:292","标记所有通知已读失败:",e),!1}},parseNotification:zt,formatTime:jt,getNotificationType:At,getUnreadCount:async function(){try{const e=await R.getUnreadCount();return 200===e.code&&void 0!==e.data?e.data:0}catch(e){return t("error","at utils/notification-service.js:309","获取未读通知数量失败:",e),0}},getAvatarByType:_t,getActionsForType:It},Rt={__name:"Xiaoxi",setup(a){const l=getApp(),n=e.ref(!1),i=e.ref("unread"),o=e.ref(0),s=e.ref([]),c=e.ref([]),r=e.ref({current:1,size:10,total:0,pages:0}),d=e.ref(!1),m=e.ref(!1),u=e.ref(!0),p=e.ref(!1),g=e.ref([]),v=e.computed((()=>{const e="unread"===i.value?s.value:c.value;return e.length>0&&g.value.length===e.length}));function f(){p.value=!p.value,p.value||(g.value=[])}function w(e){const t=g.value.indexOf(e);-1===t?g.value.push(e):g.value.splice(t,1)}function y(){const e="unread"===i.value?s.value:c.value;v.value?g.value=[]:g.value=e.map((e=>e.id))}function k(){0!==g.value.length?uni.showModal({title:"删除通知",content:`确定要删除选中的${g.value.length}条通知吗？`,success:e=>{e.confirm&&(!async function(e){if(!e||0===e.length)return;try{d.value=!0;const t=await R.batchDeleteNotifications(e);200===t.code?(e.forEach((e=>{const t=s.value.findIndex((t=>t.id===e));-1!==t&&(s.value.splice(t,1),o.value--);const a=c.value.findIndex((t=>t.id===e));-1!==a&&c.value.splice(a,1)})),l&&l.globalData&&(l.globalData.unreadNotificationCount=o.value,l.updateMessageBadge&&l.updateMessageBadge()),uni.showToast({title:"删除成功",icon:"success"})):uni.showToast({title:t.message||"删除失败",icon:"none"})}catch(a){t("error","at pages/Xiaoxi/Xiaoxi.vue:1206","批量删除通知失败:",a),uni.showToast({title:"操作失败，请稍后重试",icon:"none"})}finally{d.value=!1}}(g.value),f())}}):uni.showToast({title:"请先选择要删除的通知",icon:"none"})}function V(e){return{system_announcement:"/static/avatars/system.png",team_application_received:"/static/avatars/team.png",team_invite:"/static/avatars/team.png",task_application:"/static/avatars/task.png",task_update:"/static/avatars/task.png",badge_application:"/static/avatars/badge.png",friend_request:"/static/avatars/user.png"}[e]||"/static/avatars/system.png"}async function N(){try{d.value=!0;const e=await R.markAllAsRead();200===e.code?(s.value.forEach((e=>{const t=c.value.findIndex((t=>t.id===e.id));-1!==t&&(c.value[t].read=!0)})),s.value=[],o.value=0,l&&l.resetUnreadNotificationCount&&l.resetUnreadNotificationCount(),uni.showToast({title:"已全部标记为已读",icon:"success"})):uni.showToast({title:e.message||"操作失败",icon:"none"})}catch(e){t("error","at pages/Xiaoxi/Xiaoxi.vue:350","标记全部已读失败:",e),uni.showToast({title:"操作失败，请稍后重试",icon:"none"})}finally{d.value=!1}}function x(e,t){!e||200!==e.code&&200!==e.status?uni.showToast({title:e&&e.message||"操作失败",icon:"none"}):(P(t),uni.showToast({title:"任务状态已更新",icon:"success"}))}const b=["system_announcement","team_invite","task_application"];function C(){uni.navigateBack()}function T(e){if(!e||!e.originalData)return;z(e.id),function(e){if(!e||!e.originalData||!b.includes(e.originalData.typeId))return;const t=`${e.type}：${e.message}`;if(window.speechSynthesis){const e=new SpeechSynthesisUtterance;e.text=t,e.lang="zh-CN",e.volume=.7,e.rate=1,e.pitch=1,window.speechSynthesis.speak(e)}}(e);const a=e.originalData.typeId,l=e.originalData.relatedId;if(t("log","at pages/Xiaoxi/Xiaoxi.vue:651","准备导航，通知类型:",a,"关联ID:",l),"team_invite"===a||a.includes("team_application"))if("team_application_received"===a){t("log","at pages/Xiaoxi/Xiaoxi.vue:658","收到队伍申请，正在跳转到待我处理标签页");const e=`/pages/application/application?tab=1&type=team&id=${l}`;t("log","at pages/Xiaoxi/Xiaoxi.vue:660","跳转URL:",e),uni.navigateTo({url:e,success:function(){t("log","at pages/Xiaoxi/Xiaoxi.vue:664","跳转成功")},fail:function(e){t("error","at pages/Xiaoxi/Xiaoxi.vue:667","跳转失败:",e)}})}else uni.navigateTo({url:`/pages/application/application?tab=0&type=team&id=${l}`});else a.includes("task_application")||a.includes("task_update")?uni.navigateTo({url:`/pages/application/application?type=task&id=${l}`}):"system_announcement"===a?uni.navigateTo({url:`/pages/notification/detail?id=${e.id}`}):"badge_application"===a?uni.navigateTo({url:`/pages/application/application?type=badge&id=${l}`}):uni.navigateTo({url:"/pages/application/application"})}function S(e,t){e.read||(e.isReading=!0,e.viewStartTime=Date.now(),e.viewTimer=setTimeout((()=>{z(e.id)}),2e3))}function D(e){e.isReading=!1,e.viewTimer&&(clearTimeout(e.viewTimer),e.viewTimer=null),e.read||e.viewStartTime&&Date.now()-e.viewStartTime>1e3&&z(e.id)}function M(){if(p.value)return;const e="unread"===i.value?s.value:c.value;document.querySelectorAll(".notification-item").forEach(((t,a)=>{if(a<e.length&&function(e){if(!e)return!1;const t=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;return t.top>=0&&t.bottom<=a&&t.height>0}(t)){const t=e[a];t.read||t.scrollTimer||(t.scrollTimer=setTimeout((()=>{z(t.id),t.scrollTimer=null}),3e3))}}))}async function z(e){const a=s.value.findIndex((t=>t.id===e));if(-1!==a)try{if(-1!==a){const e=s.value.splice(a,1)[0];e.read=!0,c.value.unshift(e),o.value--,l&&l.globalData&&(l.globalData.unreadNotificationCount=Math.max(0,l.globalData.unreadNotificationCount-1),l.updateMessageBadge&&l.updateMessageBadge())}await R.markAsRead(e)}catch(n){t("error","at pages/Xiaoxi/Xiaoxi.vue:817","标记已读失败:",n)}}async function _(e=!1){if(!d.value)try{d.value=!0,e&&(r.value.current=1,m.value=!0);const a=await R.getNotificationList({pageNum:r.value.current,pageSize:r.value.size,onlyUnread:"unread"===i.value,onlyRead:"read"===i.value});if(200===a.code&&a.data){const n=(a.data.records||[]).map((e=>({id:e.id,type:e.typeName,message:e.content||e.title,time:L(e.createdAt),avatar:V(e.typeId),read:e.isRead,actions:j(e),originalData:e,isReading:!1,viewStartTime:null,viewTimer:null,scrollTimer:null})));if(r.value={current:a.data.current,size:a.data.size,total:a.data.total,pages:a.data.pages},u.value=r.value.current<r.value.pages,e)"unread"===i.value?s.value=n.filter((e=>!e.read)):"read"===i.value&&(c.value=n.filter((e=>e.read)));else if("unread"===i.value){const e=n.filter((e=>!e.read));s.value=[...s.value,...e]}else if("read"===i.value){const e=n.filter((e=>e.read));c.value=[...c.value,...e]}("unread"===i.value||e)&&(o.value="unread"===i.value?s.value.length:n.filter((e=>!e.read)).length,l&&l.globalData&&(l.globalData.unreadNotificationCount=o.value,function(e){if(!l||!l.updateMessageBadge)return;try{l.updateMessageBadge()}catch(a){try{e>0?uni.setTabBarBadge({index:4,text:e.toString()}).catch((e=>{t("log","at pages/Xiaoxi/Xiaoxi.vue:956","设置TabBar徽标失败，可能不在TabBar页面",e)})):uni.removeTabBarBadge({index:4}).catch((e=>{t("log","at pages/Xiaoxi/Xiaoxi.vue:963","移除TabBar徽标失败，可能不在TabBar页面",e)}))}catch(n){t("log","at pages/Xiaoxi/Xiaoxi.vue:968","TabBar操作失败，可能不在TabBar页面")}}}(o.value)))}else uni.showToast({title:a.message||"获取通知失败",icon:"none"})}catch(a){t("error","at pages/Xiaoxi/Xiaoxi.vue:930","获取通知列表失败:",a),uni.showToast({title:"获取通知失败",icon:"none"})}finally{d.value=!1,m.value=!1}}function A(e){if(!e)return!1;if(e.typeId&&(e.typeId.includes("approved")||e.typeId.includes("rejected")||e.typeId.includes("result")||e.typeId.includes("processed")))return!0;if(e.originalData&&(e.originalData.isProcessed||"approved"===e.originalData.status||"rejected"===e.originalData.status||"canceled"===e.originalData.status))return!0;if(e.message){const t=["已批准","已接受","已拒绝","已处理","已取消","已同意","已完成","已结束","批准了","拒绝了"];for(const a of t)if(e.message.includes(a))return!0}return!1}function I(e){return!(!e||!e.originalData)&&(e.originalData.isCreator||e.originalData.isManager||"leader"===e.originalData.role||"creator"===e.originalData.role||"admin"===e.originalData.role)}function j(e){var t;if(A(e))return[{name:"查看",type:"view",primary:!0}];if(e.typeId&&e.typeId.includes("team_application")&&!e.isRead)return e.typeId.includes("sent")||e.originalData&&"applicant"===e.originalData.role||!I(e)?[{name:"查看",type:"view",primary:!0}]:[{name:"接受",type:"accept",primary:!0},{name:"拒绝",type:"reject",primary:!1}];if("team_invite"!==e.typeId||e.isRead){if(e.typeId&&e.typeId.includes("task_application")&&!e.isRead)return!e.typeId.includes("received")||!I(e)||e.originalData&&"applicant"===e.originalData.role?[{name:"查看",type:"view",primary:!0}]:[{name:"接受",type:"accept",primary:!0},{name:"拒绝",type:"reject",primary:!1}];if(e.typeId&&e.typeId.includes("task_update")&&I(e)&&!e.isRead){const a=null==(t=e.originalData)?void 0:t.taskStatus;return"recruiting"===a?[{name:"开始进行",type:"task_ongoing",primary:!0},{name:"取消任务",type:"task_cancel",primary:!1},{name:"查看详情",type:"view",primary:!1}]:"ongoing"===a?[{name:"标记完成",type:"task_completed",primary:!0},{name:"结束任务",type:"task_ended",primary:!1},{name:"查看详情",type:"view",primary:!1}]:[{name:"查看详情",type:"view",primary:!0}]}return[{name:"查看",type:"view",primary:!0}]}return e.originalData&&"leader"===e.originalData.role?[{name:"查看",type:"view",primary:!0}]:[{name:"接受",type:"accept",primary:!0},{name:"拒绝",type:"reject",primary:!1}]}function L(e){try{const t=new Date(e),a=new Date-t;if(a<6e4)return"刚刚";if(a<36e5)return Math.floor(a/6e4)+"分钟前";if(a<864e5)return Math.floor(a/36e5)+"小时前";if(a<2592e6)return Math.floor(a/864e5)+"天前";{const e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return`${e}-${a}-${String(t.getDate()).padStart(2,"0")}`}}catch(a){return t("error","at pages/Xiaoxi/Xiaoxi.vue:1132","格式化时间错误",a),e}}function F(e){i.value!==e&&(i.value=e,_(!0))}function U(){_(!0)}function H(){!d.value&&u.value&&(r.value.current++,_(!1))}function P(e){if(!e)return;const t=s.value.findIndex((t=>t.id===e));if(-1!==t){const e=s.value.splice(t,1)[0];e.read=!0,c.value.unshift(e),o.value--,l&&l.globalData&&(l.globalData.unreadNotificationCount=Math.max(0,l.globalData.unreadNotificationCount-1),l.updateMessageBadge&&l.updateMessageBadge())}}async function $(e,a,l=""){if(!e)return null;try{const t={status:a};"canceled"===a&&l&&(t.cancelReason=l);return await Ze.updateTaskStatus(e,t)}catch(n){return t("error","at pages/Xiaoxi/Xiaoxi.vue:1365","更新任务状态失败:",n),null}}return e.onMounted((()=>{_(!0),function(){const t=setInterval((()=>{n.value=Bt.isConnected()}),5e3);e.onUnmounted((()=>{clearInterval(t)}))}();const a=document.querySelector(".notification-list");a&&a.addEventListener("scroll",M),uni.$on("newNotification",(e=>{t("log","at pages/Xiaoxi/Xiaoxi.vue:1240","消息页面接收到新通知:",e),function(e){if(!e)return;const a={id:e.id,type:e.typeName,message:e.content||e.title,time:e.time||L(e.createdAt||new Date),avatar:V(e.typeId),read:e.isRead||!1,actions:e.actions||j(e),originalData:e,isReading:!1,viewStartTime:null,viewTimer:null,scrollTimer:null};a.read?-1===c.value.findIndex((e=>e.id===a.id))&&c.value.unshift(a):-1===s.value.findIndex((e=>e.id===a.id))&&(s.value.unshift(a),o.value++),function(){try{const e=uni.createInnerAudioContext();e.src="/static/sounds/notification.mp3",e.play()}catch(e){t("log","at pages/Xiaoxi/Xiaoxi.vue:1297","播放通知提示音失败",e)}}()}(e)})),t("log","at pages/Xiaoxi/Xiaoxi.vue:1233","通知页面加载完成")})),e.onUnmounted((()=>{const e=document.querySelector(".notification-list");e&&e.removeEventListener("scroll",M);[...s.value,...c.value].forEach((e=>{e.viewTimer&&clearTimeout(e.viewTimer),e.scrollTimer&&clearTimeout(e.scrollTimer)})),uni.$off("newNotification")})),(a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"navbar"},[e.createVNode(B,{name:"back",size:"20",onClick:C}),e.createElementVNode("view",{class:"title"},"通知"),e.createElementVNode("view",{class:"actions"},[p.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"mark-read",onClick:N},[e.createElementVNode("text",{class:"mark-text"},"全部标记为已读"),e.createVNode(B,{name:"yidubiaoji",size:"20"})])),p.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"edit-actions"},[e.createElementVNode("view",{class:"cancel-btn",onClick:f},[e.createElementVNode("text",null,"取消")]),e.createElementVNode("view",{class:"delete-btn",onClick:k},[e.createElementVNode("text",{class:"iconfont icon-delete"}),e.createElementVNode("text",null,"删除")])])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"edit-btn",onClick:f},[e.createElementVNode("text",{class:"edit-text"},"编辑"),e.createVNode(B,{name:"bianji",size:"20"})]))])])]),e.createElementVNode("view",{class:"tabs"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item","unread"===i.value?"tab-active":""]),onClick:l[0]||(l[0]=e=>F("unread"))},[e.createElementVNode("text",null,"未读"),o.value>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"badge"},e.toDisplayString(o.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item","read"===i.value?"tab-active":""]),onClick:l[1]||(l[1]=e=>F("read"))},[e.createElementVNode("text",null,"已读")],2)]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"notification-list","refresher-enabled":"","refresher-triggered":m.value,onRefresherrefresh:U,onScrolltolower:H},["unread"===i.value?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,((a,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["notification-item unread",{"item-selected":p.value&&g.value.includes(a.id),reading:a.isReading,processed:A(a)}]),key:l,onMouseenter:e=>!p.value&&S(a),onMouseleave:e=>!p.value&&D(a),onTouchstart:e=>!p.value&&S(a),onTouchend:e=>!p.value&&D(a)},[p.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"select-box",onClick:e.withModifiers((e=>w(a.id)),["stop"])},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:g.value.includes(a.id)}])},[g.value.includes(a.id)?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-check"})):e.createCommentVNode("",!0)],2)],8,["onClick"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"notification-avatar"},[e.createElementVNode("image",{src:a.avatar||"/static/default-avatar.png",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"notification-content",onClick:e=>p.value?w(a.id):T(a)},[e.createElementVNode("view",{class:"notification-type"},e.toDisplayString(a.type),1),e.createElementVNode("view",{class:"notification-message"},e.toDisplayString(a.message),1),e.createElementVNode("view",{class:"notification-time"},e.toDisplayString(a.time),1),p.value||!a.actions||A(a)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"notification-actions"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.actions,((l,n)=>(e.openBlock(),e.createElementBlock("button",{key:n,class:e.normalizeClass(["action-btn",l.primary?"btn-primary":"btn-default"]),onClick:e.withModifiers((e=>function(e,a){var l,n;const o=("unread"===i.value?s.value:c.value).find((e=>e.id===a));if(!o)return;const r=null==(l=o.originalData)?void 0:l.typeId,m=null==(n=o.originalData)?void 0:n.relatedId;if(e.startsWith("task_")){const t={task_ongoing:"ongoing",task_completed:"completed",task_ended:"ended",task_recruiting:"recruiting",task_cancel:"canceled"}[e];if(!t||!m)return void uni.showToast({title:"操作失败：缺少必要参数",icon:"none"});if("canceled"===t)return void uni.showModal({title:"取消任务",content:"确定要取消该任务吗？",editable:!0,placeholderText:"请填写取消原因",success:async e=>{e.confirm&&e.content?x(await $(m,t,e.content),a):e.confirm&&uni.showToast({title:"取消原因不能为空",icon:"none"})}});const l={recruiting:"招募中",ongoing:"进行中",completed:"已完成",ended:"已结束",canceled:"已取消"};uni.showModal({title:`更改状态为"${l[t]||t}"`,content:`确定要将任务状态更改为"${l[t]||t}"吗？`,success:async e=>{e.confirm&&x(await $(m,t),a)}})}else if("accept"===e){let e="接受申请",l=`确定接受此${o.type}？`;r&&r.includes("team_application")?(e="接受入队申请",l="确定接受该成员加入队伍吗？"):r&&r.includes("task")&&(e="接受任务申请",l="确定接受该用户的任务申请吗？"),uni.showModal({title:e,content:l,success:async function(e){var l,n;if(e.confirm)try{d.value=!0;let e=null;e=r&&r.includes("team_application")&&m?await h.handleApplication(m,{status:"approved",reviewNotes:"欢迎加入我们的队伍！"}):r&&r.includes("task_application")&&m?await E.updateTaskApplication(m,{status:"approved",reviewNotes:"申请已通过，欢迎参与任务！"}):await R.handleNotificationAction(a,"accept",{relatedId:null==(l=o.originalData)?void 0:l.relatedId,relatedType:null==(n=o.originalData)?void 0:n.relatedType}),!e||200!==e.code&&200!==e.status?uni.showToast({title:e&&e.message||"操作失败",icon:"none"}):(P(a),uni.showToast({title:"已接受",icon:"success"}))}catch(i){t("error","at pages/Xiaoxi/Xiaoxi.vue:495","接受操作失败:",i),uni.showToast({title:"操作失败，请稍后重试",icon:"none"})}finally{d.value=!1}}})}else if("reject"===e){let e="拒绝申请",l=`确定拒绝此${o.type}？`;r&&r.includes("team_application")?(e="拒绝入队申请",l="确定拒绝该成员加入队伍吗？"):r&&r.includes("task")&&(e="拒绝任务申请",l="确定拒绝该用户的任务申请吗？"),uni.showModal({title:e,content:l,success:async function(e){var l,n;if(e.confirm)try{d.value=!0;let e=null;e=r&&r.includes("team_application")&&m?await h.handleApplication(m,{status:"rejected",reviewNotes:"抱歉，当前不符合队伍需求"}):r&&r.includes("task_application")&&m?await E.updateTaskApplication(m,{status:"rejected",reviewNotes:"抱歉，当前不符合任务要求"}):await R.handleNotificationAction(a,"reject",{relatedId:null==(l=o.originalData)?void 0:l.relatedId,relatedType:null==(n=o.originalData)?void 0:n.relatedType}),!e||200!==e.code&&200!==e.status?uni.showToast({title:e&&e.message||"操作失败",icon:"none"}):(P(a),uni.showToast({title:"已拒绝",icon:"none"}))}catch(i){t("error","at pages/Xiaoxi/Xiaoxi.vue:565","拒绝操作失败:",i),uni.showToast({title:"操作失败，请稍后重试",icon:"none"})}finally{d.value=!1}}})}else"view"===e&&(T(o),P(a))}(l.type,a.id)),["stop"])},e.toDisplayString(l.name),11,["onClick"])))),128))]))],8,["onClick"])],42,["onMouseenter","onMouseleave","onTouchstart","onTouchend"])))),128))])):e.createCommentVNode("",!0),"read"===i.value?(e.openBlock(),e.createElementBlock("view",{key:1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["notification-item read",{"item-selected":p.value&&g.value.includes(t.id),processed:A(t)}]),key:a},[p.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"select-box",onClick:e.withModifiers((e=>w(t.id)),["stop"])},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:g.value.includes(t.id)}])},[g.value.includes(t.id)?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-check"})):e.createCommentVNode("",!0)],2)],8,["onClick"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"notification-avatar"},[e.createElementVNode("image",{src:t.avatar||"/static/default-avatar.png",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"notification-content",onClick:e=>p.value?w(t.id):T(t)},[e.createElementVNode("view",{class:"notification-type"},e.toDisplayString(t.type),1),e.createElementVNode("view",{class:"notification-message"},e.toDisplayString(t.message),1),e.createElementVNode("view",{class:"notification-time"},e.toDisplayString(t.time),1)],8,["onClick"])],2)))),128))])):e.createCommentVNode("",!0),d.value&&!m.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"loading-more"},[e.createElementVNode("text",null,"加载中...")])):e.createCommentVNode("",!0),d.value||u.value||!("unread"===i.value?s.value.length>0:c.value.length>0)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:3,class:"no-more"},[e.createElementVNode("text",null,"没有更多了")])),!d.value&&"unread"===i.value&&0===s.value.length||"read"===i.value&&0===c.value.length?(e.openBlock(),e.createElementBlock("view",{key:4,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/empty-notification.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无"+e.toDisplayString("unread"===i.value?"未读":"已读")+"通知",1)])):e.createCommentVNode("",!0)],40,["refresher-triggered"]),p.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bottom-action-bar"},[e.createElementVNode("view",{class:"select-all",onClick:y},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:v.value}])},[v.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-check"})):e.createCommentVNode("",!0)],2),e.createElementVNode("text",null,"全选")]),e.createElementVNode("view",{class:e.normalizeClass(["batch-delete",{disabled:0===g.value.length}]),onClick:k},[e.createElementVNode("text",null,"删除("+e.toDisplayString(g.value.length)+")",1)],2)])):e.createCommentVNode("",!0)]))}},Ft={__name:"application",setup(l){const i=n.baseUrl,o=e.ref(!1),s=e.ref(!1),c=e.ref(!1),r=e.ref(1),d=e.ref(10),m={contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"已经到底啦"},u=e.ref("applicant"),p=e.ref(0),g=e.ref([{name:"我发起的",badge:0,role:"applicant"},{name:"待我处理",badge:0,role:"creator"}]),v=e.ref(0),f=e.ref([{label:"全部",value:"all"},{label:"任务申请",value:"task"},{label:"队伍申请",value:"team"},{label:"徽章申请",value:"badge"}]),w=e.computed((()=>1===v.value?f.value.filter((e=>"badge"!==e.value)):f.value)),y=e.ref([{label:"全部",value:"all"},{label:"待处理",value:"pending"},{label:"已通过",value:"approved"},{label:"已拒绝",value:"rejected"},{label:"已取消",value:"canceled"}]),k=e.ref([{label:"全部",value:"all"},{label:"未处理",value:"pending"},{label:"已处理",value:"processed"}]),V=e.ref("all"),N=e.ref("all"),x=e.ref([]),b=e.computed((()=>{let e=x.value.map((e=>{let t="";switch(e.status){case"pending":t="待处理";break;case"approved":t="已通过";break;case"rejected":t="已拒绝";break;case"canceled":t="已取消";break;case"returned":t="已退回";break;default:t="未知状态"}return{...e,statusText:t}}));return"all"!==N.value&&(e="processed"===N.value?e.filter((e=>"approved"===e.status||"rejected"===e.status||"canceled"===e.status)):e.filter((e=>e.status===N.value))),"all"!==V.value&&(e=e.filter((e=>e.type===V.value))),e}));e.onMounted((()=>{uni.getSystemInfo({success:e=>{if(t("log","at pages/application/application.vue:1036","系统信息:",e),e.safeArea&&(t("log","at pages/application/application.vue:1038","安全区域信息:",e.safeArea),e.safeArea.top)){const a=e.screenWidth;p.value=Math.round(750*e.safeArea.top/a),t("log","at pages/application/application.vue:1043","屏幕宽度:",a,"px"),t("log","at pages/application/application.vue:1044","安全区顶部:",e.safeArea.top,"px"),t("log","at pages/application/application.vue:1045","安全区高度(rpx):",p.value),p.value>40&&(document.documentElement.style.setProperty("--nav-extra-padding","100rpx"),t("log","at pages/application/application.vue:1051","应用了额外的导航栏内边距"))}}});let a={};if("h5"===uni.getSystemInfoSync().platform)a=function(){const e={},t=window.location.search.substring(1).split("&");for(let a=0;a<t.length;a++){const l=t[a].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1]||"")}return e}();else{const t=e.getCurrentInstance();t&&t.proxy&&t.proxy.$mp&&t.proxy.$mp.query&&(a=t.proxy.$mp.query)}!function(e){if(t("log","at pages/application/application.vue:342","处理URL参数:",e),void 0!==e.tab){const t=parseInt(e.tab);!isNaN(t)&&t>=0&&t<g.value.length&&I(t)}if(e.type){const t=e.type;["task","team","badge","all"].includes(t)&&(V.value=t)}e.id&&(C.value=e.id)}(a),z(),M(!0)}));const C=e.ref(null);function T(){C.value&&setTimeout((()=>{const e=`.application-card[data-id="${C.value}"]`,t=uni.createSelectorQuery();t.select(e).boundingClientRect(),t.selectViewport().scrollOffset(),t.exec((e=>{e[0]&&(uni.pageScrollTo({scrollTop:e[1].scrollTop+e[0].top-100,duration:300}),function(e){const t=document.querySelector(`.application-card[data-id="${e}"]`);if(!t)return;t.classList.add("highlight-application"),setTimeout((()=>{t.classList.remove("highlight-application")}),3e3)}(C.value))})),C.value=null}),500)}function S(e){return e&&e.type?"task"===e.type?e.taskTitle||"任务申请":"team"===e.type?e.teamName||"队伍申请":"badge"===e.type?e.badgeTitle||"徽章申请":"申请":"申请"}function D(e){return"task"===e?"task-type":"team"===e?"team-type":"badge"===e?"badge-type":""}async function M(e=!1){if(e&&(r.value=1,c.value=!1,x.value=[]),!s.value){s.value=!0;try{0===v.value?u.value="applicant":1===v.value&&(u.value="creator"),"all"!==V.value&&"task"!==V.value||await async function(e){try{const a={pageNum:r.value,pageSize:d.value};"all"!==N.value&&"processed"!==N.value&&(a.status=N.value),a.role=u.value;const l=await E.getTaskApplicationList(a);if(l&&200===l.code&&l.data){const a=(l.data.list||[]).map((e=>({...e,type:"task"})));e?("task"===V.value||"all"===V.value)&&(x.value=a):x.value=[...x.value,...a],"task"===V.value&&(c.value=!l.data.hasNext),t("log","at pages/application/application.vue:544","任务申请列表:",a)}}catch(a){t("error","at pages/application/application.vue:547","获取任务申请列表失败:",a),uni.showToast({title:"获取任务申请失败",icon:"none"})}}(e),"all"!==V.value&&"team"!==V.value||await async function(e){try{const a={pageNum:r.value,pageSize:d.value};let l;if("all"!==N.value&&"processed"!==N.value&&(a.status=N.value),"applicant"===u.value?l=await h.getMyApplications(a):"creator"!==u.value&&"leader"!==u.value||(l=await h.getTeamApplications(a)),l&&200===l.code&&l.data){const a=(l.data.list||[]).map((e=>({...e,type:"team"})));e?"team"===V.value?x.value=a:"all"===V.value&&(x.value=[...x.value,...a]):x.value=[...x.value,...a],"team"===V.value&&(c.value=!l.data.hasNext),t("log","at pages/application/application.vue:603","队伍申请列表:",a)}}catch(a){t("error","at pages/application/application.vue:606","获取队伍申请列表失败:",a),uni.showToast({title:"获取队伍申请失败",icon:"none"})}}(e),"all"!==V.value&&"badge"!==V.value||0!==v.value||await async function(e){try{const l={pageNum:r.value,pageSize:d.value};let n;"all"!==N.value&&"processed"!==N.value&&(l.status=N.value);try{n=await uni.request({url:`${i}/badge/approvals/my-applications`,method:"GET",data:l,header:{Authorization:`Bearer ${uni.getStorageSync("token")}`}})}catch(a){t("error","at pages/application/application.vue:639","徽章申请请求失败:",a),n={statusCode:500,data:null}}if(200===n.statusCode&&n.data&&200===n.data.code){const a=(n.data.data.records||[]).map((e=>({...e,id:e.approvalId,type:"badge",status:e.currentStatus,appliedAt:e.createdAt,reviewedAt:e.updatedAt,message:e.reviewMessage,reviewNotes:e.adminFeedback,badgeTitle:"徽章申请 "+(e.requestedBadge?`#${e.requestedBadge}`:""),applicantName:"team"===e.applicantType?"团队申请":"个人申请"})));if(e?"badge"===V.value?x.value=a:"all"===V.value&&(x.value=[...x.value,...a]):x.value=[...x.value,...a],"badge"===V.value){const e=Math.ceil(n.data.data.total/d.value);c.value=r.value>=e}t("log","at pages/application/application.vue:685","徽章申请列表:",a)}}catch(a){t("error","at pages/application/application.vue:688","获取徽章申请列表失败:",a),uni.showToast({title:"获取徽章申请失败",icon:"none"})}}(e),t("log","at pages/application/application.vue:477","加载完成的应用列表数据：",x.value),C.value&&T()}catch(a){t("error","at pages/application/application.vue:485","获取申请列表失败:",a),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}finally{s.value=!1,o.value&&(o.value=!1)}}}async function z(){try{const e={status:"pending",role:"creator",pageSize:1},a=await E.getTaskApplicationList(e),l={status:"pending",pageSize:1},n=await h.getTeamApplications(l);let i=0;if(a&&200===a.code&&a.data&&void 0!==a.data.pendingCount&&(i+=a.data.pendingCount),n&&200===n.code&&n.data)if(void 0!==n.data.pendingCount)i+=n.data.pendingCount;else if(void 0!==n.data.total)i+=n.data.total;else{i+=(n.data.list||[]).filter((e=>"pending"===e.status)).length}t("log","at pages/application/application.vue:727","更新待处理数量角标:",i),g.value[1].badge=i}catch(e){t("error","at pages/application/application.vue:733","获取待处理数量失败:",e)}}function _(){o.value=!0,z(),M(!0)}function A(){s.value||c.value||(r.value++,M(!1))}function I(e){v.value!==e&&(v.value=e,N.value="all",1===e&&"badge"===V.value&&(V.value="all"),0===e?u.value="applicant":1===e&&(u.value="creator"),M(!0))}function j(e){N.value!==e&&(N.value=e,M(!0))}function L(e){switch(e){case"pending":return"status-pending";case"approved":return"status-approved";case"rejected":return"status-rejected";case"canceled":return"status-canceled";default:return""}}function R(e){if(!e)return"-";try{const t=new Date(e),a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0");return`${a}-${l}-${n} ${i}:${String(t.getMinutes()).padStart(2,"0")}`}catch(t){return e}}async function F(e,a,l){e&&l?"badge"!==l?uni.showModal({title:"approved"===a?"通过申请":"拒绝申请",content:"approved"===a?"确定通过该申请吗？":"确定拒绝该申请吗？",success:async n=>{if(n.confirm)try{let t;if(uni.showLoading({title:"处理中..."}),"task"===l)t=await E.updateTaskApplication(e,{status:a,reviewNotes:"approved"===a?"申请已通过":"申请已拒绝"});else{if("team"!==l)throw new Error("未知的申请类型");t=await h.handleApplication(e,{status:a,reviewNotes:"approved"===a?"申请已通过":"申请已拒绝"})}uni.hideLoading(),t&&200===t.code&&t.data&&t.data.success?(uni.showToast({title:"approved"===a?"已通过申请":"已拒绝申请",icon:"success"}),M(!0),z()):uni.showToast({title:(null==t?void 0:t.message)||"操作失败",icon:"none"})}catch(i){uni.hideLoading(),t("error","at pages/application/application.vue:907","处理申请失败:",i),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}}}):uni.showToast({title:"徽章申请处理功能开发中",icon:"none"}):uni.showToast({title:"参数错误",icon:"none"})}function U(e){"task"===e.type?uni.navigateTo({url:`/pages/task-square/detail?id=${e.taskId}`}):"team"===e.type?uni.navigateTo({url:`/pages/team/detail?id=${e.teamId}`}):"badge"===e.type&&uni.showToast({title:"徽章申请详情功能开发中",icon:"none"})}function H(){uni.navigateBack()}return(l,n)=>{const i=a(e.resolveDynamicComponent("uni-load-more"),ce);return e.openBlock(),e.createElementBlock("view",{class:"application-container"},[e.createElementVNode("view",{class:"fixed-area"},[e.createElementVNode("view",{class:"safe-area-top"}),e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("view",{class:"back-btn",onClick:H},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"page-title"},"申请管理"),e.createElementVNode("view",{class:"placeholder-right"})]),e.createElementVNode("view",{class:"tabs"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["tab",{active:v.value===a}]),onClick:e=>I(a)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),t.badge&&t.badge>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge"},e.toDisplayString(t.badge),1)):e.createCommentVNode("",!0)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"filter-tabs"},[e.createElementVNode("view",{class:"filter-options"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["filter-tab",{active:V.value===t.value}]),onClick:e=>function(e){V.value!==e&&(1!==v.value||"badge"!==e?(V.value=e,r.value=1,c.value=!1,x.value=[],M(!0)):uni.showToast({title:"待处理列表中不包含徽章申请",icon:"none"}))}(t.value)},e.toDisplayString(t.label),11,["onClick"])))),128))])]),e.createElementVNode("view",{class:"filter-tabs status-tabs"},[e.createElementVNode("view",{class:"filter-options"},[1===v.value?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(k.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["filter-tab",{active:N.value===t.value}]),onClick:e=>j(t.value)},e.toDisplayString(t.label),11,["onClick"])))),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(y.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["filter-tab",{active:N.value===t.value}]),onClick:e=>j(t.value)},e.toDisplayString(t.label),11,["onClick"])))),128))])])]),e.createElementVNode("scroll-view",{class:"application-list","scroll-y":"","refresher-enabled":"",onRefresherrefresh:_,"refresher-triggered":o.value,onScrolltolower:A},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,((a,l)=>{return e.openBlock(),e.createElementBlock("view",{key:l,class:e.normalizeClass(["application-card",[(n=a.type,n?"task"===n?"card-task":"team"===n?"card-team":"badge"===n?"card-badge":"card-task":"card-task"),L(a.status)]]),"data-id":a.id},[e.createElementVNode("view",{class:e.normalizeClass(["status-corner",L(a.status)])},e.toDisplayString(a.statusText),3),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("view",{class:"card-title"},[e.createTextVNode(e.toDisplayString(S(a))+" ",1),e.createElementVNode("text",{class:e.normalizeClass(["type-tag",D(a.type)])},e.toDisplayString("task"===a.type?"任务":"team"===a.type?"队伍":"badge"===a.type?"徽章":"未知"),3)]),e.createElementVNode("view",{class:"card-info"},["creator"===u.value||"leader"===u.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"申请人："),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.applicantName)+" "+e.toDisplayString(a.applicantMajor?"· "+a.applicantMajor:""),1)])):e.createCommentVNode("",!0),"team"===a.type&&a.roleName?(e.openBlock(),e.createElementBlock("view",{key:1,class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"申请角色："),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.roleName),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"申请时间："),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(R(a.appliedAt)),1)]),a.message?(e.openBlock(),e.createElementBlock("view",{key:2,class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"申请理由："),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.message),1)])):e.createCommentVNode("",!0),a.reviewNotes&&"pending"!==a.status?(e.openBlock(),e.createElementBlock("view",{key:3,class:"info-item"},[e.createElementVNode("text",{class:"info-label"},"审核备注："),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(a.reviewNotes),1)])):e.createCommentVNode("",!0)])]),"creator"!==u.value&&"leader"!==u.value||"pending"!==a.status?"applicant"===u.value&&"pending"===a.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"card-footer"},[e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("button",{class:"btn btn-reject",onClick:e.withModifiers((e=>async function(e,a){e&&a?"badge"!==a?uni.showModal({title:"取消申请",content:"确定要取消该申请吗？",success:async l=>{if(l.confirm)try{let t;if(uni.showLoading({title:"处理中..."}),"task"===a)t=await E.cancelTaskApplication(e);else{if("team"!==a)throw new Error("未知的申请类型");t=await h.cancelApplication(e)}uni.hideLoading(),t&&200===t.code&&t.data&&t.data.success?(uni.showToast({title:"已取消申请",icon:"success"}),M(!0),z()):uni.showToast({title:(null==t?void 0:t.message)||"操作失败",icon:"none"})}catch(n){uni.hideLoading(),t("error","at pages/application/application.vue:977","取消申请失败:",n),uni.showToast({title:"网络异常，请稍后重试",icon:"none"})}}}):uni.showToast({title:"徽章申请取消功能开发中",icon:"none"}):uni.showToast({title:"参数错误",icon:"none"})}(a.id,a.type)),["stop"])},"取消申请",8,["onClick"]),e.createElementVNode("button",{class:"btn btn-detail",onClick:e.withModifiers((e=>U(a)),["stop"])},"查看详情",8,["onClick"])])])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"card-footer"},[a.reviewedAt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"process-time"},"处理时间："+e.toDisplayString(R(a.reviewedAt)),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("button",{class:"btn btn-detail",onClick:e.withModifiers((e=>U(a)),["stop"])},"查看详情",8,["onClick"])])])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"card-footer"},[e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("button",{class:"btn btn-approve",onClick:e.withModifiers((e=>F(a.id,"approved",a.type)),["stop"])},"通过",8,["onClick"]),e.createElementVNode("button",{class:"btn btn-reject",onClick:e.withModifiers((e=>F(a.id,"rejected",a.type)),["stop"])},"拒绝",8,["onClick"]),e.createElementVNode("button",{class:"btn btn-detail",onClick:e.withModifiers((e=>U(a)),["stop"])},"查看详情",8,["onClick"])])]))],10,["data-id"]);var n})),128)),0!==b.value.length||s.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/images/empty.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无申请记录")])),s.value&&!o.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-more"},[e.createVNode(i,{status:"loading",contentText:m})])):e.createCommentVNode("",!0),c.value&&!s.value&&b.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"no-more"},[e.createVNode(i,{status:"noMore",contentText:m})])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"safe-area-bottom"})],40,["refresher-triggered"])])}}};const Ut=T({data:()=>({env:s,serverUrl:s.wsUrl||"ws://localhost:8080/ws",token:d()||"",debug:s.debug||!0,autoReconnect:!0,heartbeat:!0,isConnected:!1,messageTypes:["普通消息","聊天消息","认证消息"],messageTypeIndex:0,receiverId:"",messageContent:"",messages:[],scrollTop:0}),onLoad(){this.setupWebSocketCallbacks(),this.addMessage("系统",`环境: ${this.env.env||"未知"}`),this.addMessage("系统",`API地址: ${this.env.baseUrl||"未设置"}`),this.addMessage("系统",`WebSocket地址: ${this.env.wsUrl||"未设置"}`),this.addMessage("系统","Token: "+(this.token?"已设置":"未设置"))},onUnload(){this.disconnectWebSocket()},methods:{setupWebSocketCallbacks(){Bt.onOpen((e=>{this.isConnected=!0,this.addMessage("系统","WebSocket连接已打开")})),Bt.onClose((e=>{this.isConnected=!1,this.addMessage("系统",`WebSocket连接已关闭: ${e.code||""} ${e.reason||""}`)})),Bt.onError((e=>{this.addMessage("错误",`WebSocket连接错误: ${e.errMsg||JSON.stringify(e)}`)})),Bt.onMessage((e=>{let t=e;try{"string"==typeof e&&(t=JSON.parse(e),t=JSON.stringify(t,null,2))}catch(a){}this.addMessage("接收",t)}))},connectWebSocket(){this.isConnected?uni.showToast({title:"WebSocket已连接",icon:"none"}):(Bt.initConfig({url:this.serverUrl,token:this.token,debug:this.debug,autoReconnect:this.autoReconnect,heartbeat:this.heartbeat}),Bt.connect(),this.addMessage("系统","正在连接WebSocket..."))},disconnectWebSocket(){this.isConnected?(Bt.close(),this.addMessage("系统","正在断开WebSocket连接...")):uni.showToast({title:"WebSocket未连接",icon:"none"})},sendMessage(){if(!this.isConnected)return void uni.showToast({title:"WebSocket未连接",icon:"none"});if(!this.messageContent)return void uni.showToast({title:"消息内容不能为空",icon:"none"});let e;switch(this.messageTypeIndex){case 0:e=this.messageContent;break;case 1:e={type:"chat",to:this.receiverId,content:this.messageContent,timestamp:Date.now()};break;case 2:e={type:"auth",token:this.token||this.messageContent}}Bt.send(e)?(this.addMessage("发送","object"==typeof e?JSON.stringify(e,null,2):e),this.messageContent=""):uni.showToast({title:"消息发送失败",icon:"none"})},addMessage(e,t){const a=new Date,l=`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}:${a.getSeconds().toString().padStart(2,"0")}`;let n="";switch(e){case"系统":n="系统消息";break;case"发送":n="发送消息";break;case"接收":n="接收消息";break;case"错误":n="错误消息";break;default:n=e}this.messages.push({type:e,typeText:n,content:t,time:l}),this.messages.length>100&&this.messages.shift(),this.$nextTick((()=>{this.scrollTop=9999999}))},clearMessages(){this.messages=[]},onDebugChange(e){this.debug=e.detail.value},onAutoReconnectChange(e){this.autoReconnect=e.detail.value},onHeartbeatChange(e){this.heartbeat=e.detail.value},onMessageTypeChange(e){this.messageTypeIndex=e.detail.value}}},[["render",function(t,a,l,n,i,o){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:e.normalizeClass(["status-bar",[i.isConnected?"connected":"disconnected"]])},[e.createElementVNode("text",{class:"status-text"},"WebSocket状态: "+e.toDisplayString(i.isConnected?"已连接":"未连接"),1),e.createElementVNode("view",{class:"status-indicator"})],2),e.createElementVNode("view",{class:"env-info"},[e.createElementVNode("text",{class:"env-title"},"当前环境: "+e.toDisplayString(i.env.env),1),e.createElementVNode("text",{class:"env-detail"},"API地址: "+e.toDisplayString(i.env.baseUrl),1),e.createElementVNode("text",{class:"env-detail"},"WebSocket地址: "+e.toDisplayString(i.env.wsUrl),1)]),e.createElementVNode("view",{class:"connection-settings"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"服务器地址"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=e=>i.serverUrl=e),placeholder:"ws://服务器地址/ws"},null,512),[[e.vModelText,i.serverUrl]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"Token"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[1]||(a[1]=e=>i.token=e),placeholder:"可选，身份验证token"},null,512),[[e.vModelText,i.token]])]),e.createElementVNode("view",{class:"form-item checkbox-item"},[e.createElementVNode("text",{class:"label"},"调试模式"),e.createElementVNode("switch",{checked:i.debug,onChange:a[2]||(a[2]=(...e)=>o.onDebugChange&&o.onDebugChange(...e)),color:"#4CAF50"},null,40,["checked"])]),e.createElementVNode("view",{class:"form-item checkbox-item"},[e.createElementVNode("text",{class:"label"},"自动重连"),e.createElementVNode("switch",{checked:i.autoReconnect,onChange:a[3]||(a[3]=(...e)=>o.onAutoReconnectChange&&o.onAutoReconnectChange(...e)),color:"#4CAF50"},null,40,["checked"])]),e.createElementVNode("view",{class:"form-item checkbox-item"},[e.createElementVNode("text",{class:"label"},"心跳检测"),e.createElementVNode("switch",{checked:i.heartbeat,onChange:a[4]||(a[4]=(...e)=>o.onHeartbeatChange&&o.onHeartbeatChange(...e)),color:"#4CAF50"},null,40,["checked"])]),e.createElementVNode("view",{class:"button-group"},[e.createElementVNode("button",{class:"btn connect-btn",onClick:a[5]||(a[5]=(...e)=>o.connectWebSocket&&o.connectWebSocket(...e)),disabled:i.isConnected},"连接",8,["disabled"]),e.createElementVNode("button",{class:"btn disconnect-btn",onClick:a[6]||(a[6]=(...e)=>o.disconnectWebSocket&&o.disconnectWebSocket(...e)),disabled:!i.isConnected},"断开",8,["disabled"])])]),e.createElementVNode("view",{class:e.normalizeClass(["message-sender",{disabled:!i.isConnected}])},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"消息类型"),e.createElementVNode("picker",{onChange:a[7]||(a[7]=(...e)=>o.onMessageTypeChange&&o.onMessageTypeChange(...e)),value:i.messageTypeIndex,range:i.messageTypes},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(i.messageTypes[i.messageTypeIndex]),1)],40,["value","range"])]),1===i.messageTypeIndex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"form-item"},[e.createElementVNode("text",{class:"label"},"接收者ID"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[8]||(a[8]=e=>i.receiverId=e),placeholder:"接收者ID"},null,512),[[e.vModelText,i.receiverId]])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"消息内容"),e.withDirectives(e.createElementVNode("textarea",{class:"textarea","onUpdate:modelValue":a[9]||(a[9]=e=>i.messageContent=e),placeholder:"请输入消息内容"},null,512),[[e.vModelText,i.messageContent]])]),e.createElementVNode("button",{class:"btn send-btn",onClick:a[10]||(a[10]=(...e)=>o.sendMessage&&o.sendMessage(...e)),disabled:!i.isConnected||!i.messageContent},"发送消息",8,["disabled"])],2),e.createElementVNode("view",{class:"message-log"},[e.createElementVNode("view",{class:"log-header"},[e.createElementVNode("text",{class:"log-title"},"消息记录"),e.createElementVNode("button",{class:"btn clear-btn",onClick:a[11]||(a[11]=(...e)=>o.clearMessages&&o.clearMessages(...e))},"清空")]),e.createElementVNode("scroll-view",{class:"log-content","scroll-y":"","scroll-top":i.scrollTop},[0===i.messages.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-log"},[e.createElementVNode("text",null,"暂无消息记录")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.messages,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["message-item",t.type])},[e.createElementVNode("view",{class:"message-header"},[e.createElementVNode("text",{class:"message-type"},e.toDisplayString(t.typeText),1),e.createElementVNode("text",{class:"message-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("view",{class:"message-content"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.content),1)])],2)))),128))],8,["scroll-top"])])])}]]),Ht={__name:"index",setup(t){const l=e.ref(null),n=e.computed((()=>l.value&&l.value.headerHeight?l.value.headerHeight+"rpx":"120rpx")),i=["日","一","二","三","四","五","六"],o=new Date(2025,4,13),s=e.ref(o.getFullYear()),c=e.ref(o.getMonth()+1),r=e.ref(S(o)),d=e.ref([]),m=e.ref([{id:1,title:"2025全国大学生人工智能创新大赛报名截止",date:"2025-05-15",startTime:"23:59",endTime:"23:59",location:"线上提交",type:"deadline",completed:!1},{id:2,title:"团队项目周报交流会",date:"2025-05-17",startTime:"14:30",endTime:"16:30",location:"信息楼A305",type:"team",completed:!1},{id:3,title:"机器学习期末项目演示",date:"2025-05-20",startTime:"09:00",endTime:"12:00",location:"计算机学院报告厅",type:"deadline",completed:!1},{id:4,title:"互联网+大赛校内选拔赛",date:"2025-05-25",startTime:"08:30",endTime:"17:00",location:"创新创业中心",type:"competition",completed:!1},{id:5,title:"校园开发者大会",date:"2025-05-28",startTime:"13:00",endTime:"18:00",location:"图书馆报告厅",type:"meeting",completed:!1},{id:6,title:"挑战杯竞赛初赛",date:"2025-06-03",startTime:"09:00",endTime:"17:00",location:"大学生活动中心",type:"competition",completed:!1},{id:7,title:"数据科学项目组会议",date:"2025-06-08",startTime:"15:00",endTime:"17:00",location:"信息楼B201",type:"team",completed:!1},{id:8,title:"第二十届ACM国际大学生程序设计竞赛",date:"2025-06-12",startTime:"08:00",endTime:"18:00",location:"计算机学院机房",type:"competition",completed:!1},{id:9,title:"青年创新创业论坛",date:"2025-06-15",startTime:"14:00",endTime:"17:30",location:"大礼堂",type:"meeting",completed:!1},{id:10,title:"期末考试周开始",date:"2025-06-24",startTime:"08:00",endTime:"18:00",location:"各考场",type:"deadline",completed:!1},{id:11,title:"软件工程实训作品提交",date:"2025-06-28",startTime:"17:00",endTime:"17:00",location:"线上提交",type:"deadline",completed:!1},{id:12,title:"暑期实习开始",date:"2025-07-01",startTime:"09:00",endTime:"18:00",location:"企业实习基地",type:"other",completed:!1},{id:13,title:"全国大学生智能汽车竞赛",date:"2025-07-05",startTime:"08:30",endTime:"17:30",location:"工程学院综合楼",type:"competition",completed:!1},{id:14,title:"开源项目代码审核会议",date:"2025-07-10",startTime:"14:00",endTime:"16:00",location:"线上会议",type:"team",completed:!1},{id:15,title:"创新创业夏令营",date:"2025-07-15",startTime:"09:00",endTime:"17:00",location:"创客空间",type:"meeting",completed:!1},{id:16,title:"人工智能与机器人大赛",date:"2025-07-20",startTime:"09:00",endTime:"18:00",location:"科技馆",type:"competition",completed:!1},{id:17,title:"暑期学术交流会",date:"2025-07-25",startTime:"14:30",endTime:"17:30",location:"国际会议中心",type:"meeting",completed:!1},{id:18,title:"实训成果展示",date:"2025-07-30",startTime:"10:00",endTime:"16:00",location:"学术交流中心",type:"deadline",completed:!1}]),u={competition:"竞赛",team:"团队",meeting:"会议",deadline:"截止",other:"其他"},p=e.ref(null),h=e.ref({title:"",date:"",startTime:"",endTime:"",location:"",type:"other"}),g=e.computed((()=>{if(!r.value)return"";const e=new Date(r.value);e.getFullYear();return`${e.getMonth()+1}月${e.getDate()}日 星期${i[e.getDay()]}`})),v=e.computed((()=>m.value.filter((e=>e.date===r.value)).sort(((e,t)=>e.startTime.localeCompare(t.startTime)))));function f(){const e=[],t=new Date(s.value,c.value-1,1),a=new Date(s.value,c.value,0),l=t.getDay(),n=new Date(s.value,c.value-1,0).getDate();for(let o=0;o<l;o++){const t=n-l+o+1;let a=c.value-1,i=s.value;0===a&&(a=12,i-=1),e.push({day:t,fullDate:S(new Date(i,a-1,t)),otherMonth:!0,isToday:!1})}const i=S(o);for(let o=1;o<=a.getDate();o++){const t=S(new Date(s.value,c.value-1,o));e.push({day:o,fullDate:t,otherMonth:!1,isToday:t===i})}const r=42-e.length;for(let o=1;o<=r;o++){let t=c.value+1,a=s.value;13===t&&(t=1,a+=1),e.push({day:o,fullDate:S(new Date(a,t-1,o)),otherMonth:!0,isToday:!1})}d.value=e}function w(){1===c.value?(c.value=12,s.value-=1):c.value-=1,f()}function y(){12===c.value?(c.value=1,s.value+=1):c.value+=1,f()}function k(e){return m.value.some((t=>t.date===e))}function V(){h.value={title:"",date:r.value,startTime:"09:00",endTime:"10:00",location:"",type:"other"},p.value.open()}function N(e){h.value.date=e.detail.value}function E(e){const t=e.detail.value;if(h.value.startTime=t,!h.value.endTime||h.value.endTime<t){const[e,a]=t.split(":").map(Number);let l=e+1;l>23&&(l=23),h.value.endTime=`${String(l).padStart(2,"0")}:${String(a).padStart(2,"0")}`}}function x(e){h.value.endTime=e.detail.value}function b(){p.value.close()}function C(){if(!h.value.title)return void uni.showToast({title:"请输入事件标题",icon:"none"});if(!h.value.date)return void uni.showToast({title:"请选择日期",icon:"none"});if(!h.value.startTime)return void uni.showToast({title:"请选择开始时间",icon:"none"});if(!h.value.endTime)return void uni.showToast({title:"请选择结束时间",icon:"none"});const e={id:m.value.length>0?Math.max(...m.value.map((e=>e.id)))+1:1,title:h.value.title,date:h.value.date,startTime:h.value.startTime,endTime:h.value.endTime,location:h.value.location,type:h.value.type,completed:!1};m.value.push(e),p.value.close(),uni.showToast({title:"添加成功",icon:"success"})}function T(){uni.showToast({title:"搜索功能开发中",icon:"none"})}function S(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}return e.onMounted((()=>{f()})),(t,o)=>{const m=a(e.resolveDynamicComponent("uni-popup"),I);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{ref_key:"headerBarRef",ref:l,title:"日程安排",onSearch:T},null,512),e.createElementVNode("view",{class:"header-placeholder",style:e.normalizeStyle({height:n.value})},null,4),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"calendar-container"},[e.createElementVNode("view",{class:"calendar-header"},[e.createElementVNode("view",{class:"month-title"},[e.createElementVNode("text",{class:"current-month"},e.toDisplayString(s.value)+"年"+e.toDisplayString(c.value)+"月",1)]),e.createElementVNode("view",{class:"calendar-controls"},[e.createElementVNode("view",{class:"control-btn",onClick:w},[e.createElementVNode("text",{class:"icon-arrow transform-rotate-180"})]),e.createElementVNode("view",{class:"control-btn",onClick:y},[e.createElementVNode("text",{class:"icon-arrow"})]),e.createElementVNode("view",{class:"add-btn top-add-btn",onClick:V},[e.createElementVNode("text",{class:"add-icon"},"+")])])]),e.createElementVNode("view",{class:"week-header"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(i,((t,a)=>e.createElementVNode("view",{class:"week-day",key:a},[e.createElementVNode("text",{class:e.normalizeClass({weekend:0===a||6===a})},e.toDisplayString(t),3)]))),64))]),e.createElementVNode("view",{class:"calendar-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["calendar-day",{"other-month":t.otherMonth},{today:t.isToday},{"has-event":k(t.fullDate)},{selected:r.value===t.fullDate}]),onClick:e=>function(e){r.value=e.fullDate}(t)},[e.createElementVNode("text",{class:"day-number"},e.toDisplayString(t.day),1),k(t.fullDate)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"event-dot"})):e.createCommentVNode("",!0)],10,["onClick"])))),128))])]),e.createElementVNode("view",{class:"events-container"},[e.createElementVNode("view",{class:"events-header"},[e.createElementVNode("text",{class:"events-title"},e.toDisplayString(g.value),1)]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"events-list"},[v.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(v.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["event-item",{completed:t.completed}]),onClick:e=>{uni.showToast({title:"查看事件详情功能开发中",icon:"none"})}},[e.createElementVNode("view",{class:"event-time"},[e.createVNode(B,{name:"shijian",size:"18"}),e.createElementVNode("text",null,e.toDisplayString(t.startTime)+" - "+e.toDisplayString(t.endTime),1)]),e.createElementVNode("view",{class:"event-content"},[e.createElementVNode("text",{class:"event-title"},e.toDisplayString(t.title),1),t.location?(e.openBlock(),e.createElementBlock("text",{key:0,class:"event-location"},[e.createVNode(B,{name:"weizhi",size:"14"}),e.createTextVNode(" "+e.toDisplayString(t.location),1)])):e.createCommentVNode("",!0)]),t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"event-status"},[e.createElementVNode("text",{class:e.normalizeClass(["status-tag",t.type])},e.toDisplayString((l=t.type,{competition:"竞赛",team:"团队",deadline:"截止",meeting:"会议",other:"其他"}[l]||"其他")),3)])):e.createCommentVNode("",!0)],10,["onClick"]);var l})),128)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/image/empty-calendar.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"今日暂无日程安排")]))])])]),e.createVNode(L,{activeTab:"schedule"}),e.createVNode(m,{ref_key:"addEventPopup",ref:p,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("button",{class:"btn cancel-btn",onClick:b},"取消"),e.createElementVNode("text",{class:"popup-title"},"添加日程"),e.createElementVNode("button",{class:"btn confirm-btn",onClick:C},"保存")]),e.createElementVNode("view",{class:"form-content"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"标题"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[0]||(o[0]=e=>h.value.title=e),placeholder:"请输入事件标题"},null,512),[[e.vModelText,h.value.title]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"日期"),e.createElementVNode("picker",{mode:"date",value:h.value.date,onChange:N},[e.createElementVNode("view",{class:"form-input date-picker"},[e.createElementVNode("text",null,e.toDisplayString(h.value.date||"请选择日期"),1),e.createVNode(B,{name:"shijian",size:"16"})])],40,["value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"开始时间"),e.createElementVNode("picker",{mode:"time",value:h.value.startTime,onChange:E},[e.createElementVNode("view",{class:"form-input date-picker"},[e.createElementVNode("text",null,e.toDisplayString(h.value.startTime||"请选择开始时间"),1),e.createVNode(B,{name:"shijian",size:"16"})])],40,["value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"结束时间"),e.createElementVNode("picker",{mode:"time",value:h.value.endTime,onChange:x},[e.createElementVNode("view",{class:"form-input date-picker"},[e.createElementVNode("text",null,e.toDisplayString(h.value.endTime||"请选择结束时间"),1),e.createVNode(B,{name:"shijian",size:"16"})])],40,["value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"地点"),e.withDirectives(e.createElementVNode("input",{class:"form-input","onUpdate:modelValue":o[1]||(o[1]=e=>h.value.location=e),placeholder:"请输入地点 (选填)"},null,512),[[e.vModelText,h.value.location]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"类型"),e.createElementVNode("view",{class:"type-selector"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(u,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["type-item",{active:h.value.type===a},a]),onClick:e=>h.value.type=a},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"]))),64))])])])])])),_:1},512)])}}},Pt={__name:"create",setup(t){const l=e.ref({title:"",description:"",categoryId:1,tags:[{text:"技术创新",type:"blue"},{text:"移动应用",type:"purple"},{text:"用户体验",type:"green"}],startDate:"",endDate:"",status:"ongoing",coverImage:"",teamMembers:[{name:"张明",role:"项目负责人",avatar:"/static/image/touxiang1.png"},{name:"李华",role:"技术开发",avatar:"/static/image/touxiang5.png"},{name:"王芳",role:"UI设计",avatar:"/static/image/touxiang7.png"}],background:"",features:"",achievements:"",images:[]}),n=[{id:1,name:"创新创业"},{id:2,name:"科技竞赛"},{id:3,name:"研究项目"},{id:4,name:"设计作品"},{id:5,name:"其他"}],i=[{value:"ongoing",label:"进行中"},{value:"completed",label:"已完成"},{value:"planning",label:"规划中"}];function o(){uni.navigateBack()}function s(){uni.showModal({title:"添加标签",editable:!0,placeholderText:"请输入标签名称",success:e=>{if(e.confirm&&e.content){const t=["blue","purple","green","yellow","red"],a=t[Math.floor(Math.random()*t.length)];l.value.tags.push({text:e.content,type:a})}}})}function c(e){uni.showDatePicker({success:t=>{"start"===e?l.value.startDate=t.value:l.value.endDate=t.value}})}function r(){uni.showModal({title:"添加团队成员",content:"请在弹出的表单中填写成员信息",success:e=>{if(e.confirm){const e=["赵云","孙悦","李明","王强","张艺","刘洋"],t=["前端开发","后端工程师","产品经理","设计师","测试工程师","运营"],a=["/static/image/touxiang14.png","/static/image/touxiang15.png","/static/image/touxiang17.png","/static/image/touxiang119.png"],n=e[Math.floor(Math.random()*e.length)],i=t[Math.floor(Math.random()*t.length)],o=a[Math.floor(Math.random()*a.length)];l.value.teamMembers.push({name:n,role:i,avatar:o})}}})}function d(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{l.value.coverImage=e.tempFilePaths[0]}})}function m(){l.value.images.length>=9?uni.showToast({title:"最多上传9张图片",icon:"none"}):uni.chooseImage({count:9-l.value.images.length,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{l.value.images=l.value.images.concat(e.tempFilePaths)}})}function u(){l.value.title?l.value.description?l.value.coverImage?(uni.showLoading({title:"提交中..."}),setTimeout((()=>{uni.hideLoading(),uni.showModal({title:"发布成功",content:"项目已成功发布，等待审核",showCancel:!1,success:()=>{uni.navigateBack()}})}),1500)):p("请上传项目封面"):p("请输入项目简介"):p("请输入项目名称")}function p(e){uni.showToast({title:e,icon:"none"})}return(t,p)=>{const h=a(e.resolveDynamicComponent("uni-easyinput"),he);return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"header-left",onClick:o},[e.createVNode(B,{name:"back",size:"38",color:"#666"})]),e.createElementVNode("view",{class:"header-title"},"发布项目"),e.createElementVNode("view",{class:"header-right"},[e.createElementVNode("button",{class:"publish-btn",onClick:u},"发布")])]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"main-content"},[e.createElementVNode("form",{class:"project-form"},[e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-title"},"项目封面"),e.createElementVNode("view",{class:"cover-upload",onClick:d},[l.value.coverImage?(e.openBlock(),e.createElementBlock("image",{key:1,src:l.value.coverImage,mode:"aspectFill",class:"preview-image"},null,8,["src"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(B,{name:"upload",size:"60",color:"#ccc"}),e.createElementVNode("view",{class:"upload-tips"},[e.createElementVNode("text",{class:"upload-main-tip"},"点击或拖拽上传项目封面"),e.createElementVNode("text",{class:"upload-sub-tip"},"建议尺寸: 1200 x 600px, 最大2MB")])],64))])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-title"},"基本信息"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目名称"),e.createVNode(h,{modelValue:l.value.title,"onUpdate:modelValue":p[0]||(p[0]=e=>l.value.title=e),placeholder:"请输入项目名称（20字以内）",maxlength:"20"},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目简介"),e.createVNode(h,{modelValue:l.value.description,"onUpdate:modelValue":p[1]||(p[1]=e=>l.value.description=e),type:"textarea",placeholder:"请简要描述您的项目（200字以内）",maxlength:"200",autoHeight:!0},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目类型"),e.createElementVNode("view",{class:"type-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,((t,a)=>e.createElementVNode("view",{key:a,class:e.normalizeClass(["type-option",{"type-active":l.value.categoryId===t.id}]),onClick:e=>{return a=t.id,void(l.value.categoryId=a);var a}},e.toDisplayString(t.name),11,["onClick"]))),64))])])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-header"},[e.createElementVNode("view",{class:"form-title"},"项目标签"),e.createElementVNode("view",{class:"add-tag-btn",onClick:s},[e.createVNode(B,{name:"plus",size:"28",color:"#2d8cf0"}),e.createElementVNode("text",{class:"add-tag-text"},"添加标签")])]),e.createElementVNode("view",{class:"tags-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.tags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass(["tag-pill",`tag-${t.type}`])},[e.createElementVNode("text",null,e.toDisplayString(t.text),1),e.createElementVNode("view",{class:"tag-delete",onClick:e=>function(e){l.value.tags.splice(e,1)}(a)},[e.createVNode(B,{name:"close",size:"24",color:"currentColor"})],8,["onClick"])],2)))),128))])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-title"},"项目时间"),e.createElementVNode("view",{class:"date-grid"},[e.createElementVNode("view",{class:"date-item"},[e.createElementVNode("text",{class:"form-label"},"开始日期"),e.createElementVNode("view",{class:"date-input-container",onClick:p[2]||(p[2]=e=>c("start"))},[e.createVNode(B,{name:"calendar",size:"28",color:"#999",class:"date-icon"}),e.createElementVNode("text",{class:"date-text"},e.toDisplayString(l.value.startDate||"YYYY-MM-DD"),1)])]),e.createElementVNode("view",{class:"date-item"},[e.createElementVNode("text",{class:"form-label"},"结束日期"),e.createElementVNode("view",{class:"date-input-container",onClick:p[3]||(p[3]=e=>c("end"))},[e.createVNode(B,{name:"calendar",size:"28",color:"#999",class:"date-icon"}),e.createElementVNode("text",{class:"date-text"},e.toDisplayString(l.value.endDate||"YYYY-MM-DD"),1)])])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目状态"),e.createElementVNode("view",{class:"status-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(i,((t,a)=>e.createElementVNode("view",{key:a,class:"status-option"},[e.createElementVNode("radio",{value:t.value,checked:l.value.status===t.value,onClick:e=>l.value.status=t.value,color:"#2d8cf0"},null,8,["value","checked","onClick"]),e.createElementVNode("text",{class:"status-text"},e.toDisplayString(t.label),1)]))),64))])])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-header"},[e.createElementVNode("view",{class:"form-title"},"团队成员"),e.createElementVNode("view",{class:"add-member-btn",onClick:r},[e.createVNode(B,{name:"plus",size:"28",color:"#2d8cf0"}),e.createElementVNode("text",{class:"add-member-text"},"添加成员")])]),e.createElementVNode("view",{class:"members-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.teamMembers,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"member-card"},[e.createElementVNode("view",{class:"member-info"},[e.createElementVNode("image",{src:t.avatar,class:"member-avatar"},null,8,["src"]),e.createElementVNode("view",{class:"member-details"},[e.createElementVNode("text",{class:"member-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"member-role"},e.toDisplayString(t.role),1)])]),e.createElementVNode("view",{class:"remove-member",onClick:e=>function(e){l.value.teamMembers.splice(e,1)}(a)},[e.createVNode(B,{name:"close",size:"32",color:"#999"})],8,["onClick"])])))),128))])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-title"},"项目详情"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目背景"),e.createVNode(h,{modelValue:l.value.background,"onUpdate:modelValue":p[4]||(p[4]=e=>l.value.background=e),type:"textarea",placeholder:"请描述项目的背景和意义",autoHeight:!0},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目特色"),e.createVNode(h,{modelValue:l.value.features,"onUpdate:modelValue":p[5]||(p[5]=e=>l.value.features=e),type:"textarea",placeholder:"请描述项目的创新点和特色",autoHeight:!0},null,8,["modelValue"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"form-label"},"项目成果"),e.createVNode(h,{modelValue:l.value.achievements,"onUpdate:modelValue":p[6]||(p[6]=e=>l.value.achievements=e),type:"textarea",placeholder:"请描述项目已取得或预期的成果",autoHeight:!0},null,8,["modelValue"])])]),e.createElementVNode("view",{class:"form-card"},[e.createElementVNode("view",{class:"form-header"},[e.createElementVNode("view",{class:"form-title"},"项目图片"),e.createElementVNode("text",{class:"image-limit"},"最多上传9张")]),e.createElementVNode("view",{class:"images-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.images,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"image-item"},[e.createElementVNode("image",{src:t,mode:"aspectFill",class:"project-image"},null,8,["src"]),e.createElementVNode("view",{class:"remove-image",onClick:e=>function(e){l.value.images.splice(e,1)}(a)},[e.createVNode(B,{name:"close",size:"24",color:"#fff"})],8,["onClick"])])))),128)),l.value.images.length<9?(e.openBlock(),e.createElementBlock("view",{key:0,class:"add-image",onClick:m},[e.createVNode(B,{name:"plus",size:"40",color:"#ccc"}),e.createElementVNode("text",{class:"add-image-text"},"添加图片")])):e.createCommentVNode("",!0)])])])]),e.createElementVNode("view",{class:"mobile-submit"},[e.createElementVNode("button",{class:"submit-btn",onClick:u},"发布项目")])])}}},$t={__name:"medal-detail",setup(a){const l=e.ref(!0),n=e.ref([]),i=e.ref("all"),o=e.ref(!1),s=e.ref({}),c=e.ref(!1),r=e.ref(1),d=e.ref(0),m=e.computed((()=>"all"===i.value?n.value:"competition"===i.value?n.value.filter((e=>"team_competition"===e.badgeType)):"personal"===i.value?n.value.filter((e=>"personal_achievement"===e.badgeType)):n.value));function u(){return{competition:n.value.filter((e=>"team_competition"===e.badgeType)).length,personal:n.value.filter((e=>"personal_achievement"===e.badgeType)).length}}function p(e){return"team_competition"===e?"competition-type":"personal_achievement"===e?"personal-type":""}function h(e){return"team_competition"===e?"竞赛勋章":"personal_achievement"===e?"个人成就":"未知类型"}function g(e){if(!e)return"无限期";try{const t=new Date(e),a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0");return`${a}-${l}-${String(t.getDate()).padStart(2,"0")}`}catch(a){return t("error","at pages/profile/medal-detail.vue:408","日期格式化错误:",a),e}}function v(){o.value=!1}function f(){uni.navigateBack()}function w(e){if(2===e.touches.length){const t=e.touches[0],a=e.touches[1];d.value=Math.sqrt(Math.pow(a.pageX-t.pageX,2)+Math.pow(a.pageY-t.pageY,2))}}function y(e){if(2===e.touches.length&&d.value>0){const t=e.touches[0],a=e.touches[1],l=Math.sqrt(Math.pow(a.pageX-t.pageX,2)+Math.pow(a.pageY-t.pageY,2)),n=l/d.value;r.value=Math.max(.5,Math.min(4,r.value*n)),d.value=l}}function k(){d.value=0}function V(){s.value&&s.value.icon&&(r.value=1,c.value=!0)}function N(){c.value=!1}function E(){uni.navigateTo({url:"/pages/profile/apply-badge"}).catch((e=>{t("error","at pages/profile/medal-detail.vue:485","跳转勋章申请页面失败:",e),uni.showToast({title:"页面跳转失败",icon:"none"})}))}return e.onMounted((()=>{!async function(){try{l.value=!0;const e={code:200,message:"操作成功",data:{records:[{badgeId:1,name:"全国赛金奖",badgeType:"team_competition",icon:"/static/image/Lianxi/mc/1-1.png",glowEffect:"gold_glow",rarity:6,teamId:1,teamName:"代码先锋队",competitionId:1,competitionName:"第15届全国大学生程序设计竞赛",conditionTemplate:{level:"国家级",rank:"金奖"},acquiredTime:"2024-03-15",expireTime:"2025-06-21",displayOrder:0,isExpired:!1},{badgeId:3,name:"市赛铜奖",badgeType:"team_competition",icon:"/static/image/Lianxi/mc/1-3.png",glowEffect:null,rarity:3,teamId:3,teamName:"商界新锐",competitionId:6,competitionName:"全国大学生商业模拟挑战赛",conditionTemplate:{level:"市级",rank:"铜奖"},acquiredTime:"2024-02-01",expireTime:null,displayOrder:0,isExpired:!1},{badgeId:5,name:"技术博客专家",badgeType:"personal_achievement",icon:"/static/image/Lianxi/mc/1-2.png",glowEffect:null,rarity:3,teamId:null,teamName:null,competitionId:null,competitionName:null,conditionTemplate:{},acquiredTime:"2024-01-05",expireTime:null,displayOrder:0,isExpired:!1}],total:3,size:10,current:1,pages:1}};200===e.code&&e.data?(n.value=e.data.records,t("log","at pages/profile/medal-detail.vue:334","获取到勋章数据:",e.data)):uni.showToast({title:e.message||"获取勋章失败",icon:"none"})}catch(e){t("error","at pages/profile/medal-detail.vue:342","获取勋章列表失败:",e),uni.showToast({title:"获取勋章列表失败",icon:"none"})}finally{l.value=!1}}()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:f},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"荣誉勋章"),e.createElementVNode("view",{class:"right-placeholder"})]),l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},[e.createElementVNode("view",{class:"stats-card"},[e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-value"},e.toDisplayString(n.value.length),1),e.createElementVNode("text",{class:"stats-label"},"勋章总数")]),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-value"},e.toDisplayString(n.value.filter((e=>e.rarity>=4)).length),1),e.createElementVNode("text",{class:"stats-label"},"高稀有度")]),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-value"},e.toDisplayString(u().competition),1),e.createElementVNode("text",{class:"stats-label"},"竞赛勋章")]),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-value"},e.toDisplayString(u().personal),1),e.createElementVNode("text",{class:"stats-label"},"个人成就")])]),e.createElementVNode("view",{class:"category-tabs"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"all"===i.value}]),onClick:a[0]||(a[0]=e=>i.value="all")},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"competition"===i.value}]),onClick:a[1]||(a[1]=e=>i.value="competition")},[e.createElementVNode("text",null,"竞赛勋章")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"personal"===i.value}]),onClick:a[2]||(a[2]=e=>i.value="personal")},[e.createElementVNode("text",null,"个人成就")],2)]),e.createElementVNode("view",{class:"badges-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"badge-card",key:t.badgeId,onClick:e=>function(e){s.value=e,o.value=!0}(t)},[e.createElementVNode("view",{class:"badge-content"},[e.createElementVNode("view",{class:e.normalizeClass(["badge-image-container",{"with-glow":t.glowEffect}])},[e.createElementVNode("image",{class:"badge-image",src:t.icon,mode:"aspectFit"},null,8,["src"]),t.glowEffect?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["glow-effect",t.glowEffect])},null,2)):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:"badge-info"},[e.createElementVNode("view",{class:"badge-header"},[e.createElementVNode("text",{class:"badge-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"badge-rarity"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rarity,(t=>(e.openBlock(),e.createElementBlock("text",{key:t,class:"rarity-star"},"★")))),128))])]),e.createElementVNode("view",{class:"badge-details"},[t.teamName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge-detail-item"},[e.createVNode(B,{name:"team",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(t.teamName),1)])):e.createCommentVNode("",!0),t.competitionName?(e.openBlock(),e.createElementBlock("view",{key:1,class:"badge-detail-item"},[e.createVNode(B,{name:"trophy",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(t.competitionName),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"badge-detail-item"},[e.createVNode(B,{name:"calendar",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(g(t.acquiredTime)),1)])]),e.createElementVNode("view",{class:e.normalizeClass(["badge-type-tag",p(t.badgeType)])},[e.createElementVNode("text",null,e.toDisplayString(h(t.badgeType)),1)],2)])])],8,["onClick"])))),128)),0===m.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-badges"},[e.createElementVNode("image",{class:"empty-badge-icon",src:ct,mode:"aspectFit"}),e.createElementVNode("text",null,e.toDisplayString("all"===i.value?"暂无获得的勋章":"competition"===i.value?"暂无获得的竞赛勋章":"personal"===i.value?"暂无获得的个人成就勋章":"暂无数据"),1)])):e.createCommentVNode("",!0)])])),o.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"badge-detail-overlay",onClick:v},[e.createElementVNode("view",{class:"badge-detail-content",onClick:a[3]||(a[3]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"badge-detail-header"},[e.createElementVNode("text",{class:"badge-detail-title"},"勋章详情"),e.createElementVNode("view",{class:"badge-detail-close",onClick:v},[e.createVNode(B,{name:"close",size:"20"})])]),e.createElementVNode("view",{class:"badge-detail-body"},[e.createElementVNode("view",{class:e.normalizeClass(["badge-detail-image-container",{"with-glow":s.value.glowEffect}]),onClick:V},[e.createElementVNode("image",{class:"badge-detail-image",src:s.value.icon,mode:"aspectFit"},null,8,["src"]),s.value.glowEffect?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["glow-effect",s.value.glowEffect])},null,2)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zoom-hint"},[e.createVNode(B,{name:"search-plus",size:"16",color:"#ffffff"}),e.createElementVNode("text",null,"查看大图")])],2),e.createElementVNode("view",{class:"badge-detail-name"},e.toDisplayString(s.value.name),1),e.createElementVNode("view",{class:"badge-detail-rarity"},[e.createElementVNode("text",{class:"rarity-label"},"稀有度："),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value.rarity,(t=>(e.openBlock(),e.createElementBlock("text",{key:t,class:"rarity-star large"},"★")))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(6-s.value.rarity,(t=>(e.openBlock(),e.createElementBlock("text",{key:`empty-${t}`,class:"rarity-star empty"},"★")))),128))]),e.createElementVNode("view",{class:"badge-detail-info-grid"},["team_competition"===s.value.badgeType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"竞赛名称"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(s.value.competitionName),1)])):e.createCommentVNode("",!0),s.value.teamName?(e.openBlock(),e.createElementBlock("view",{key:1,class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"参赛团队"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(s.value.teamName),1)])):e.createCommentVNode("",!0),s.value.conditionTemplate&&s.value.conditionTemplate.level?(e.openBlock(),e.createElementBlock("view",{key:2,class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"竞赛级别"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(s.value.conditionTemplate.level),1)])):e.createCommentVNode("",!0),s.value.conditionTemplate&&s.value.conditionTemplate.rank?(e.openBlock(),e.createElementBlock("view",{key:3,class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"获得奖项"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(s.value.conditionTemplate.rank),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"获得时间"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(g(s.value.acquiredTime)),1)]),s.value.expireTime?(e.openBlock(),e.createElementBlock("view",{key:4,class:"badge-detail-info-item"},[e.createElementVNode("text",{class:"detail-label"},"过期时间"),e.createElementVNode("text",{class:"detail-value"},e.toDisplayString(g(s.value.expireTime)),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"badge-detail-type"},[e.createElementVNode("text",{class:"detail-type-label"},"勋章类型："),e.createElementVNode("view",{class:e.normalizeClass(["badge-type-tag large",p(s.value.badgeType)])},[e.createElementVNode("text",null,e.toDisplayString(h(s.value.badgeType)),1)],2)])])])])):e.createCommentVNode("",!0),c.value?(e.openBlock(),e.createElementBlock("view",{key:3,class:"image-preview-overlay",onClick:N},[e.createElementVNode("image",{class:"image-preview",src:s.value.icon,mode:"aspectFit",style:e.normalizeStyle({transform:`scale(${r.value})`}),onTouchstart:w,onTouchmove:y,onTouchend:k,onClick:a[4]||(a[4]=e.withModifiers((()=>{}),["stop"]))},null,44,["src"]),e.createElementVNode("view",{class:"image-preview-hint"},[e.createElementVNode("text",null,"双指缩放可调整图片大小")]),e.createElementVNode("view",{class:"image-preview-close",onClick:N},[e.createVNode(B,{name:"close",size:"24",color:"#ffffff"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"safe-area-bottom"}),e.createElementVNode("view",{class:"apply-badge-btn",onClick:E},[e.createVNode(B,{name:"plus",size:"24",color:"#ffffff"}),e.createElementVNode("text",null,"申请勋章")])]))}},qt={__name:"apply-badge",setup(a){const l=e.reactive({applicantType:"individual",teamId:null,competitionId:null,awardLevel:null,applicantId:null,requestedBadge:null,reviewMessage:""}),n=e.ref([]),i=e.ref(!1),o=e.ref([{id:1,name:"创新先锋队"},{id:2,name:"未来科技团队"},{id:3,name:"算法精英组"}]),s=e.ref(""),c=e.ref(null),r=e.ref([{id:1,name:"全国大学生数学建模竞赛"},{id:2,name:"挑战杯全国大学生创业大赛"},{id:3,name:"全国大学生电子设计竞赛"},{id:4,name:"互联网+"}]),d=e.ref(""),m=e.ref(null),u=[{label:"金奖",value:"金奖"},{label:"银奖",value:"银奖"},{label:"铜奖",value:"铜奖"},{label:"优秀奖",value:"优秀奖"}],p=e.ref([{id:1,name:"全国赛金奖",icon:"/static/image/Lianxi/mc/1-1.png"},{id:2,name:"创新先锋",icon:"/static/image/Lianxi/mc/1-2.png"},{id:3,name:"技术能手",icon:"/static/image/Lianxi/mc/1-3.png"},{id:4,name:"优秀队员",icon:"/static/image/Lianxi/mc/1-4.png"}]);function h(){c.value.open("bottom")}function g(){c.value.close()}function v(){m.value.open("bottom")}function f(){m.value.close()}function w(){uni.chooseImage({count:3-n.value.length,sizeType:["compressed"],success:e=>{const t=e.tempFilePaths.map((e=>({path:e,size:0})));n.value=[...n.value,...t].slice(0,3)}})}async function y(){if("team"===l.applicantType&&!l.teamId)return uni.showToast({title:"请选择团队",icon:"none"});if(!l.competitionId)return uni.showToast({title:"请选择竞赛",icon:"none"});if(!l.awardLevel)return uni.showToast({title:"请选择获得奖项",icon:"none"});if(!l.requestedBadge)return uni.showToast({title:"请选择申请的勋章",icon:"none"});if(!l.reviewMessage.trim())return uni.showToast({title:"请填写申请说明",icon:"none"});if(0===n.value.length)return uni.showToast({title:"请上传证明材料",icon:"none"});i.value=!0;try{await new Promise((e=>setTimeout(e,1500))),uni.showToast({title:"申请提交成功",icon:"success"}),setTimeout((()=>{k()}),1500)}catch(e){t("error","at pages/profile/apply-badge.vue:381","提交申请失败:",e),uni.showToast({title:"提交失败，请重试",icon:"none"})}finally{i.value=!1}}function k(){uni.navigateBack()}return e.onMounted((()=>{t("log","at pages/profile/apply-badge.vue:399","勋章申请页面加载")})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:k},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"勋章申请"),e.createElementVNode("view",{class:"right-placeholder"})]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"form-scroll"},[e.createElementVNode("view",{class:"form-container"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"申请类型"),e.createElementVNode("view",{class:"type-selector"},[e.createElementVNode("view",{class:e.normalizeClass(["type-option",{active:"individual"===l.applicantType}]),onClick:a[0]||(a[0]=e=>l.applicantType="individual")},[e.createElementVNode("view",{class:"type-radio"},["individual"===l.applicantType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio-inner"})):e.createCommentVNode("",!0)]),e.createElementVNode("text",null,"个人申请")],2),e.createElementVNode("view",{class:e.normalizeClass(["type-option",{active:"team"===l.applicantType}]),onClick:a[1]||(a[1]=e=>l.applicantType="team")},[e.createElementVNode("view",{class:"type-radio"},["team"===l.applicantType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio-inner"})):e.createCommentVNode("",!0)]),e.createElementVNode("text",null,"团队申请")],2)])]),"team"===l.applicantType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"选择团队"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"dropdown-selector",onClick:h},[e.createElementVNode("text",{class:"selector-text"},e.toDisplayString(s.value||"请选择团队"),1),e.createVNode(B,{name:"arrow-down",size:"16"})])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"竞赛信息"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("view",{class:"dropdown-selector",onClick:v},[e.createElementVNode("text",{class:"selector-text"},e.toDisplayString(d.value||"请选择竞赛"),1),e.createVNode(B,{name:"arrow-down",size:"16"})])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"获得奖项"),e.createElementVNode("view",{class:"award-selector"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(u,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["award-option",{active:l.awardLevel===t.value}]),onClick:e=>l.awardLevel=t.value},e.toDisplayString(t.label),11,["onClick"]))),64))])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"勋章选择"),e.createElementVNode("view",{class:"badge-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["badge-item",{selected:l.requestedBadge===t.id}]),onClick:e=>function(e){l.requestedBadge=e.id}(t)},[e.createElementVNode("image",{class:"badge-image",src:t.icon,mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"badge-name"},e.toDisplayString(t.name),1),l.requestedBadge===t.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge-check"},[e.createVNode(B,{name:"check",size:"16",color:"#ffffff"})])):e.createCommentVNode("",!0)],10,["onClick"])))),128))])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"申请说明"),e.createElementVNode("view",{class:"form-item"},[e.withDirectives(e.createElementVNode("textarea",{class:"form-textarea","onUpdate:modelValue":a[2]||(a[2]=e=>l.reviewMessage=e),placeholder:"请详细描述申请理由，如：竞赛名称、获奖级别、团队贡献等",maxlength:200},null,512),[[e.vModelText,l.reviewMessage]]),e.createElementVNode("text",{class:"textarea-counter"},e.toDisplayString(l.reviewMessage.length)+"/200",1)])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"证明材料"),e.createElementVNode("view",{class:"upload-area"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"upload-item",key:a},[e.createElementVNode("image",{class:"upload-preview",src:t.path,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"upload-delete",onClick:e=>function(e){n.value.splice(e,1)}(a)},[e.createVNode(B,{name:"close",size:"16",color:"#ffffff"})],8,["onClick"])])))),128)),n.value.length<3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-button",onClick:w},[e.createVNode(B,{name:"plus",size:"24"}),e.createElementVNode("text",null,"上传图片")])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"upload-tips"},"请上传获奖证书、比赛公示截图等证明材料，最多3张图片")])])]),e.createElementVNode("view",{class:"submit-bar"},[e.createElementVNode("button",{class:"submit-btn",onClick:y,disabled:i.value},e.toDisplayString(i.value?"提交中...":"提交申请"),9,["disabled"])]),e.createVNode(I,{ref_key:"teamPopup",ref:c,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择团队"),e.createElementVNode("view",{class:"popup-close",onClick:g},[e.createVNode(B,{name:"close",size:"18"})])]),e.createElementVNode("view",{class:"popup-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"popup-item",key:t.id,onClick:e=>function(e){l.teamId=e.id,s.value=e.name,g()}(t)},[e.createElementVNode("text",{class:"popup-item-text"},e.toDisplayString(t.name),1),l.teamId===t.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"popup-item-check"},[e.createVNode(B,{name:"check",size:"16",color:"#3B82F6"})])):e.createCommentVNode("",!0)],8,["onClick"])))),128))])])])),_:1},512),e.createVNode(I,{ref_key:"competitionPopup",ref:m,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择竞赛"),e.createElementVNode("view",{class:"popup-close",onClick:f},[e.createVNode(B,{name:"close",size:"18"})])]),e.createElementVNode("view",{class:"popup-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"popup-item",key:t.id,onClick:e=>function(e){l.competitionId=e.id,d.value=e.name,f()}(t)},[e.createElementVNode("text",{class:"popup-item-text"},e.toDisplayString(t.name),1),l.competitionId===t.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"popup-item-check"},[e.createVNode(B,{name:"check",size:"16",color:"#3B82F6"})])):e.createCommentVNode("",!0)],8,["onClick"])))),128))])])])),_:1},512)]))}},Ot={__name:"material-reward",setup(a){const l=e.reactive({rewardType:"competition",applicantName:"",phoneNumber:"",address:"",competitionId:null,activityId:null,rewardName:"",quantity:1,description:""}),n=e.ref([]),i=e.ref(!1),o=e.ref([{id:1,name:"全国大学生数学建模竞赛"},{id:2,name:"挑战杯全国大学生创业大赛"},{id:3,name:"全国大学生电子设计竞赛"},{id:4,name:"互联网+"}]),s=e.ref(""),c=e.ref(null),r=e.ref([{id:1,name:"校园科技文化节"},{id:2,name:"创新创业大赛"},{id:3,name:"编程马拉松"},{id:4,name:"学生会年度颁奖典礼"}]),d=e.ref(""),m=e.ref(null);function u(){l.quantity<99&&l.quantity++}function p(){l.quantity>1&&l.quantity--}function h(){c.value.open("bottom")}function g(){c.value.close()}function v(){m.value.open("bottom")}function f(){m.value.close()}function w(){uni.chooseImage({count:3-n.value.length,sizeType:["compressed"],success:e=>{const t=e.tempFilePaths.map((e=>({path:e,size:0})));n.value=[...n.value,...t].slice(0,3)}})}async function y(){if(!l.applicantName.trim())return uni.showToast({title:"请输入申请人姓名",icon:"none"});if(!l.phoneNumber||!/^1\d{10}$/.test(l.phoneNumber))return uni.showToast({title:"请输入有效的手机号码",icon:"none"});if(!l.address.trim())return uni.showToast({title:"请输入收货地址",icon:"none"});if("competition"===l.rewardType&&!l.competitionId)return uni.showToast({title:"请选择相关竞赛",icon:"none"});if("activity"===l.rewardType&&!l.activityId)return uni.showToast({title:"请选择相关活动",icon:"none"});if(!l.rewardName.trim())return uni.showToast({title:"请输入奖品名称",icon:"none"});if(!l.description.trim())return uni.showToast({title:"请填写申请说明",icon:"none"});if(0===n.value.length)return uni.showToast({title:"请上传证明材料",icon:"none"});i.value=!0;try{await new Promise((e=>setTimeout(e,1500))),uni.showToast({title:"申请提交成功",icon:"success"}),setTimeout((()=>{k()}),1500)}catch(e){t("error","at pages/profile/material-reward.vue:401","提交申请失败:",e),uni.showToast({title:"提交失败，请重试",icon:"none"})}finally{i.value=!1}}function k(){uni.navigateBack()}return e.onMounted((()=>{t("log","at pages/profile/material-reward.vue:419","实物奖励申请页面加载")})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:k},[e.createVNode(B,{name:"back",size:"20"})]),e.createElementVNode("text",{class:"header-title"},"实物奖励申请"),e.createElementVNode("view",{class:"right-placeholder"})]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"form-scroll"},[e.createElementVNode("view",{class:"form-container"},[e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"基本信息"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"申请类型"),e.createElementVNode("view",{class:"type-selector"},[e.createElementVNode("view",{class:e.normalizeClass(["type-option",{active:"competition"===l.rewardType}]),onClick:a[0]||(a[0]=e=>l.rewardType="competition")},[e.createElementVNode("view",{class:"type-radio"},["competition"===l.rewardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio-inner"})):e.createCommentVNode("",!0)]),e.createElementVNode("text",null,"竞赛奖品")],2),e.createElementVNode("view",{class:e.normalizeClass(["type-option",{active:"activity"===l.rewardType}]),onClick:a[1]||(a[1]=e=>l.rewardType="activity")},[e.createElementVNode("view",{class:"type-radio"},["activity"===l.rewardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio-inner"})):e.createCommentVNode("",!0)]),e.createElementVNode("text",null,"活动奖励")],2),e.createElementVNode("view",{class:e.normalizeClass(["type-option",{active:"other"===l.rewardType}]),onClick:a[2]||(a[2]=e=>l.rewardType="other")},[e.createElementVNode("view",{class:"type-radio"},["other"===l.rewardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio-inner"})):e.createCommentVNode("",!0)]),e.createElementVNode("text",null,"其他奖励")],2)])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"申请人"),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-input","onUpdate:modelValue":a[3]||(a[3]=e=>l.applicantName=e),placeholder:"请输入申请人姓名"},null,512),[[e.vModelText,l.applicantName]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"手机号码"),e.withDirectives(e.createElementVNode("input",{type:"number",class:"form-input","onUpdate:modelValue":a[4]||(a[4]=e=>l.phoneNumber=e),placeholder:"请输入联系电话",maxlength:"11"},null,512),[[e.vModelText,l.phoneNumber]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"收货地址"),e.withDirectives(e.createElementVNode("textarea",{class:"form-textarea address-textarea","onUpdate:modelValue":a[5]||(a[5]=e=>l.address=e),placeholder:"请输入详细收货地址",maxlength:100},null,512),[[e.vModelText,l.address]])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"奖品信息"),"competition"===l.rewardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"相关竞赛"),e.createElementVNode("view",{class:"dropdown-selector",onClick:h},[e.createElementVNode("text",{class:"selector-text"},e.toDisplayString(s.value||"请选择相关竞赛"),1),e.createVNode(B,{name:"arrow-down",size:"16"})])])):e.createCommentVNode("",!0),"activity"===l.rewardType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"相关活动"),e.createElementVNode("view",{class:"dropdown-selector",onClick:v},[e.createElementVNode("text",{class:"selector-text"},e.toDisplayString(d.value||"请选择相关活动"),1),e.createVNode(B,{name:"arrow-down",size:"16"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"奖品名称"),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-input","onUpdate:modelValue":a[6]||(a[6]=e=>l.rewardName=e),placeholder:"请输入奖品名称"},null,512),[[e.vModelText,l.rewardName]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"奖品数量"),e.createElementVNode("view",{class:"quantity-selector"},[e.createElementVNode("view",{class:"quantity-btn",onClick:p},"-"),e.withDirectives(e.createElementVNode("input",{type:"number",class:"quantity-input","onUpdate:modelValue":a[7]||(a[7]=e=>l.quantity=e)},null,512),[[e.vModelText,l.quantity]]),e.createElementVNode("view",{class:"quantity-btn",onClick:u},"+")])])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"申请说明"),e.createElementVNode("view",{class:"form-item"},[e.withDirectives(e.createElementVNode("textarea",{class:"form-textarea","onUpdate:modelValue":a[8]||(a[8]=e=>l.description=e),placeholder:"请详细描述申请理由，如：获奖情况、活动参与情况等",maxlength:200},null,512),[[e.vModelText,l.description]]),e.createElementVNode("text",{class:"textarea-counter"},e.toDisplayString(l.description.length)+"/200",1)])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"section-title"},"证明材料"),e.createElementVNode("view",{class:"upload-area"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"upload-item",key:a},[e.createElementVNode("image",{class:"upload-preview",src:t.path,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"upload-delete",onClick:e=>function(e){n.value.splice(e,1)}(a)},[e.createVNode(B,{name:"close",size:"16",color:"#ffffff"})],8,["onClick"])])))),128)),n.value.length<3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-button",onClick:w},[e.createVNode(B,{name:"plus",size:"24"}),e.createElementVNode("text",null,"上传图片")])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"upload-tips"},"请上传获奖证书、活动参与证明等相关材料，最多3张图片")])])]),e.createElementVNode("view",{class:"submit-bar"},[e.createElementVNode("button",{class:"submit-btn",onClick:y,disabled:i.value},e.toDisplayString(i.value?"提交中...":"提交申请"),9,["disabled"])]),e.createVNode(I,{ref_key:"competitionPopup",ref:c,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择竞赛"),e.createElementVNode("view",{class:"popup-close",onClick:g},[e.createVNode(B,{name:"close",size:"18"})])]),e.createElementVNode("view",{class:"popup-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"popup-item",key:t.id,onClick:e=>function(e){l.competitionId=e.id,s.value=e.name,g()}(t)},[e.createElementVNode("text",{class:"popup-item-text"},e.toDisplayString(t.name),1),l.competitionId===t.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"popup-item-check"},[e.createVNode(B,{name:"check",size:"16",color:"#3B82F6"})])):e.createCommentVNode("",!0)],8,["onClick"])))),128))])])])),_:1},512),e.createVNode(I,{ref_key:"activityPopup",ref:m,type:"bottom"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup-content"},[e.createElementVNode("view",{class:"popup-header"},[e.createElementVNode("text",{class:"popup-title"},"选择活动"),e.createElementVNode("view",{class:"popup-close",onClick:f},[e.createVNode(B,{name:"close",size:"18"})])]),e.createElementVNode("view",{class:"popup-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"popup-item",key:t.id,onClick:e=>function(e){l.activityId=e.id,d.value=e.name,f()}(t)},[e.createElementVNode("text",{class:"popup-item-text"},e.toDisplayString(t.name),1),l.activityId===t.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"popup-item-check"},[e.createVNode(B,{name:"check",size:"16",color:"#3B82F6"})])):e.createCommentVNode("",!0)],8,["onClick"])))),128))])])])),_:1},512)]))}},Wt={__name:"mycompetitions",setup(a){const l=e.ref(null),n=e.computed((()=>l.value&&l.value.headerHeight?l.value.headerHeight+"rpx":"120rpx")),i=e.ref(!0),o=e.ref("all"),s=e.ref([{id:1,title:"2023年全国大学生计算机设计大赛",status:"ongoing",stage:"省赛",description:"全国大学生计算机设计大赛是由教育部高等学校计算机类专业教学指导委员会、教育部高等学校软件工程专业教学指导委员会、教育部高等学校大学计算机课程教学指导委员会主办的全国性赛事。",startDate:"2023-04-15",endDate:"2023-06-30",organizerName:"教育部",category:"人工智能",tags:["科技创新","AI应用"],teamSize:3,teamId:5,teamName:"创梦之星"},{id:2,title:"2022互联网+大学生创新创业大赛",status:"finished",stage:"校赛",description:'中国"互联网+"大学生创新创业大赛，是由教育部与政府有关部门、有关行业协会和企业共同举办的全国性创新创业赛事。',startDate:"2022-03-10",endDate:"2022-05-20",organizerName:"教育部",category:"创新创业",tags:["商业计划","创业"],teamSize:5,teamId:2,teamName:"星火创业"}]),c=e.ref(!1),r=e.ref(["全部"]),d=e.ref(["全部"]),m=e.ref(["全部"]),u=e.ref("all"),p=e.ref(!1),h=e.ref({}),g=e.ref(!1),v=e.ref({}),f=e.computed((()=>s.value&&0!==s.value.length?s.value.filter((e=>"ongoing"===e.status||"registering"===e.status)):[])),w=e.computed((()=>s.value&&0!==s.value.length?s.value.filter((e=>"upcoming"===e.status)):[])),y=e.computed((()=>s.value&&0!==s.value.length?s.value.filter((e=>"finished"===e.status||"completed"===e.status)):[]));function k(e){o.value=e}const V=e=>s&&s.value&&0!==s.value.length?s.value.filter((t=>"ongoing"===e?"registering"===t.status||"ongoing"===t.status:"finished"===e&&"finished"===t.status)).length:0;function N(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function E(e){return{"国家级":"level-national","省级":"level-province","市级":"level-city","校级":"level-school"}[e]||""}function x(e){if(!e)return"result-none";return{"一等奖":"result-first","金奖":"result-first","二等奖":"result-second","银奖":"result-second","三等奖":"result-third","铜奖":"result-third","优秀奖":"result-honorable","优胜奖":"result-honorable"}[e]||"result-other"}function b(e){if(!e)return 0;const t=new Date(e),a=new Date;t.setHours(23,59,59,999),a.setHours(0,0,0,0);const l=t-a,n=Math.ceil(l/864e5);return n>0?n:0}function C(e){if(!e)return{days:0,hours:0,minutes:0};let t=new Date(e)-new Date;if(t<=0)return{days:0,hours:0,minutes:0};const a=Math.floor(t/864e5);t-=864e5*a;const l=Math.floor(t/36e5);t-=36e5*l;const n=Math.floor(t/6e4);return{days:String(a).padStart(2,"0"),hours:String(l).padStart(2,"0"),minutes:String(n).padStart(2,"0")}}function T(){c.value=!0}function S(){c.value=!1}function D(e){"全部"!==e?(r.value.includes("全部")&&(r.value=r.value.filter((e=>"全部"!==e))),r.value.includes(e)?(r.value=r.value.filter((t=>t!==e)),0===r.value.length&&(r.value=["全部"])):r.value.push(e)):r.value=["全部"]}function M(e){"全部"!==e?(d.value.includes("全部")&&(d.value=d.value.filter((e=>"全部"!==e))),d.value.includes(e)?(d.value=d.value.filter((t=>t!==e)),0===d.value.length&&(d.value=["全部"])):d.value.push(e)):d.value=["全部"]}function z(e){"全部"!==e?(m.value.includes("全部")&&(m.value=m.value.filter((e=>"全部"!==e))),m.value.includes(e)?(m.value=m.value.filter((t=>t!==e)),0===m.value.length&&(m.value=["全部"])):m.value.push(e)):m.value=["全部"]}function _(e){u.value=e}function A(){S()}function I(){r.value=["全部"],d.value=["全部"],m.value=["全部"],u.value="all"}function j(e){uni.navigateTo({url:`/pages/competition/detail?id=${e}`})}function L(e){uni.navigateTo({url:`/pages/team/detail?id=${e}`})}function R(){uni.navigateTo({url:"/pages/competition/list"})}function U(){p.value=!1}function H(){uni.showToast({title:"分享到微信",icon:"none"}),U()}function P(){uni.showToast({title:"分享到朋友圈",icon:"none"}),U()}function $(){uni.showToast({title:"分享到QQ",icon:"none"}),U()}function q(){uni.showToast({title:"图片保存中...",icon:"none"}),setTimeout((()=>{uni.showToast({title:"图片已保存到相册",icon:"success"})}),1500),U()}function O(){g.value=!1}function W(){uni.showLoading({title:"处理中..."}),setTimeout((()=>{s.value=s.value.filter((e=>e.id!==v.value.id)),uni.hideLoading(),uni.showToast({title:"已取消报名",icon:"success"}),O()}),1500)}return e.onMounted((()=>{!function(){i.value=!0;try{setTimeout((()=>{s.value=[{id:1,name:"第16届全国大学生程序设计竞赛",imageUrl:"/static/image/competition/comp1.jpg",level:"国家级",type:"编程开发",status:"ongoing",startDate:"2024-07-15",endDate:"2024-08-30",currentStage:"初赛阶段",stageEndDate:"2024-07-30",stageDescription:"线上初赛，提交算法解题",progress:45,teamId:1,teamName:"代码先锋队",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:2,name:"李四",avatar:"/static/image/avatar/user2.jpg"},{id:3,name:"王五",avatar:"/static/image/avatar/user3.jpg"}]},{id:2,name:"2024年互联网+创新创业大赛",imageUrl:"/static/image/competition/comp2.jpg",level:"省级",type:"商业创新",status:"ongoing",startDate:"2024-06-01",endDate:"2024-09-15",currentStage:"项目开发阶段",stageEndDate:"2024-08-15",stageDescription:"完成项目原型开发和商业计划书",progress:60,teamId:2,teamName:"创新先锋队",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:4,name:"赵六",avatar:"/static/image/avatar/user4.jpg"},{id:5,name:"孙七",avatar:"/static/image/avatar/user5.jpg"},{id:6,name:"周八",avatar:"/static/image/avatar/user6.jpg"}]},{id:3,name:"第5届人工智能应用创新大赛",imageUrl:"/static/image/competition/comp3.jpg",level:"国家级",type:"科研学术",status:"upcoming",startDate:"2024-08-15",endDate:"2024-10-30",teamId:3,teamName:"AI创新团队",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:7,name:"吴九",avatar:"/static/image/avatar/user7.jpg"},{id:8,name:"郑十",avatar:"/static/image/avatar/user8.jpg"}]},{id:4,name:"校园创意设计大赛",imageUrl:"/static/image/competition/comp5.jpg",level:"校级",type:"设计创意",status:"completed",startDate:"2024-03-01",endDate:"2024-04-30",result:"一等奖",hasCertificate:!0,teamId:4,teamName:"创意工坊",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:9,name:"陈十一",avatar:"/static/image/avatar/user9.jpg"}]},{id:5,name:"全国大学生电子设计竞赛",imageUrl:"/static/image/competition/comp4.jpg",level:"国家级",type:"科研学术",status:"completed",startDate:"2023-09-01",endDate:"2023-11-30",result:"二等奖",hasCertificate:!0,teamId:5,teamName:"电子创客",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:2,name:"李四",avatar:"/static/image/avatar/user2.jpg"},{id:10,name:"林十二",avatar:"/static/image/avatar/user10.jpg"}]},{id:6,name:"市级大学生创新创业挑战赛",imageUrl:"/static/image/competition/comp6.jpg",level:"市级",type:"商业创新",status:"completed",startDate:"2023-06-15",endDate:"2023-08-30",result:"优秀奖",hasCertificate:!0,teamId:6,teamName:"创业梦工厂",teamMembers:[{id:1,name:"张三",avatar:"/static/image/avatar/user1.jpg"},{id:4,name:"赵六",avatar:"/static/image/avatar/user4.jpg"},{id:11,name:"黄十三",avatar:"/static/image/avatar/user11.jpg"},{id:12,name:"秦十四",avatar:"/static/image/avatar/user12.jpg"}]}],i.value=!1}),800)}catch(e){t("error","at pages/mycompetitions/mycompetitions.vue:861","获取我的竞赛列表失败:",e),uni.showToast({title:"获取竞赛列表失败",icon:"none"}),i.value=!1}}()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{ref_key:"headerBarRef",ref:l,title:"我的竞赛",showSearch:!1,showFilter:!1},{actions:e.withCtx((()=>[e.createElementVNode("view",{class:"action-btn",onClick:T},[e.createVNode(B,{name:"filter",size:"24"})])])),_:1},512),e.createElementVNode("view",{class:"header-placeholder",style:e.normalizeStyle({height:n.value})},null,4),e.createElementVNode("scroll-view",{"scroll-x":"",class:"status-tabs"},[e.createElementVNode("view",{class:"tabs-container"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"all"===o.value}]),onClick:a[0]||(a[0]=e=>k("all"))},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"ongoing"===o.value}]),onClick:a[1]||(a[1]=e=>k("ongoing"))},[e.createElementVNode("text",null,"进行中"),s.value&&s.value.value&&s.value.value.length>0&&V("ongoing")>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge"},[e.createElementVNode("text",null,e.toDisplayString(V("ongoing")),1)])):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"upcoming"===o.value}]),onClick:a[2]||(a[2]=e=>k("upcoming"))},[e.createElementVNode("text",null,"即将开始")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"completed"===o.value}]),onClick:a[3]||(a[3]=e=>k("completed"))},[e.createElementVNode("text",null,"已结束"),s.value&&s.value.value&&s.value.value.length>0&&V("finished")>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"badge"},[e.createElementVNode("text",null,e.toDisplayString(V("finished")),1)])):e.createCommentVNode("",!0)],2)])]),i.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll"},["all"===o.value||"ongoing"===o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"competition-section"},["all"===o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"进行中的竞赛"),e.createElementVNode("text",{class:"section-count"},e.toDisplayString(f.value?f.value.length:0)+"个",1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"competition-card",key:a,onClick:e=>j(t.id)},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("image",{class:"competition-image",src:t.imageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("text",{class:"competition-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"competition-badges"},[e.createElementVNode("view",{class:e.normalizeClass(["level-badge",E(t.level)])},[e.createElementVNode("text",null,e.toDisplayString(t.level),1)],2),e.createElementVNode("view",{class:"status-badge status-ongoing"},[e.createElementVNode("text",null,"进行中")])]),e.createElementVNode("view",{class:"competition-date"},[e.createVNode(B,{name:"calendar",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(N(t.startDate))+" - "+e.toDisplayString(N(t.endDate)),1)])])]),e.createElementVNode("view",{class:"card-body"},[e.createElementVNode("view",{class:"progress-info"},[e.createElementVNode("view",{class:"progress-header"},[e.createElementVNode("text",{class:"current-stage"},"当前阶段: "+e.toDisplayString(t.currentStage),1),e.createElementVNode("text",{class:"days-left"},"剩余"+e.toDisplayString(b(t.stageEndDate))+"天",1)]),e.createElementVNode("view",{class:"progress-bar"},[e.createElementVNode("view",{class:"progress-fill",style:e.normalizeStyle({width:t.progress+"%"})},null,4)]),e.createElementVNode("view",{class:"stage-info"},[e.createElementVNode("text",{class:"stage-text"},e.toDisplayString(t.stageDescription),1)])]),t.teamName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-info"},[e.createElementVNode("view",{class:"team-header"},[e.createElementVNode("text",{class:"team-label"},"参赛团队"),e.createElementVNode("text",{class:"team-name"},e.toDisplayString(t.teamName),1)]),e.createElementVNode("view",{class:"team-members"},[e.createElementVNode("view",{class:"member-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.teamMembers.slice(0,3),((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"member-avatar",key:a,src:t.avatar},null,8,["src"])))),128)),t.teamMembers.length>3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-members"},[e.createElementVNode("text",null,"+"+e.toDisplayString(t.teamMembers.length-3),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"member-count"},e.toDisplayString(t.teamMembers.length)+"人团队",1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn primary",onClick:e.withModifiers((e=>{return a=t.id,void uni.navigateTo({url:`/pages/competition/submission?id=${a}`});var a}),["stop"])},[e.createVNode(B,{name:"upload",size:"16"}),e.createElementVNode("text",null,"提交作品")],8,["onClick"]),e.createElementVNode("view",{class:"action-btn secondary",onClick:e.withModifiers((e=>L(t.teamId)),["stop"])},[e.createVNode(B,{name:"users",size:"16"}),e.createElementVNode("text",null,"团队管理")],8,["onClick"])])])],8,["onClick"])))),128)),f.value&&0===f.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/image/empty-ongoing.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无进行中的竞赛"),e.createElementVNode("view",{class:"action-btn primary",onClick:R},[e.createElementVNode("text",null,"去浏览竞赛")])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),"all"===o.value||"upcoming"===o.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"competition-section"},["all"===o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"即将开始的竞赛"),e.createElementVNode("text",{class:"section-count"},e.toDisplayString(w.value?w.value.length:0)+"个",1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"competition-card",key:a,onClick:e=>j(t.id)},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("image",{class:"competition-image",src:t.imageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("text",{class:"competition-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"competition-badges"},[e.createElementVNode("view",{class:e.normalizeClass(["level-badge",E(t.level)])},[e.createElementVNode("text",null,e.toDisplayString(t.level),1)],2),e.createElementVNode("view",{class:"status-badge status-upcoming"},[e.createElementVNode("text",null,"即将开始")])]),e.createElementVNode("view",{class:"competition-date"},[e.createVNode(B,{name:"calendar",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(N(t.startDate))+" - "+e.toDisplayString(N(t.endDate)),1)])])]),e.createElementVNode("view",{class:"card-body"},[e.createElementVNode("view",{class:"countdown-info"},[e.createElementVNode("text",{class:"countdown-label"},"距离开始还有"),e.createElementVNode("view",{class:"countdown-timer"},[e.createElementVNode("view",{class:"time-unit"},[e.createElementVNode("text",{class:"time-value"},e.toDisplayString(C(t.startDate).days),1),e.createElementVNode("text",{class:"time-label"},"天")]),e.createElementVNode("view",{class:"time-separator"},":"),e.createElementVNode("view",{class:"time-unit"},[e.createElementVNode("text",{class:"time-value"},e.toDisplayString(C(t.startDate).hours),1),e.createElementVNode("text",{class:"time-label"},"时")]),e.createElementVNode("view",{class:"time-separator"},":"),e.createElementVNode("view",{class:"time-unit"},[e.createElementVNode("text",{class:"time-value"},e.toDisplayString(C(t.startDate).minutes),1),e.createElementVNode("text",{class:"time-label"},"分")])])]),t.teamName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-info"},[e.createElementVNode("view",{class:"team-header"},[e.createElementVNode("text",{class:"team-label"},"参赛团队"),e.createElementVNode("text",{class:"team-name"},e.toDisplayString(t.teamName),1)]),e.createElementVNode("view",{class:"team-members"},[e.createElementVNode("view",{class:"member-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.teamMembers.slice(0,3),((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"member-avatar",key:a,src:t.avatar},null,8,["src"])))),128)),t.teamMembers.length>3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-members"},[e.createElementVNode("text",null,"+"+e.toDisplayString(t.teamMembers.length-3),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"member-count"},e.toDisplayString(t.teamMembers.length)+"人团队",1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn primary",onClick:e.withModifiers((e=>L(t.teamId)),["stop"])},[e.createVNode(B,{name:"users",size:"16"}),e.createElementVNode("text",null,"团队管理")],8,["onClick"]),e.createElementVNode("view",{class:"action-btn secondary",onClick:e.withModifiers((e=>function(e){const t=s.value.find((t=>t.id===e));t&&(v.value=t,g.value=!0)}(t.id)),["stop"])},[e.createVNode(B,{name:"x",size:"16"}),e.createElementVNode("text",null,"取消报名")],8,["onClick"])])])],8,["onClick"])))),128)),w.value&&0===w.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/image/empty-upcoming.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无即将开始的竞赛"),e.createElementVNode("view",{class:"action-btn primary",onClick:R},[e.createElementVNode("text",null,"去浏览竞赛")])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),"all"===o.value||"completed"===o.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"competition-section"},["all"===o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"已结束的竞赛"),e.createElementVNode("text",{class:"section-count"},e.toDisplayString(y.value?y.value.length:0)+"个",1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"competition-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"competition-card",key:a,onClick:e=>j(t.id)},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("image",{class:"competition-image",src:t.imageUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"competition-info"},[e.createElementVNode("text",{class:"competition-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"competition-badges"},[e.createElementVNode("view",{class:e.normalizeClass(["level-badge",E(t.level)])},[e.createElementVNode("text",null,e.toDisplayString(t.level),1)],2),e.createElementVNode("view",{class:"status-badge status-completed"},[e.createElementVNode("text",null,"已结束")])]),e.createElementVNode("view",{class:"competition-date"},[e.createVNode(B,{name:"calendar",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(N(t.startDate))+" - "+e.toDisplayString(N(t.endDate)),1)])])]),e.createElementVNode("view",{class:"card-body"},[e.createElementVNode("view",{class:"result-info"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-label"},"竞赛成绩"),e.createElementVNode("view",{class:e.normalizeClass(["result-badge",x(t.result)])},[e.createElementVNode("text",null,e.toDisplayString(t.result||"未获奖"),1)],2)]),t.hasCertificate?(e.openBlock(),e.createElementBlock("view",{key:0,class:"certificate-info"},[e.createVNode(B,{name:"award",size:"16"}),e.createElementVNode("text",null,"已获得证书"),e.createElementVNode("view",{class:"view-certificate",onClick:e.withModifiers((e=>{return a=t.id,void uni.navigateTo({url:`/pages/certificate/detail?id=${a}`});var a}),["stop"])},[e.createElementVNode("text",null,"查看"),e.createVNode(B,{name:"chevron-right",size:"14"})],8,["onClick"])])):e.createCommentVNode("",!0)]),t.teamName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-info"},[e.createElementVNode("view",{class:"team-header"},[e.createElementVNode("text",{class:"team-label"},"参赛团队"),e.createElementVNode("text",{class:"team-name"},e.toDisplayString(t.teamName),1)]),e.createElementVNode("view",{class:"team-members"},[e.createElementVNode("view",{class:"member-avatars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.teamMembers.slice(0,3),((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"member-avatar",key:a,src:t.avatar},null,8,["src"])))),128)),t.teamMembers.length>3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-members"},[e.createElementVNode("text",null,"+"+e.toDisplayString(t.teamMembers.length-3),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"member-count"},e.toDisplayString(t.teamMembers.length)+"人团队",1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn primary",onClick:e.withModifiers((e=>{return a=t.id,void uni.navigateTo({url:`/pages/competition/work?id=${a}`});var a}),["stop"])},[e.createVNode(B,{name:"eye",size:"16"}),e.createElementVNode("text",null,"查看作品")],8,["onClick"]),e.createElementVNode("view",{class:"action-btn secondary",onClick:e.withModifiers((e=>function(e){h.value=e,p.value=!0}(t)),["stop"])},[e.createVNode(B,{name:"share",size:"16"}),e.createElementVNode("text",null,"分享成绩")],8,["onClick"])])])],8,["onClick"])))),128)),y.value&&0===y.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/image/empty-completed.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},"暂无已结束的竞赛"),e.createElementVNode("view",{class:"action-btn primary",onClick:R},[e.createElementVNode("text",null,"去浏览竞赛")])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])),c.value?(e.openBlock(),e.createElementBlock("view",{key:2,class:"filter-modal",onClick:S},[e.createElementVNode("view",{class:"filter-content",onClick:a[24]||(a[24]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"filter-header"},[e.createElementVNode("text",{class:"filter-title"},"筛选条件"),e.createElementVNode("view",{class:"close-btn",onClick:S},[e.createVNode(B,{name:"x",size:"20"})])]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"filter-options-scroll"},[e.createElementVNode("view",{class:"filter-section"},[e.createElementVNode("text",{class:"filter-section-title"},"竞赛级别"),e.createElementVNode("view",{class:"filter-options"},[e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:r.value.includes("全部")}]),onClick:a[4]||(a[4]=e=>D("全部"))},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:r.value.includes("国家级")}]),onClick:a[5]||(a[5]=e=>D("国家级"))},[e.createElementVNode("text",null,"国家级")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:r.value.includes("省级")}]),onClick:a[6]||(a[6]=e=>D("省级"))},[e.createElementVNode("text",null,"省级")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:r.value.includes("市级")}]),onClick:a[7]||(a[7]=e=>D("市级"))},[e.createElementVNode("text",null,"市级")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:r.value.includes("校级")}]),onClick:a[8]||(a[8]=e=>D("校级"))},[e.createElementVNode("text",null,"校级")],2)])]),e.createElementVNode("view",{class:"filter-section"},[e.createElementVNode("text",{class:"filter-section-title"},"竞赛类型"),e.createElementVNode("view",{class:"filter-options"},[e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:d.value.includes("全部")}]),onClick:a[9]||(a[9]=e=>M("全部"))},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:d.value.includes("编程开发")}]),onClick:a[10]||(a[10]=e=>M("编程开发"))},[e.createElementVNode("text",null,"编程开发")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:d.value.includes("设计创意")}]),onClick:a[11]||(a[11]=e=>M("设计创意"))},[e.createElementVNode("text",null,"设计创意")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:d.value.includes("商业创新")}]),onClick:a[12]||(a[12]=e=>M("商业创新"))},[e.createElementVNode("text",null,"商业创新")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:d.value.includes("科研学术")}]),onClick:a[13]||(a[13]=e=>M("科研学术"))},[e.createElementVNode("text",null,"科研学术")],2)])]),e.createElementVNode("view",{class:"filter-section"},[e.createElementVNode("text",{class:"filter-section-title"},"参赛结果"),e.createElementVNode("view",{class:"filter-options"},[e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("全部")}]),onClick:a[14]||(a[14]=e=>z("全部"))},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("一等奖")}]),onClick:a[15]||(a[15]=e=>z("一等奖"))},[e.createElementVNode("text",null,"一等奖")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("二等奖")}]),onClick:a[16]||(a[16]=e=>z("二等奖"))},[e.createElementVNode("text",null,"二等奖")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("三等奖")}]),onClick:a[17]||(a[17]=e=>z("三等奖"))},[e.createElementVNode("text",null,"三等奖")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("优秀奖")}]),onClick:a[18]||(a[18]=e=>z("优秀奖"))},[e.createElementVNode("text",null,"优秀奖")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:m.value.includes("未获奖")}]),onClick:a[19]||(a[19]=e=>z("未获奖"))},[e.createElementVNode("text",null,"未获奖")],2)])]),e.createElementVNode("view",{class:"filter-section"},[e.createElementVNode("text",{class:"filter-section-title"},"时间范围"),e.createElementVNode("view",{class:"filter-options"},[e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:"all"===u.value}]),onClick:a[20]||(a[20]=e=>_("all"))},[e.createElementVNode("text",null,"全部时间")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:"month3"===u.value}]),onClick:a[21]||(a[21]=e=>_("month3"))},[e.createElementVNode("text",null,"近3个月")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:"month6"===u.value}]),onClick:a[22]||(a[22]=e=>_("month6"))},[e.createElementVNode("text",null,"近6个月")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-option",{selected:"year1"===u.value}]),onClick:a[23]||(a[23]=e=>_("year1"))},[e.createElementVNode("text",null,"近1年")],2)])])]),e.createElementVNode("view",{class:"filter-actions"},[e.createElementVNode("view",{class:"reset-filter-btn",onClick:I},[e.createElementVNode("text",null,"重置")]),e.createElementVNode("view",{class:"apply-filter-btn",onClick:A},[e.createElementVNode("text",null,"应用筛选")])])])])):e.createCommentVNode("",!0),p.value?(e.openBlock(),e.createElementBlock("view",{key:3,class:"share-modal",onClick:U},[e.createElementVNode("view",{class:"share-content",onClick:a[25]||(a[25]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"share-header"},[e.createElementVNode("text",{class:"share-title"},"分享竞赛成绩"),e.createElementVNode("view",{class:"close-btn",onClick:U},[e.createVNode(B,{name:"x",size:"20"})])]),e.createElementVNode("view",{class:"share-preview"},[e.createElementVNode("view",{class:"share-card"},[e.createElementVNode("view",{class:"share-card-header"},[e.createElementVNode("image",{class:"share-logo",src:"/static/image/logo.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"share-platform"},"竞赛平台")]),e.createElementVNode("view",{class:"share-card-body"},[e.createElementVNode("text",{class:"share-competition-name"},e.toDisplayString(h.value.name),1),e.createElementVNode("view",{class:"share-result"},[e.createElementVNode("text",{class:"share-result-label"},"获得"),e.createElementVNode("text",{class:"share-result-value"},e.toDisplayString(h.value.result||"参与奖"),1)]),e.createElementVNode("view",{class:"share-team"},[e.createElementVNode("text",{class:"share-team-label"},"团队:"),e.createElementVNode("text",{class:"share-team-value"},e.toDisplayString(h.value.teamName),1)]),e.createElementVNode("view",{class:"share-date"},[e.createElementVNode("text",null,e.toDisplayString(N(h.value.endDate)),1)])]),e.createElementVNode("view",{class:"share-card-footer"},[e.createElementVNode("image",{class:"share-qrcode",src:"/static/image/qrcode.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"share-scan-text"},"扫码查看详情")])])]),e.createElementVNode("view",{class:"share-options"},[e.createElementVNode("view",{class:"share-option",onClick:H},[e.createElementVNode("view",{class:"share-icon wechat"},[e.createVNode(B,{name:"wechat",size:"32"})]),e.createElementVNode("text",null,"微信")]),e.createElementVNode("view",{class:"share-option",onClick:P},[e.createElementVNode("view",{class:"share-icon moments"},[e.createVNode(B,{name:"moments",size:"32"})]),e.createElementVNode("text",null,"朋友圈")]),e.createElementVNode("view",{class:"share-option",onClick:$},[e.createElementVNode("view",{class:"share-icon qq"},[e.createVNode(B,{name:"qq",size:"32"})]),e.createElementVNode("text",null,"QQ")]),e.createElementVNode("view",{class:"share-option",onClick:q},[e.createElementVNode("view",{class:"share-icon save"},[e.createVNode(B,{name:"download",size:"32"})]),e.createElementVNode("text",null,"保存图片")])]),e.createElementVNode("view",{class:"share-cancel",onClick:U},[e.createElementVNode("text",null,"取消")])])])):e.createCommentVNode("",!0),g.value?(e.openBlock(),e.createElementBlock("view",{key:4,class:"confirm-modal",onClick:O},[e.createElementVNode("view",{class:"confirm-content",onClick:a[26]||(a[26]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"confirm-header"},[e.createElementVNode("text",{class:"confirm-title"},"取消报名")]),e.createElementVNode("view",{class:"confirm-body"},[e.createElementVNode("text",{class:"confirm-message"},'确定要取消参加"'+e.toDisplayString(v.value.name)+'"吗？取消后将无法恢复。',1)]),e.createElementVNode("view",{class:"confirm-actions"},[e.createElementVNode("view",{class:"confirm-btn cancel",onClick:O},[e.createElementVNode("text",null,"再想想")]),e.createElementVNode("view",{class:"confirm-btn confirm",onClick:W},[e.createElementVNode("text",null,"确定取消")])])])])):e.createCommentVNode("",!0)]))}},Gt={__name:"myTeam",setup(a){const l=e.ref(!0),n=e.ref(!1),i=e.ref("all"),o=e.ref(""),s=e.ref([]),c=e.ref(!1),r=e.ref({}),d=e.ref(!1),m=e.ref({}),u=e.computed((()=>{if(!s.value)return[];let e=s.value;if("leader"===i.value?e=e.filter((e=>"leader"===e.roleType)):"member"===i.value&&(e=e.filter((e=>"leader"!==e.roleType))),o.value){const t=o.value.toLowerCase();e=e.filter((e=>{var a;return e.name.toLowerCase().includes(t)||(null==(a=e.description)?void 0:a.toLowerCase().includes(t))}))}return e}));async function p(){try{l.value=!0,setTimeout((()=>{s.value=[{id:1,name:"代码先锋队",leaderAvatarUrl:"/static/image/avatar/user1.jpg",description:"专注于算法竞赛和程序设计，追求技术卓越",competitionId:1,competitionName:"第16届全国大学生程序设计竞赛",leaderId:1,leaderName:"张三",roleType:"leader",roleName:"队长",roleId:1,direction:"编程开发",status:"0",statusText:"招募中",recruitmentDeadline:"2024-08-10T23:59:59",publishDate:"2024-01-15T10:00:00",memberCount:3,teamRoles:[{id:1,name:"算法工程师",requiredCount:3,currentCount:2,progress:66,description:"负责核心算法开发"},{id:2,name:"前端开发",requiredCount:2,currentCount:1,progress:50,description:"负责用户界面实现"}]},{id:2,name:"创新先锋队",leaderAvatarUrl:"/static/image/avatar/user4.jpg",description:"致力于创新创业项目，结合商业模式与技术实现",competitionId:2,competitionName:"2024年互联网+创新创业大赛",leaderId:4,leaderName:"赵六",roleType:"member",roleName:"后端开发",roleId:5,direction:"商业创新",status:"1",statusText:"已满员",recruitmentDeadline:"2024-06-15T23:59:59",publishDate:"2024-02-20T14:30:00",memberCount:4,teamRoles:[{id:3,name:"产品经理",requiredCount:1,currentCount:1,progress:100,description:"负责产品规划与设计"},{id:4,name:"UI设计师",requiredCount:1,currentCount:1,progress:100,description:"负责界面视觉设计"},{id:5,name:"后端开发",requiredCount:2,currentCount:2,progress:100,description:"负责服务端开发"}]},{id:3,name:"AI创新团队",leaderAvatarUrl:"/static/image/avatar/user1.jpg",description:"专注于人工智能技术研究与应用创新",competitionId:3,competitionName:"第5届人工智能应用创新大赛",leaderId:1,leaderName:"张三",roleType:"leader",roleName:"队长",roleId:6,direction:"人工智能",status:"0",statusText:"招募中",recruitmentDeadline:"2024-07-30T23:59:59",publishDate:"2024-03-10T09:15:00",memberCount:3,teamRoles:[{id:6,name:"算法工程师",requiredCount:2,currentCount:1,progress:50,description:"负责AI算法设计与实现"},{id:7,name:"数据分析师",requiredCount:2,currentCount:1,progress:50,description:"负责数据清洗与分析"},{id:8,name:"前端开发",requiredCount:1,currentCount:1,progress:100,description:"负责用户界面开发"}]}],l.value=!1,n.value=!1}),800)}catch(e){t("error","at pages/myTeam/myTeam.vue:462","获取我的团队列表失败:",e),uni.showToast({title:"获取团队列表失败",icon:"none"}),l.value=!1,n.value=!1}}function h(){n.value=!0,p()}function g(e){i.value=e}function v(){}function f(){o.value=""}function w(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function y(e){uni.navigateTo({url:`/pages/team/detail?id=${e}`})}function k(){uni.navigateTo({url:"/pages/team/create"})}function V(){c.value=!1}function N(){uni.showLoading({title:"处理中..."}),setTimeout((()=>{const e=s.value.findIndex((e=>e.id===r.value.id));-1!==e&&(s.value[e].status="2",s.value[e].statusText="已解散"),uni.hideLoading(),uni.showToast({title:"团队已解散",icon:"success"}),V()}),1500)}function E(){d.value=!1}function x(){uni.showLoading({title:"处理中..."}),setTimeout((()=>{s.value=s.value.filter((e=>e.id!==m.value.id)),uni.hideLoading(),uni.showToast({title:"已退出团队",icon:"success"}),E()}),1500)}return e.onMounted((()=>{p()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createVNode(F,{title:"我的团队",showSearch:!1,showFilter:!1},{actions:e.withCtx((()=>[e.createElementVNode("view",{class:"action-btn",onClick:k},[e.createVNode(B,{name:"plus",size:"24"})])])),_:1}),e.createElementVNode("view",{class:"content-container"},[l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-circle"}),e.createElementVNode("text",{class:"loading-text"},"加载中...")])):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,"scroll-y":"",class:"content-scroll","refresher-enabled":"","refresher-triggered":n.value,onRefresherrefresh:h},[e.createElementVNode("scroll-view",{"scroll-x":"",class:"status-tabs"},[e.createElementVNode("view",{class:"tabs-container"},[e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"all"===i.value}]),onClick:a[0]||(a[0]=e=>g("all"))},[e.createElementVNode("text",null,"全部")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"leader"===i.value}]),onClick:a[1]||(a[1]=e=>g("leader"))},[e.createElementVNode("text",null,"我创建的")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab-item",{active:"member"===i.value}]),onClick:a[2]||(a[2]=e=>g("member"))},[e.createElementVNode("text",null,"我参与的")],2)])]),e.createElementVNode("view",{class:"search-container"},[e.createElementVNode("view",{class:"search-box"},[e.createVNode(B,{name:"search",size:"16",class:"search-icon"}),e.withDirectives(e.createElementVNode("input",{type:"text",class:"search-input",placeholder:"搜索团队名称","onUpdate:modelValue":a[3]||(a[3]=e=>o.value=e),onInput:v},null,544),[[e.vModelText,o.value]]),o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"clear-btn",onClick:f},[e.createVNode(B,{name:"x",size:"16"})])):e.createCommentVNode("",!0)])]),u.value&&u.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"team-card",key:a,onClick:e=>y(t.id)},[e.createElementVNode("view",{class:"team-header"},[e.createElementVNode("view",{class:"team-title-row"},[e.createElementVNode("text",{class:"team-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:e.normalizeClass(["team-status",(l=t.status,{active:"status-active",recruiting:"status-recruiting",competing:"status-competing",dismissed:"status-dismissed",0:"status-recruiting",1:"status-active",2:"status-dismissed",3:"status-competing"}[l]||"")])},[e.createElementVNode("text",null,e.toDisplayString(t.statusText),1)],2)]),e.createElementVNode("view",{class:"team-info-row"},[e.createElementVNode("view",{class:e.normalizeClass(["team-role",{leader:"leader"===t.roleType}])},[e.createElementVNode("text",null,e.toDisplayString("leader"===t.roleType?"队长":"队员"),1)],2),e.createElementVNode("view",{class:"team-members"},[e.createVNode(B,{name:"users",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(t.memberCount)+"人",1)]),e.createElementVNode("view",{class:"team-created"},[e.createVNode(B,{name:"calendar",size:"14"}),e.createElementVNode("text",null,e.toDisplayString(w(t.publishDate))+"创建",1)])]),t.roleName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"my-role"},[e.createVNode(B,{name:"user-check",size:"14"}),e.createElementVNode("text",null,"我的角色: "+e.toDisplayString(t.roleName),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"team-body"},[t.description?(e.openBlock(),e.createElementBlock("view",{key:0,class:"team-description"},[e.createElementVNode("text",null,e.toDisplayString(t.description),1)])):e.createCommentVNode("",!0),t.competitionId?(e.openBlock(),e.createElementBlock("view",{key:1,class:"team-competitions"},[e.createElementVNode("view",{class:"competitions-label"},[e.createElementVNode("text",null,"参与竞赛"),e.createElementVNode("text",{class:"competitions-count"},"(1)")]),e.createElementVNode("view",{class:"competitions-list"},[e.createElementVNode("view",{class:"competition-item"},[e.createElementVNode("view",{class:"competition-status"}),e.createElementVNode("text",{class:"competition-name"},e.toDisplayString(t.competitionName),1)])])])):e.createCommentVNode("",!0),t.teamRoles&&t.teamRoles.length>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"team-members-preview"},[e.createElementVNode("view",{class:"members-label"},[e.createElementVNode("text",null,"招募岗位"),e.createElementVNode("text",{class:"members-count"},"("+e.toDisplayString(t.teamRoles.length)+")",1)]),e.createElementVNode("view",{class:"members-roles"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.teamRoles,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"role-item",key:a},[e.createElementVNode("view",{class:"role-header"},[e.createElementVNode("text",{class:"role-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"role-progress"},e.toDisplayString(t.currentCount)+"/"+e.toDisplayString(t.requiredCount),1)]),e.createElementVNode("view",{class:"role-progress-bar"},[e.createElementVNode("view",{class:"role-progress-fill",style:e.normalizeStyle({width:t.progress+"%"})},null,4)])])))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"team-actions"},["leader"===t.roleType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action-btn primary",onClick:e.withModifiers((e=>{return a=t.id,void uni.navigateTo({url:`/pages/team/manage?id=${a}`});var a}),["stop"])},[e.createVNode(B,{name:"settings",size:"16"}),e.createElementVNode("text",null,"管理团队")],8,["onClick"])):"0"===t.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-btn primary",onClick:e.withModifiers((e=>y(t.id)),["stop"])},[e.createVNode(B,{name:"info",size:"16"}),e.createElementVNode("text",null,"查看详情")],8,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"action-btn primary",onClick:e.withModifiers((e=>y(t.id)),["stop"])},[e.createVNode(B,{name:"message-square",size:"16"}),e.createElementVNode("text",null,"团队交流")],8,["onClick"])),"leader"===t.roleType&&"2"!==t.status?(e.openBlock(),e.createElementBlock("view",{key:3,class:"action-btn secondary",onClick:e.withModifiers((e=>function(e){r.value=e,c.value=!0}(t)),["stop"])},[e.createVNode(B,{name:"trash-2",size:"16"}),e.createElementVNode("text",null,"解散团队")],8,["onClick"])):"leader"!==t.roleType&&"2"!==t.status?(e.openBlock(),e.createElementBlock("view",{key:4,class:"action-btn secondary",onClick:e.withModifiers((e=>function(e){m.value=e,d.value=!0}(t)),["stop"])},[e.createVNode(B,{name:"log-out",size:"16"}),e.createElementVNode("text",null,"退出团队")],8,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:5,class:"action-btn secondary",onClick:e.withModifiers((e=>{return a=t.id,void uni.showModal({title:"删除记录",content:"确定要删除该团队记录吗？",success:e=>{e.confirm&&(uni.showLoading({title:"删除中..."}),setTimeout((()=>{s.value=s.value.filter((e=>e.id!==a)),uni.hideLoading(),uni.showToast({title:"记录已删除",icon:"success"})}),1500))}});var a}),["stop"])},[e.createVNode(B,{name:"trash",size:"16"}),e.createElementVNode("text",null,"删除记录")],8,["onClick"]))])])],8,["onClick"]);var l})),128))])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty-state"},[e.createElementVNode("image",{class:"empty-image",src:"/static/image/empty-teams.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"empty-text"},e.toDisplayString(o.value?"没有找到匹配的团队":"leader"===i.value?"你还没有创建过团队":"member"===i.value?"你还没有加入任何团队":"你还没有参与任何团队"),1),e.createElementVNode("view",{class:"action-btn primary",onClick:k},[e.createElementVNode("text",null,"创建新团队")])])),u.value&&u.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"bottom-tip"},[e.createElementVNode("text",null,"没有更多团队了")])):e.createCommentVNode("",!0)],40,["refresher-triggered"]))]),c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"confirm-modal",onClick:V},[e.createElementVNode("view",{class:"confirm-content",onClick:a[4]||(a[4]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"confirm-header"},[e.createElementVNode("text",{class:"confirm-title"},"解散团队")]),e.createElementVNode("view",{class:"confirm-body"},[e.createElementVNode("text",{class:"confirm-message"},'确定要解散"'+e.toDisplayString(r.value.name)+'"团队吗？解散后所有队员将被移出，且无法恢复。',1)]),e.createElementVNode("view",{class:"confirm-actions"},[e.createElementVNode("view",{class:"confirm-btn cancel",onClick:V},[e.createElementVNode("text",null,"取消")]),e.createElementVNode("view",{class:"confirm-btn confirm",onClick:N},[e.createElementVNode("text",null,"确定解散")])])])])):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"confirm-modal",onClick:E},[e.createElementVNode("view",{class:"confirm-content",onClick:a[5]||(a[5]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"confirm-header"},[e.createElementVNode("text",{class:"confirm-title"},"退出团队")]),e.createElementVNode("view",{class:"confirm-body"},[e.createElementVNode("text",{class:"confirm-message"},'确定要退出"'+e.toDisplayString(m.value.name)+'"团队吗？退出后需要重新申请加入。',1)]),e.createElementVNode("view",{class:"confirm-actions"},[e.createElementVNode("view",{class:"confirm-btn cancel",onClick:E},[e.createElementVNode("text",null,"取消")]),e.createElementVNode("view",{class:"confirm-btn confirm",onClick:x},[e.createElementVNode("text",null,"确定退出")])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"float-action-btn",onClick:k},[e.createVNode(B,{name:"plus",size:"24",color:"#ffffff"})])]))}};__definePage("pages/login/login",D),__definePage("pages/index/index",q),__definePage("pages/project/project-showcase",O),__definePage("pages/project/detail",W),__definePage("pages/task-square/index",re),__definePage("pages/task-square/detail",de),__definePage("pages/task-square/create",Ke),__definePage("pages/team/detail",et),__definePage("pages/team/list",tt),__definePage("pages/team/create",at),__definePage("pages/team/recommended",lt),__definePage("pages/competition/index",nt),__definePage("pages/competition/create",it),__definePage("pages/competition/detail",ot),__definePage("pages/profile/index",st),__definePage("pages/profile/user-info",rt),__definePage("pages/profile/edit-basic-info",dt),__definePage("pages/profile/edit-bio",mt),__definePage("pages/profile/edit-skills",ut),__definePage("pages/profile/edit-awards",pt),__definePage("pages/Xiaoxi/Xiaoxi",Rt),__definePage("pages/application/application",Ft),__definePage("pages/websocket-test/index",Ut),__definePage("pages/schedule/index",Ht),__definePage("pages/project/create",Pt),__definePage("pages/profile/medal-detail",$t),__definePage("pages/profile/apply-badge",qt),__definePage("pages/profile/material-reward",Ot),__definePage("pages/mycompetitions/mycompetitions",Wt),__definePage("pages/myTeam/myTeam",Gt);const Yt={globalData:{unreadNotificationCount:0},onLaunch:function(){t("warn","at App.vue:10","当前组件仅支持 uni_modules 目录结构 ，请升级 HBuilderX 到 3.1.0 版本以上！"),t("log","at App.vue:11","App Launch");if(!uni.getStorageSync("token"))return t("log","at App.vue:16","用户未登录，跳转到登录页面"),void setTimeout((()=>{uni.reLaunch({url:"/pages/login/login"})}),300);this.initGlobalNotificationService(),t("log","at App.vue:28","App Launch");try{const a=108e5,l=uni.getStorageSync("ai_recommend_cache_time");if(l){const e=Date.now();e-Number(l)>a?(t("log","at App.vue:44","AI推荐缓存已过期，清除缓存数据。缓存时间:",new Date(Number(l)).toLocaleString()),uni.removeStorageSync("ai_recommend_cache_time"),uni.removeStorageSync("ai_recommended_teams"),uni.removeStorageSync("ai_summary"),t("log","at App.vue:48","已清除过期的AI推荐相关缓存")):t("log","at App.vue:50","AI推荐缓存未过期，保留缓存数据。缓存时间:",new Date(Number(l)).toLocaleString())}else t("log","at App.vue:53","未找到AI推荐缓存时间记录");const n=uni.getStorageSync("userInteractionState");if(n)try{const e=JSON.parse(n);e.hasClickedAiRecommend=!1,uni.setStorageSync("userInteractionState",JSON.stringify(e)),t("log","at App.vue:63","已重置AI推荐点击状态")}catch(e){t("error","at App.vue:65","重置用户交互状态失败:",e)}}catch(e){t("error","at App.vue:69","处理AI推荐缓存失败:",e)}},onShow:function(){t("log","at App.vue:74","App Show")},onHide:function(){t("log","at App.vue:78","App Hide");try{uni.removeStorageSync("userInteractionState"),t("log","at App.vue:82","应用关闭/隐藏，已清除userInteractionState缓存")}catch(e){t("error","at App.vue:84","清除userInteractionState缓存失败:",e)}},methods:{initGlobalNotificationService(){Lt.initNotificationService((e=>{t("log","at App.vue:93","App收到新通知:",e),e.isRead||this.globalData.unreadNotificationCount++,uni.showToast({title:"收到新通知",icon:"none"}),this.updateMessageBadge(),uni.$emit("newNotification",e)}))},updateMessageBadge(){const e=this.globalData.unreadNotificationCount;try{e>0?uni.setTabBarBadge({index:4,text:e.toString()}).catch((e=>{t("log","at App.vue:128","设置TabBar徽标失败，可能不在TabBar页面",e)})):uni.removeTabBarBadge({index:4}).catch((e=>{t("log","at App.vue:136","移除TabBar徽标失败，可能不在TabBar页面",e)}))}catch(a){t("log","at App.vue:141","TabBar操作失败，可能不在TabBar页面",a)}},resetUnreadNotificationCount(){this.globalData.unreadNotificationCount=0,this.updateMessageBadge()}}};o();const{app:Jt,Vuex:Xt,Pinia:Qt}=function(){const t=e.createVueApp(Yt);return t.config.globalProperties.$store=$,{app:t}}();uni.Vuex=Xt,uni.Pinia=Qt,Jt.provide("__globalStyles",__uniConfig.styles),Jt._component.mpType="app",Jt._component.render=()=>{},Jt.mount("#app")}(Vue);
